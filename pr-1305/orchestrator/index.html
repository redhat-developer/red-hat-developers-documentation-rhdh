<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="chrometwo"><head><title>Installing Red Hat Developer Hub with the Orchestrator plugin</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css"/><meta name="generator" content="publican v4.3.2"/><meta name="description" content="As a cluster administrator, you can install Red Hat Developer Hub (RHDH) with the Orchestrator plugin enabled."/><link rel="next" href="#assembly-install-rhdh-ocp-operator" title="1. Installing Red Hat Developer Hub with the Orchestrator plugin on OpenShift Container Platform"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><script type="text/javascript" src="Common_Content/scripts/jquery-1.7.1.min.js"> </script><script type="text/javascript" src="Common_Content/scripts/utils.js"> </script><script type="text/javascript" src="Common_Content/scripts/highlight.js/highlight.pack.js"> </script></head><body><div id="chrometwo"><div id="main"><section xml:lang="en-US" class="article" id="idm45905044471248"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Developer Hub</span> <span class="productnumber">1.7</span></div><div><h1 class="title">Installing Red Hat Developer Hub with the Orchestrator plugin</h1></div><div><h3 class="subtitle"><em>Install, configure, and manage Red Hat Developer Hub with the Orchestrator plugin using Helm or the Red Hat Developer Hub Operator</em></h3></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat Customer Content Services</span></div></div><div><a href="#idm45905019766720">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				As a cluster administrator, you can install Red Hat Developer Hub (RHDH) with the Orchestrator plugin enabled.
			</div></div></div></div><hr/></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#assembly-install-rhdh-ocp-operator">1. Installing Red Hat Developer Hub with the Orchestrator plugin on OpenShift Container Platform</a></span><ul><li><span class="section"><a href="#con-orchestrator-plugin-components.adoc_assembly-install-rhdh-ocp-operator">1.1. Orchestrator plugin components</a></span></li><li><span class="section"><a href="#con-understanding-orchestrator-plugin-dependencies.adoc_assembly-install-rhdh-ocp-operator">1.2. Understanding Orchestrator plugin dependencies</a></span></li><li><span class="section"><a href="#proc-install-components-for-orchestrator-plugin.adoc_assembly-install-rhdh-ocp-operator">1.3. Installing the components for the Orchestrator plugin on OpenShift Container Platform</a></span></li><li><span class="section"><a href="#proc-install-orchestrator-plugin.adoc_assembly-install-rhdh-ocp-operator">1.4. Installing the Orchestrator plugin</a></span></li></ul></li></ul></div><p>
		You can install Red Hat Developer Hub (RHDH) using one of the following methods:
	</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
				The Red Hat Developer Hub Operator
			</li><li class="listitem">
				The Red Hat Developer Hub Helm chart
			</li></ul></div><section class="section" id="assembly-install-rhdh-ocp-operator"><div class="titlepage"><div><div><h2 class="title">1. Installing Red Hat Developer Hub with the Orchestrator plugin on OpenShift Container Platform</h2></div></div></div><p>
			As a cluster administrator, you can install Red Hat Developer Hub (RHDH) on OpenShift Container Platform with the Orchestrator plugin, along with the required dynamic plugins and integrated workflow infrastructure such as SonataFlow, Knative, OpenShift Serverless Operator, and OpenShift Serverless Logic Operator.
		</p><section class="section" id="con-orchestrator-plugin-components.adoc_assembly-install-rhdh-ocp-operator"><div class="titlepage"><div><div><h3 class="title">1.1. Orchestrator plugin components</h3></div></div></div><p>
				The following Orchestrator plugin components are included by default in the <code class="literal">dynamic-plugins.default.yaml</code> file:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">@redhat/backstage-plugin-orchestrator</code>
					</li><li class="listitem">
						<code class="literal">@redhat/backstage-plugin-orchestrator-backend-dynamic</code>
					</li><li class="listitem">
						<code class="literal">@redhat/backstage-plugin-scaffolder-backend-module-orchestrator-dynamic</code>
					</li><li class="listitem">
						<code class="literal">@redhat/backstage-plugin-orchestrator-form-widgets</code>
					</li></ul></div></section><section class="section" id="con-understanding-orchestrator-plugin-dependencies.adoc_assembly-install-rhdh-ocp-operator"><div class="titlepage"><div><div><h3 class="title">1.2. Understanding Orchestrator plugin dependencies</h3></div></div></div><p>
				The Orchestrator plugin in RHDH requires components such as SonataFlow and supporting network policies to run. When you enable the plugin in your Backstage custom resource (CR), the Operator automatically provisions these dependencies for you:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						A <code class="literal">SonataflowPlatform</code> CR
					</li><li class="listitem">
						<code class="literal">NetworkPolicies</code> that allow traffic between infrastructure resources (Knative, Serverless Logic Operator), monitoring traffic, and intra-namespace traffic
					</li></ul></div><p>
				The <code class="literal">orchestrator-backend</code> plugin uses the <code class="literal">sonataflow-platform-data-index-service</code>, which the <code class="literal">SonataFlowPlatform</code> CR creates to communicate with the SonataFlow platform.
			</p><p>
				The Operator resolves the dependency reference SonataFlow against the <code class="literal">sonataflow.yaml</code> manifest included in its profile configuration (<code class="literal">config/profile/rhdh/plugin-deps/sonataflow.yaml</code>) and applies it to create the required resources.
			</p><p>
				The Operator automatically applies the <code class="literal">sonataflow.yaml</code> manifest, creating the <code class="literal">SonataFlowPlatform</code> CR and required <code class="literal">NetworkPolicy</code> resources in the Backstage (CR) namespace.
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					The <code class="literal">SonataFlowPlatform</code> CR contains dataIndex service that requires PostgreSQL database as shown in the following example:
				</p><p>
					+
				</p><pre class="programlisting language-yaml">      persistence:
        postgresql:
          secretRef:
            name: backstage-psql-secret-{{backstage-name}}
            userKey: POSTGRES_USER
            passwordKey: POSTGRES_PASSWORD
          serviceRef:
            name: backstage-psql-{{backstage-name}} # Name of the Backstage (CR)
            namespace: {{backstage-ns}} # Namespace where the Backstage (CR) is created
            databaseName: backstage_plugin_orchestrator</pre></div></div><p>
				By default, the Orchestrator plugin dependencies use the following:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The PostgreSQL database named <code class="literal">backstage_plugin_orchestrator</code> created by Backstage
					</li><li class="listitem">
						A Secret created by Backstage Operator for the PostgreSQL with <code class="literal">POSTGRES_USER</code> and <code class="literal">POSTGRES_PASSWORD</code> keys as the database credentials in the Backstage (CR) namespace.
					</li><li class="listitem">
						A Service created by Backstage Operator for the PostgreSQL database with the name <code class="literal">backstage-psql-{{backstage-name}}</code> in the Backstage (CR) namespace.
					</li></ul></div><p>
				For more information about automatic plugin dependency creation when the Backstage (CR) is applied to the cluster, see <a class="link" href="https://github.com/redhat-developer/rhdh-operator/blob/release-1.7/docs/dynamic-plugins.md#dynamic-plugins-dependency-management">Dynamic plugins dependency management</a>.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					To enable the Backstage Operator to work with the SonataFlow platform, its <code class="literal">ServiceAccount</code> must have the appropriate permissions.
				</p><p>
					The Operator automatically creates the required Role and <span class="emphasis"><em>RoleBinding</em></span> resource in <code class="literal">profile/rhdh/plugin-rbac</code> directory.
				</p></div></div></section><section class="section" id="proc-install-components-for-orchestrator-plugin.adoc_assembly-install-rhdh-ocp-operator"><div class="titlepage"><div><div><h3 class="title">1.3. Installing the components for the Orchestrator plugin on OpenShift Container Platform</h3></div></div></div><p>
				To run the Orchestrator plugin successfully on OpenShift Container Platform, you must install components that provide the runtime environment and the dependencies that the plugin requires. The Orchestrator plugin requires these components because they provide the serverless runtime, eventing, and workflow infrastructure that the plugin depends on to function.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						You have installed Red Hat Developer Hub with the Orchestrator plugin on OpenShift Container Platform using the following components to support the plugin and its runtime infrastructure:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								OpenShift Serverless Operator
							</li><li class="listitem">
								Knative Serving
							</li><li class="listitem">
								Knative Eventing
							</li><li class="listitem"><p class="simpara">
								OpenShift Serverless Logic Operator
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									The Red Hat Developer Hub Operator provisions these components automatically. Alternatively, you can install them manually by using another Operator.
								</p></div></div></li></ul></div></li></ul></div><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
					To install components (Operators) that provide the dependencies required by the Orchestrator plugin on OpenShift Container Platform, use the following methods:
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Manual installation
					</li><li class="listitem">
						RHDH helper script
					</li><li class="listitem"><p class="simpara">
						RHDH Orchestrator Infra Helm Chart
					</p><p class="simpara">
						These components enable the creation of the <code class="literal">SonataFlowPlatform</code> custom resource and several supporting <code class="literal">NetworkPolicy</code> resources.
					</p></li></ul></div><div class="formalpara"><p class="title"><strong>Manual installation</strong></p><p>
					Use manual installation for production environments. Choose this method when you have installed the required components versions, such as when other applications are using OpenShift Serverless.
				</p></div><p>
				For more information on preparing the required infrastructure, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_openshift_serverless/1.36">Red Hat OpenShift Serverless</a> to do the following:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Prepare for OpenShift Serverless installation
					</li><li class="listitem">
						Install the OpenShift Serverless Operator
					</li><li class="listitem">
						Install Knative Serving
					</li><li class="listitem">
						Install Knative Eventing
					</li><li class="listitem">
						Install the OpenShift Serverless Logic Operator
					</li></ul></div><div class="formalpara"><p class="title"><strong>RHDH helper script</strong></p><p>
					You can install the OpenShift Serverless infrastructure for the Orchestrator plugin using the RHDH helper script. You can use the script in empty clusters, however, use with caution in production clusters because the script installs Operators with automatic upgrades and default settings, which can introduce unplanned changes, version conflicts, or policy misalignments.
				</p></div><p>
				For more information on controlling the installation of the Operators, see <a class="link" href="https://olm.operatorframework.io/docs/tasks/install-operator-with-olm/">Install your Operator with OLM</a>.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Download the <code class="literal">plugin-infra.sh</code> script as shown in the following example:
					</p><pre class="programlisting language-yaml">curl -sSLO https://raw.githubusercontent.com/redhat-developer/rhdh-operator/refs/heads/release-${PRODUCT_VERSION}/config/profile/rhdh/plugin-infra/plugin-infra.sh # Specify the Red Hat Developer Hub version in the URL or use main</pre></li><li class="listitem"><p class="simpara">
						Run the script as shown in the following example:
					</p><pre class="programlisting language-shell">./plugin-infra.sh</pre></li></ol></div><div class="formalpara"><p class="title"><strong>RHDH Orchestrator Infra Helm Chart</strong></p><p>
					You can use RHDH Orchestrator Infra Helm Chart in empty clusters. Use with caution in production clusters because RHDH Orchestrator Infra Helm Chart installs Operators with automatic upgrades and default settings, which might introduce unplanned changes, version conflicts, or policy misalignments.
				</p></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Install the required components using the Orchestrator infrastructure Helm chart.
					</li></ol></div></section><section class="section" id="proc-install-orchestrator-plugin.adoc_assembly-install-rhdh-ocp-operator"><div class="titlepage"><div><div><h3 class="title">1.4. Installing the Orchestrator plugin</h3></div></div></div><p>
				You can enable the Orchestrator plugin in RHDH by configuring dynamic plugins in your Backstage custom resource (CR).
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have installed RHDH on OpenShift Container Platform.
					</li><li class="listitem">
						You have access to edit or create ConfigMaps in the namespace where the Backstage CR is deployed.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Identify the Orchestrator plugin dynamic plugins that are included by default in the default <code class="literal">dynamic-plugins.yaml</code> file of the <code class="literal">install-dynamic-plugins</code> container:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">@redhat/backstage-plugin-orchestrator</code> (frontend)
							</li><li class="listitem">
								<code class="literal">@redhat/backstage-plugin-orchestrator-backend-dynamic</code> (backend)
							</li><li class="listitem">
								<code class="literal">@redhat/backstage-plugin-scaffolder-backend-module-orchestrator-dynamic</code>
							</li><li class="listitem">
								<code class="literal">@redhat/backstage-plugin-orchestrator-form-widgets</code>
							</li></ul></div></li><li class="listitem"><p class="simpara">
						To enable the Orchestrator plugin, update the <code class="literal">dynamic-plugins-rhdh</code> ConfigMap file with the following data:
					</p><pre class="programlisting language-yaml">    includes:
       - dynamic-plugins.default.yaml
    plugins:
       - package: "@redhat/backstage-plugin-orchestrator@1.6.0"
         disabled: false
       - package: "@redhat/backstage-plugin-orchestrator-backend-dynamic@1.6.0"
         disabled: false
         dependencies:
            - ref: sonataflow
       - package: "@redhat/backstage-plugin-scaffolder-backend-module-orchestrator-dynamic@1.6.0"
         disabled: false
      - package: "@redhat/backstage-plugin-orchestrator-form-widgets@${ORCHESTRATOR_PLUGIN_VERSION}"
         disabled: false</pre></li></ol></div><p>
				The following is an example of the complete configuration of the Orchestrator plugin:
			</p><pre class="programlisting language-yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: orchestrator-plugin
data:
  dynamic-plugins.yaml: |
    includes:
      - dynamic-plugins.default.yaml
    plugins:
      - package: "@redhat/backstage-plugin-orchestrator@1.6.0"
        disabled: false
      - package: "@redhat/backstage-plugin-orchestrator-backend-dynamic@1.6.0"
        disabled: false
        dependencies:
          - ref: sonataflow
      - package: "@redhat/backstage-plugin-scaffolder-backend-module-orchestrator-dynamic@1.6.0"
        disabled: false
      - package: "@redhat/backstage-plugin-orchestrator-form-widgets@1.6.0"
        disabled: false

apiVersion: v1
kind: ConfigMap
metadata:
  name: app-config-rhdh
data:
  app-config-rhdh.yaml: |-
    auth:
      environment: development
      providers:
        guest:
          # using the guest user to query the '/api/dynamic-plugins-info/loaded-plugins' endpoint.
          dangerouslyAllowOutsideDevelopment: true

apiVersion: rhdh.redhat.com/v1alpha3
kind: Backstage
metadata:
  name: orchestrator
spec:
  application:
    appConfig:
      configMaps:
        - name: app-config-rhdh
    dynamicPluginsConfigMapName: orchestrator-plugin</pre><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						In the RHDH console, confirm that the Orchestrator frontend and backend features are available.
					</li></ul></div></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm45905019766720"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"/>© 2025 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></section></div></div><script type="text/javascript">
                        jQuery(document).ready(function() {
                            initSwitchery();
                            jQuery('pre[class*="language-"]').each(function(i, block){hljs.highlightBlock(block);});
                        });
                    </script></body></html>