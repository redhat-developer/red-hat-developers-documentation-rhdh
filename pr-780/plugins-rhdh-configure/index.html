<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.16">
<title>Configuring dynamic plugins</title>
<style>
/* Red Hat Fonts */
@font-face {
  font-family: 'Red Hat Display';
  src: url("https://redhatofficial.github.io/RedHatFont/RedHatDisplay/RedHatDisplayVF.woff2") format('woff2-variations');
  font-weight: 300 900;
  font-style: normal;
  font-display: fallback;
}
@font-face {
  font-family: 'Red Hat Display';
  src: url("https://redhatofficial.github.io/RedHatFont/RedHatDisplay/RedHatDisplayVF-Italic.woff2") format('woff2-variations');
  font-weight: 300 900;
  font-style: italic;
  font-display: fallback;
}
@font-face {
  font-family: 'Red Hat Text';
  src: url("https://redhatofficial.github.io/RedHatFont/RedHatText/RedHatTextVF.woff2") format('woff2-variations');
  font-weight: 300 700;
  font-style: normal;
  font-display: fallback;
}
@font-face {
  font-family: 'Red Hat Text';
  src: url("https://redhatofficial.github.io/RedHatFont/RedHatText/RedHatTextVF-Italic.woff2") format('woff2-variations');
  font-weight: 300 700;
  font-style: italic;
  font-display: fallback;
}
@font-face {
  font-family: 'Red Hat Mono';
  src: url("https://redhatofficial.github.io/RedHatFont/RedHatMono/RedHatMonoVF.woff2") format('woff2-variations');
  font-weight: 300 700;
  font-style: normal;
  font-display: fallback;
}
@font-face {
  font-family: 'Red Hat Mono';
  src: url("https://redhatofficial.github.io/RedHatFont/RedHatMono/RedHatMonoVF-Italic.woff2") format('woff2-variations');
  font-weight: 300 700;
  font-style: italic;
  font-display: fallback;
}

/* Positioning toc and content */
@media screen and (min-width: 768px) {
  body.toc2 {
    padding-left: 400px;
    padding-right: 0;
  }
}
@media screen and (min-width: 768px) {
  #toc.toc2 {
    margin-top: 0 !important;
    position: fixed;
    width: 319px;
    left: 0;
    top: 0;
    border-right: 1px solid #e7e7e9;
    border-top-width: 0 !important;
    border-bottom-width: 0 !important;
    z-index: 1000;
    padding: 1.25em 1em;
    height: 100%;
    overflow: auto;
  }
}

/* Style borrowed from docs.redhat.com and adapted to the HTML structure */

#toc.toc2 {
  background:#f2f2f2;
  justify-content:space-between;
  margin:1rem 0 2rem;
  padding:1rem
}
#toctitle {
  font-size:1.25rem;
  font-weight:400;
  line-height:1.6667;
  margin-top:0;
  text-transform:none
}
#toc li {
  margin-bottom:.25em;
  padding-left:0;
  list-style:none;
}
#toc a,
#toc a:visited {
  color:black;
  display:inline-block;
  text-decoration:none;
}

.sectlevel1 {
  padding-left:0;
}

.sectlevel2,
.sectlevel3,
.sectlevel4,
.sectlevel5 {
  padding-left:1em;
}

h3 {
  color:#464646;
  font-family:var(--rh-font-family-heading,"Red Hat Display",Helvetica,Arial,sans-serif);
  font-size:var(--rh-font-size-body-text-lg,1.125rem)
}

li {
  display:list-item;
  margin:0;
  padding:0;
  text-align:-webkit-match-parent
}

*,
:after,
:before,
:after,
:before {
  box-sizing:border-box
}
img,
object,
svg,
img,
object,
svg {
  display:inline-block;
  max-width:100%;
  vertical-align:middle
}
hr {
  border:0;
  border-top:.0625rem solid #d2d2d2;
  clear:both;
  margin:1rem 0
}
a {
  color:#06c;
  text-decoration:underline
}
a:focus,
a:hover {
  color:#036
}
p {
  margin:1.49963rem 0
}
li>p {
  margin:0
}
h1,
h2,
h3,
h4,
h5,
h6 {
  font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;
  font-weight:400;
  margin:0 0 .625rem;
  color:#464646;
}
h1 {
  font-size:2rem;
  margin:2rem 0
}
h2 {
  font-size:2rem;
  margin:2rem 0
}
h3 {
  font-size:1.65rem;
  font-weight:400
}
h4 {
  font-size:1.5rem
}
h5 {
  font-size:1.25rem
  font-weight:400
}
h6 {
  font-size:1.125rem;
  font-weight:500;
  line-height:1.6667
}
ol ::marker,
ul ::marker {
  font:inherit
}
li {
  margin:0 0 .5em;
  padding:0
}
li>p {
  margin:.5rem 0
}
li>ol,
li>ul {
  margin:0
}
dl dd {
  margin:.5rem 0 .5rem 1rem
}
dl dd>p {
  margin:.5rem 0
}
.informaltable,
.table-contents,
.table-wrapper {
  max-height:var(--rh-table--maxHeight);
  overflow:auto
}
table {
  border:0;
  font-size:1rem;
  line-height:1.6667;
  /* commented out as it breaks on Safari on Mac // table-layout:fixed */
}
table caption {
  color:#585858;
  margin-bottom:.5rem;
  margin-top:.5rem;
  text-align:left
}
table td,
table th {
  border:0;
  border-bottom:.0625rem solid #d2d2d2;
  border-bottom:.0625rem solid var(--pfe-table--Border,#d2d2d2);
  padding:.5em 1rem
}
table td.halign-left,
table th.halign-left {
  text-align:left
}
table td.halign-center,
table th.halign-center,
table td.halign-center,
table th.halign-center {
  text-align:center
}
table td.halign-right,
table th.halign-right {
  text-align:right
}
table td.valign-top,
table th.valign-top {
  vertical-align:top
}
table td.valign-middle,
table th.valign-middle {
  vertical-align:middle
}
table td.valign-bottom,
table th.valign-bottom {
  vertical-align:bottom
}
table thead td,
table thead th {
  background:#f5f5f5;
  font-weight:600
}
rh-table table,
rh-table.rh-table--expanded-vertically {
  max-height:-moz-max-content;
  max-height:max-content
}
pre.nowrap {
  overflow:auto;
  overflow-wrap:normal;
  white-space:pre;
  word-break:normal
}
.listingblock pre {
  background:transparent
}

[class] pre code {
  background:inherit;
  color:inherit;
  font-family:inherit;
  font-size:inherit;
  font-weight:inherit;
  line-height:inherit;
  padding:0
}
.keycap,
kbd {
  background-color:#eee;
  background-image:linear-gradient(180deg,#ddd,#eee,#fff);
  border-radius:.1875rem;
  box-shadow:0 -.0625rem #fff,0 .0625rem 0 .1875rem #aaa;
  font-family:RedHatMono,Red Hat Mono,Consolas,monospace;
  font-size:90%;
  font-weight:400;
  margin:0 .25rem;
  padding:.125rem .375rem
}
.keycap strong,
.keycap strong {
  font-weight:inherit
}
kbd.keyseq,
kbd.keyseq {
  background:transparent;
  border:0;
  box-shadow:none;
  padding:0
}
kbd.keyseq kbd,
kbd.keyseq kbd {
  display:inline-block;
  margin:0 .375rem
}
kbd.keyseq kbd:first-child,
kbd.keyseq kbd:first-child {
  margin-left:0
}
b.button {
  font-size:90%;
  font-weight:700;
  padding:.1875rem
}
b.button:before {
  content:"["
}
b.button:after {
  content:"]"
}
html {
  font-family:sans-serif;
  -ms-text-size-adjust:100%;
  -webkit-text-size-adjust:100%
}
body {
  margin:0
}
audio,
canvas,
progress,
video {
  display:inline-block;
  vertical-align:baseline
}
audio:not([controls]) {
  display:none;
  height:0
}
[hidden],
template {
  display:none
}
a {
  background:transparent
}
a:active,
a:hover {
  outline:0
}
abbr[title] {
  border-bottom:.0625rem dotted
}
dfn {
  font-style:italic
}

mark {
  background:#ff0;
  color:#000
}
small {
  font-size:80%
}
sub,
sup {
  font-size:75%;
  line-height:0;
  position:relative;
  vertical-align:baseline
}
sup {
  top:-.5em
}
sub {
  bottom:-.25em
}
img {
  border:0
}
svg:not(:root) {
  overflow:hidden
}
figure {
  margin:1em 2.5rem
}
hr {
  box-sizing:content-box;
  height:0
}
code,
kbd,
pre,
samp {
  font-family:monospace,monospace;
  font-size:1em
}
button,
optgroup,
select,
textarea,
.rhdocsinput {
  color:inherit;
  font:inherit;
  margin:0
}
button {
  overflow:visible
}
button,
select {
  text-transform:none
}
button,
html input[type=button],
input[type=reset],
input[type=submit] {
  -moz-appearance:button;
  appearance:button;
  -webkit-appearance:button;
  cursor:pointer
}
button[disabled],
html input[disabled] {
  cursor:default
}
button::-moz-focus-inner,
input::-moz-focus-inner {
  border:0;
  padding:0
}
input {
  line-height:normal
}
input[type=checkbox],
input[type=radio] {
  box-sizing:border-box;
  padding:0
}
input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button {
  height:auto
}
input[type=search] {
  -moz-appearance:textfield;
  appearance:textfield;
  -webkit-appearance:textfield;
  box-sizing:content-box
}
input[type=search]::-webkit-search-cancel-button,
input[type=search]::-webkit-search-decoration {
  -webkit-appearance:none
}
fieldset {
  border:.0625rem solid silver;
  margin:0 .125rem;
  padding:.35em .625em .75em
}
legend {
  border:0;
  padding:0
}
textarea {
  overflow:auto
}
optgroup {
  font-weight:700
}
table {
  border-collapse:collapse;
  border-spacing:0
}
td,
th {
  padding:0
}

.admonitionblock>div:nth-child(2),
.caution>div:nth-child(2),
.important>div:nth-child(2),
.note>div:nth-child(2),
.tip>div:nth-child(2),
.warning>div:nth-child(2) {
  margin:.5rem 0
}
.admonitionblock>div:nth-child(2)>:first-child,
.caution>div:nth-child(2)>:first-child,
.important>div:nth-child(2)>:first-child,
.note>div:nth-child(2)>:first-child,
.tip>div:nth-child(2)>:first-child,
.warning>div:nth-child(2)>:first-child {
  margin-top:0
}
.admonitionblock>div:nth-child(2)>:last-child,
.caution>div:nth-child(2)>:last-child,
.important>div:nth-child(2)>:last-child,
.note>div:nth-child(2)>:last-child,
.tip>div:nth-child(2)>:last-child,
.warning>div:nth-child(2)>:last-child {
  margin-bottom:0
}
.listingblock+.listingblock,
pre+pre,
pre[class]+pre[class] {
  margin-top:2rem
}
.listingblock {
  background:#f8f8f8;
  overflow:visible;
  position:relative;
  transform:translate(0);
  z-index:0;
  border: 1px solid grey;
  border-radius:.1rem;
}
.listingblock:before {
  background-repeat:no-repeat;
  background-size:6.25rem 100%;
  bottom:var(--scrollbar__height,1px);
  content:"";
  display:block;
  height:7.125rem;
  max-height:100%;
  max-height:calc(100% - var(--scrollbar__height, 2px));
  position:absolute;
  right:var(--scrollbar__width,6px);
  top:.0625rem;
  width:4.0625rem;
  z-index:1
}

.colist>ol {
  counter-reset:colist;
  list-style:none;
  margin:1rem 0 2rem;
  padding:0
}
.colist>ol>li {
  counter-increment:colist;
  margin:.5rem 0;
  padding-left:1.75rem;
  position:relative;
}
.colist>ol>li:before {
  content:counter(colist);
  left:0;
  position:absolute;
  top:.1875rem
}
.colist>ol>li:before,
.conum {
  background:#06c;
  border-radius:50%;
  color:#fff;
  display:inline-block;
  font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;
  font-style:normal;
  font-weight:600;
  height:1.25rem;
  line-height:1.35rem;
  padding:0;
  text-align:center;
  top:-.125em;
  vertical-align:middle;
  width:1.25rem
}
.colist div.paragraph {
  margin:0
}

rh-table {
  display:block
}
::-webkit-scrollbar,
:host ::-webkit-scrollbar {
  height:.625rem;
  width:.625rem
}
::-webkit-scrollbar,
::-webkit-scrollbar-track,
:host ::-webkit-scrollbar,
:host ::-webkit-scrollbar-track {
  background-color:#d6d6d6
}
::-webkit-scrollbar-thumb,
:host ::-webkit-scrollbar-thumb {
  background-color:#8e8e8e
}
*,
:host * {
  scrollbar-color:#8e8e8e #d6d6d6
}
p:empty,
p:empty {
  display:none
}
.book {
  font-size: var(--rh-font-size-body-text-lg,1.125rem);
  font-weight: var(--rh-font-weight-body-text-regular,400);
  line-height: 1.6667;
  padding-left: 6rem;
  padding-right: 6rem;
  padding-top: var(--rh-space-3xl,4rem);
  max-width: 1400px;
}

.book[class] h1 code,
.book[class] h2 code,
.book[class] h3 code,
.book[class] h4 code,
.book[class] h5 code,
.book[class] h6 code,
[class] h1 code,
[class] h2 code,
[class] h3 code,
[class] h4 code,
[class] h5 code,
[class] h6 code {
  background:transparent;
  border:0;
  color:inherit;
  font:inherit;
  margin:0;
  padding:0
}
details[class] {
  list-style:none;
  margin:1rem 0 3rem;
  padding:0
}

.preamble {
  margin:0 0 2rem
}
.sect1 {
  margin:2rem 0 1rem
}
:host .sect1,
cp-documentation .sect1 {
  margin:0 0 2rem;
  padding:.0625rem 0 0
}
:host(.cp-documentation--has-external-header) .sect1:first-child>h2:first-child,
:host(.cp-documentation--has-external-header) .sect1:first-child>h3:first-child {
  margin-top:0
}
.listingblock,
.literalblock {
  margin:1rem 0
}
.quoteblock,
.verseblock {
  border-left:.25rem solid #d2d2d2;
  margin:1rem 0;
  padding:1rem 1rem 1rem 2rem
}
.quoteblock.pullleft,
.verseblock.pullleft {
  float:left;
  margin-right:3rem;
  width:25rem
}
@media (min-width:768px) {
  .quoteblock.pullleft,
  .verseblock.pullleft {
    margin-left:-1rem
  }
}
.quoteblock.pullright,
.verseblock.pullright {
  float:right;
  margin-left:3rem;
  width:25rem
}
@media (min-width:768) {
  .quoteblock.pullright,
  .verseblock.pullright {
    margin-right:-2rem
  }
}
@media (min-width:1100px) {
  .quoteblock.pullright,
  .verseblock.pullright {
    margin-right:-10rem
  }
}
.quoteblock>:first-child,
.verseblock>:first-child {
  margin-top:0
}
.quoteblock .content,
.verseblock .content {
  font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;
  font-size:1.25rem;
  line-height:1.6667
}
.quoteblock .attribution,
.verseblock .attribution {
  font-size:.875rem;
  font-style:italic;
  font-weight:600;
  line-height:1.6667;
  text-transform:uppercase
}
.quoteblock .attribution .citetitle,
.verseblock .attribution .citetitle {
  color:#585858
}
.quoteblock .attribution cite,
.verseblock .attribution cite {
  font-size:1em
}
.quoteblock blockquote {
  font-style:italic;
  margin:0;
  padding:0
}
.quoteblock blockquote .content>:first-child {
  margin-top:0
}
.quoteblock blockquote .content>:first-child:before {
  color:#e00;
  content:"â€œ";
  display:block;
  float:left;
  font-size:2.75rem;
  font-style:normal;
  line-height:1.125em;
  margin-right:.5rem
}
.quoteblock blockquote .content>:first-child .content>:first-child:before {
  content:none
}
.imageblock {
  margin:1rem 0
}
.imageblock.pullleft {
  float:left;
  margin-right:3rem;
  width:25rem
}
@media (min-width:768px) {
  .imageblock.pullleft {
    margin-left:-1rem
  }
}
.imageblock.pullright {
  float:right;
  margin-left:3rem;
  width:25rem
}
@media (min-width:768) {
  .imageblock.pullright {
    margin-right:-2rem
  }
}
@media (min-width:1100px) {
  .imageblock.pullright {
    margin-right:-10rem
  }
}
.imageblock.interrupter {
  margin:2rem 0
}
@media (min-width:768px) {
  .imageblock.interrupter {
    margin-left:-1rem;
    margin-right:-2rem
  }
  .imageblock.interrupter .caption {
    margin-left:1rem;
    margin-right:2rem
  }
}
@media (min-width:1100px) {
  .imageblock.interrupter {
    margin-right:-10rem
  }
  .imageblock.interrupter .caption {
    margin-right:10rem
  }
}
.imageblock.interrupter img {
  max-width:100%
}
.imageblock .caption {
  color:#585858;
  display:block;
  font-size:.875rem;
  line-height:1.6667;
  margin:.5rem 0 0
}
.rhdocs-footnotes {
  border-top:.0625rem solid #d2d2d2;
  margin:3rem 0 1rem;
  padding:1rem 0 0
}
.rhdocs-footnotes>ol {
  margin:0;
  padding:0 0 0 1.5rem
}
@supports (counter-reset:footnotenum) {
  .rhdocs-footnotes>ol {
    counter-reset:footnotenum;
    list-style:none;
    padding:0
  }
  .rhdocs-footnotes>ol>li {
    counter-increment:footnotenum
  }
  .rhdocs-footnotes>ol>li:before {
    color:#585858;
    content:"[" counter(footnotenum) "]";
    display:inline-block;
    margin-right:.25rem
  }
}
#footer {
  background:#ededed;
  color:#151515;
  font-size:.875rem;
  line-height:1.6667;
  margin:3rem 0 0;
  padding:1rem
}
.center {
  margin-left:auto;
  margin-right:auto
}
.stretch {
  width:100%
}

pre,
pre[class] {
  margin:0;
  padding:1.25em 1em;
  position:relative
}
code[class*=language-],
pre[class*=language-] {
  color:#151515;
  -moz-tab-size:4;
  -o-tab-size:4;
  tab-size:4
}
code.language-none,
code.language-text,
code.language-txt,
pre.language-none,
pre.language-text,
pre.language-txt {
  color:#151515
}
code[class*=language-] ::-moz-selection,
code[class*=language-]::-moz-selection,
pre[class*=language-] ::-moz-selection,
pre[class*=language-]::-moz-selection {
  background:#cceae7;
  color:#263238
}
code[class*=language-] ::selection,
code[class*=language-]::selection,
pre[class*=language-] ::selection,
pre[class*=language-]::selection {
  background:#cceae7;
  color:#263238
}
:not(pre)>code[class*=language-] {
  border-radius:.2em;
  padding:.1em;
  white-space:normal
}
.token.atrule {
  color:#40199a
}
.token.attr-name {
  color:#06c
}
.token.attr-value,
.token.attribute {
  color:#b300b3
}
.token.boolean {
  color:#40199a
}
.token.builtin,
.token.cdata,
.token.char,
.token.class,
.token.class-name {
  color:#06c
}
.token.comment {
  color:#6a6e73
}
.token.constant {
  color:#40199a
}
.token.deleted {
  color:#c9190b
}
.token.doctype {
  color:#6a6e73
}
.token.entity {
  color:#c9190b
}
.token.function {
  color:#40199a
}
.token.hexcode {
  color:#b300b3
}
.token.id,
.token.important {
  color:#40199a;
  font-weight:700
}
.token.inserted {
  color:#06c
}
.token.keyword {
  color:#40199a
}
.token.number {
  color:#b300b3
}
.token.operator {
  color:#06c
}
.token.prolog {
  color:#6a6e73
}
.token.property {
  color:#06c
}
.token.pseudo-class,
.token.pseudo-element {
  color:#b300b3
}
.token.punctuation,
.token.regex {
  color:#06c
}
.token.selector {
  color:#c9190b
}
.token.string {
  color:#b300b3
}
.token.symbol {
  color:#40199a
}
.token.unit {
  color:#b300b3
}
.token.url,
.token.variable {
  color:#c9190b
}

@media print {
  .field code,
  .field pre,
  code[class*=language-],
  pre,
  pre[class*=language-] {
    white-space:pre-wrap!important;
    word-wrap:break-word!important;
    overflow-wrap:break-word!important;
    word-break:break-word!important
  }
}

.book>.titlepage:not(:last-child),
.chapter,
section[id] {
  padding-bottom:3.75rem
}
.book>.titlepage .chapter:last-child,
.book>.titlepage section[id]:last-child,
.chapter .chapter:last-child,
.chapter section[id]:last-child,
section[id] .chapter:last-child,
section[id] section[id]:last-child {
  margin-bottom:-3.75rem
}
.listingblock+section[id],
pre+section[id] {
  padding-top:3.75rem
}
.cta-link {
  font-size:inherit
}
a {
  word-wrap:break-word;
  overflow-wrap:break-word
}
.caution,
.important,
.note,
.tip,
.warning {
  padding:.8888888889em;
  position:relative
}
.caution {
  background-color:#fff4cc;
  border-top:2px solid #dca614
}
.important {
  background-color:#fff4cc;
  border-top:2px solid #dca614
}
.note {
  background-color:#e0f0ff;
  border-top:2px solid #4394e5
}
.tip {
  background-color:#e0f0ff;
  border-top:2px solid #4394e5
}
.warning {
  background-color:#fff4cc;
  border-top:2px solid #dca614
}
.book>.titlepage,
.chapter,
section[id] {
  padding-bottom:var(--rh-space-4xl,64px)
}

.titlepage .svg-img[data*="title_logo.svg"] {
  margin:1.5rem 0;
  width:15rem
}
.paragraph {
  margin:1.49963rem 0
}
.paragraph[class] {
  margin-bottom:1.49963rem
}
dd {
  margin-bottom:2.5rem
}

.example {
  border-left:.3125rem solid #ccc;
  margin-bottom:2rem;
  padding:1rem 0 1rem 1rem
}

.annotator-outer[class][class] {
  display:none;
  flex-direction:column;
  flex-grow:1;
  height:auto;
  margin:0;
  position:static;
  width:auto
}
@media (min-width:1400px) {
  .annotator-outer[class][class] {
    display:flex
  }
}

.producttitle {
  color:#000;
  font-size:1.25rem;
  text-transform:uppercase
}
.title {
  font-size:1rem;
  font-style:normal;
  font-weight:700;
  line-height:1.6667;
  margin:1.25rem 0 0;
  text-transform:none
}
.paragraph>.title[class]+.content>:first-child,
.paragraph>.title[class]+p,
p.title[class]+.content>:first-child,
p.title[class]+p {
  margin-top:0
}
[class] pre .caution,
[class] pre .important,
[class] pre .note,
[class] pre .tip,
[class] pre .warning {
  background:transparent;
  border:0;
  color:inherit;
  font:inherit;
  margin:0;
  padding:0
}
[class] pre .caution:after,
[class] pre .important:after,
[class] pre .note:after,
[class] pre .tip:after,
[class] pre .warning:after {
  content:none
}
[class] code.email {
  background-color:transparent;
  font:inherit;
  padding:0
}
[class] .author {
  margin-bottom:1.5rem
}
[class] .author .author {
  margin-bottom:0
}
table {
  margin:2rem 0
}
[class] table {
  width:auto
}
table .table-contents table {
  max-width:100%;
  overflow:auto
}
rh-table table {
  margin:0;
  max-width:9999em;
  overflow:visible
}
td,
th {
  border-left:0;
  padding:.5em 1rem;
  transition:background .25s ease-out
}
td.content--md[class][class],
th.content--md[class][class] {
  min-width:13em
}
td.content--lg[class][class],
th.content--lg[class][class] {
  min-width:20em
}
thead th {
  padding-top:1.5em
}
caption {
  color:currentColor;
  color:var(--pfe-table__caption--Color,currentColor);
  font-weight:700;
  margin-bottom:.5rem;
  margin-top:.5rem;
  text-align:center
}
.revhistory table td,
.revhistory table th {
  border-color:transparent
}
.revhistory table td {
  padding:.625rem .875rem
}
.revhistory table.simplelist {
  margin:0
}
@media print {
  #masthead {
    display:none!important
  }
}
.rh-table--is-full-screen #to-top {
  display:none
}
body {
  --rh-table--maxHeight: calc(100vh - 6.25rem) ;
  color:#151515;
  background-color:white;
  font-family:var(--rh-font-family-body-text,RedHatText,"Red Hat Text","Noto Sans Arabic","Noto Sans Hebrew","Noto Sans JP","Noto Sans KR","Noto Sans Malayalam","Noto Sans SC","Noto Sans TC","Noto Sans Thai",Helvetica,Arial,sans-serif);
  font-size:var(--rh-body-copy-lage,1.125rem);
  line-height:1.6667;
  -moz-tab-size:4;
  -o-tab-size:4;
  tab-size:4
}
rh-codeblock::slotted(#content) {
  border-radius:.25rem;
  padding:var (--rh-space-lg,16px)
}
rh-codeblock .screen {
  display:grid;
  grid-template-columns:1fr 4.375rem
}
rh-codeblock[class][class][class][class][class] {
  max-width:99999em
}
pre {
  border:0;
  max-height:-moz-max-content;
  max-height:max-content
}
pre,
pre[class] {
  margin:0;
  padding:1.25em 1em;
  position:relative
}
rh-code-block>div.codeblock__inner-wrapper>pre,
rh-code-block>div.codeblock__inner-wrapper>pre[class] {
  margin:0;
  padding:0;
  position:relative
}
code[class*=language-],
pre[class*=language-] {
  color:#151515;
  -moz-tab-size:4;
  -o-tab-size:4;
  tab-size:4
}
code.literal {
  background:#eee;
  border-radius:.25rem;
  color:#000;
  font-size:.875rem;
  line-height:1.6667;
  overflow-wrap:break-word;
  padding:.125em .5em;
  word-break:break-word
}
code.literal,
kbd,
span.keycap {
  font-family:RedHatMono,Red Hat Mono,Consolas,monospace
}
kbd,
span.keycap {
  background-color:#eee;
  background-image:linear-gradient(180deg,#ddd,#eee,#fff);
  border-radius:.1875rem;
  box-shadow:0 -.0625rem #fff,0 .0625rem 0 .1875rem #aaa;
  font-size:90%;
  font-weight:400;
  margin:0 .25rem;
  padding:.125rem .375rem
}
ol,
ul {
  margin:1rem 0;
  padding:0 0 0 1.5rem
}
._additional-resources[class][class],
._additional-resources[class][class][id]:last-child {
  background:#fff;
  border:.0625rem solid #d2d2d2;
  border-radius:.1875rem;
  margin:2em 0 4em;
  padding:2rem 2rem 1rem
}
._additional-resources[class][class] ul {
  border:0;
  list-style:none;
  margin:0;
  padding:0;
  position:relative
}
._additional-resources[class][class] li {
  border-bottom:.0625rem solid #d2d2d2;
  box-sizing:content-box;
  margin:0;
  padding:1rem 1.5rem 1rem 0;
  -moz-column-break-inside:avoid;
  break-inside:avoid
}
._additional-resources[class][class] li:last-child {
  border:0
}
section.section#additional_resource .additional-resources__heading,
section.section#additional_resource .heading,
section.section#additional_resource h1,
section.section#additional_resource h2,
section.section#additional_resource h3,
section.section#additional_resource h4,
section.section#additional_resource h5,
section.section#additional_resource h6,
section.section#additional_resource p.title {
  display:block;
  font-family:RedHatDisplay,Red Hat Display,Helvetica Neue,Arial,sans-serif;
  font-size:1.125rem;
  font-weight:700;
  line-height:1.5rem;
  margin:0 0 .5rem;
  padding:0;
  text-transform:uppercase
}
section.section:first-of-type {
  margin-top:var(--rh-space-4xl,64px)
}
section.section p {
  margin-bottom:var(--rh-space-lg,16px);
  margin-top:0
}


dl {
  display:block;
  margin-block-end:1em;
  margin-block-start:1em;
  margin-inline-end:0;
  margin-inline-start:0
}
.paragraph {
  margin:1.49963rem 0
}
img,
object,
svg {
  display:inline-block;
  max-width:100%;
  vertical-align:middle
}
.titlepage .svg-img[data*="title_logo.svg"] {
  margin:1.5rem 0;
  width:15rem
}
.book[class] .author {
  margin-bottom:1.5rem
}
.book[class] .author .author {
  margin-bottom:0
}
.paragraph>.title[class],
p.title[class] {
  font-size:1rem;
  font-style:normal;
  font-weight:700;
  line-height:1.6667;
  margin:1.25rem 0 0
}
.example {
  border-left:.3125rem solid #ccc;
  margin-bottom:2rem;
  padding:1rem 0 1rem 1rem
}
code {
  background:#eee;
  color:#000;
  font-family:RedHatMono,Red Hat Mono,Consolas,monospace;
  font-size:.875rem;
  line-height:1.6667;
  overflow-wrap:break-word;
  padding:.125em .5em;
  word-break:break-word
}
.paragraph[class] {
  margin-bottom:1.49963rem
}
.book[class] code.email {
  background-color:transparent;
  font:inherit;
  padding:0
}

.producttitle {
  color:#000;
  font-size:1.25rem;
  text-transform:uppercase
}
dl {
  margin:1rem 0
}
dl dt {
  font-weight:600;
  margin:.5rem 0
}
ol ol {
  list-style:lower-roman
}
.codeblock--processed pf-clipboard-copy::part(input),
.codeblock--processed pf-clipboard-copy::part(span) {
  display:none
}
.token.tag {
  color:#c9190b
}

.admonitionblock {
  margin-bottom:var(--rh-space-lg,1rem)
}
.guibutton,
.guimenu,
.guimenuitem {
  font-weight:700
}
.guibutton {
  font-size:90%;
  padding:.1875rem
}
.guibutton:before {
  content:"["
}
.guibutton:after {
  content:"]"
}
.book,
{
  --rh-table--maxHeight: calc(100vh - 6.25rem) ;
  color:#151515;
  font-family:RedHatText,Red Hat Text,Helvetica Neue,Arial,sans-serif;
  font-size:1.125rem;
  line-height:1.6667;
  -moz-tab-size:4;
  -o-tab-size:4;
  tab-size:4
}
pre[hidden] {
  display:none
}
.listingblock {
  background:var(--rh-color-surface-lighter,#f2f2f2);
  margin:1rem 0;
  overflow:visible;
  position:relative;
  transform:translate(0);
  z-index:0
}
nopre {
  display:block;
  font-size:.8125rem;
  line-height:1.42857;
  margin:0 0 .625rem;
  word-break:break-all;
  word-wrap:break-word;
  background-color:var(--rh-color-surface-lighter,#f2f2f2);
  border:.0625rem solid #ccc;
  border-radius:.25rem;
  color:#333
}
.book pre,
pre {
  background:var(--rh-color-surface-lighter,#f2f2f2);
  color:#151515;
  font-family:RedHatMono,Red Hat Mono,Consolas,monospace;
  font-size:.875rem;
  line-height:1.6667;
  overflow-wrap:normal;
  white-space:pre;
  word-break:normal
}
pre[class] {
  line-height:1.6667;
  overflow-x:auto
}
*,
:after,
:before {
  box-sizing:border-box
}
:root {
  --rh-space-xs:4px;
  --rh-space-sm:6px;
  --rh-space-md:8px;
  --rh-space-lg:16px;
  --rh-space-xl:24px;
  --rh-space-2xl:32px;
  --rh-space-3xl:48px;
  --rh-space-4xl:64px;
  --rh-space-5xl:80px;
  --rh-space-6xl:96px;
  --rh-space-7xl:128px;
  --rh-font-size-body-text-xs:.75rem;
  --rh-font-size-body-text-sm:.875rem;
  --rh-font-size-body-text-md:1rem;
  --rh-font-size-body-text-lg:1.125rem;
  --rh-font-size-body-text-xl:1.25rem;
  --rh-font-size-body-text-2xl:1.5rem;
  --rh-font-size-heading-xs:1.25rem;
  --rh-font-size-heading-sm:1.5rem;
  --rh-font-size-heading-md:1.75rem;
  --rh-font-size-heading-lg:2.25rem;
  --rh-font-size-heading-xl:2.5rem;
  --rh-font-size-heading-2xl:3rem;
  --pfe-navigation--logo--maxWidth:200px;
  --pfe-navigation__logo--height:40px;
  --pfe-navigation--fade-transition-delay:.5s;
  --pfe-navigation__nav-bar--highlight-color:var(--rh-color-brand-red-on-dark,#e00);
  --pf-global--icon--FontSize--sm:.75rem
}
body,
html {
  font-family:Red Hat Text,sans-serif;
  font-size:var(--rh-font-size-body-text-md,1rem);
  line-height:var(--rh-line-height-body-text,1.5);
}

main {
  line-height:30px
}
section {
  padding-bottom:3rem;
  padding-top:3rem
}
img {
  max-width:100%
}
a {
  color:var(--rh-color-interactive-blue-darker,#06c);
  text-decoration:underline
}
a:hover {
  color:var(--rh-color-interactive-blue-darkest,#004080)
}

@media (min-width:576px) {
  .book {
    max-width:540px
  }
}
@media (min-width:768px) {
  .book {
    max-width:720px
  }
}
@media (min-width:992px) {
  .book {
    max-width:1250px
  }
}
section {
  padding:0
}
.list-unstyled {
  list-style:none;
  padding-left:0
}
.doc-image-link {
  display:inline-block;
  text-decoration:none
}
.admonitionblock{
  margin-bottom:var(--rh-space-lg,1rem)
  font-size:var(--rh-font-size-body-text-md,1rem)
}
.admonitionblock table {
  margin:0;
  border:none;
  width:fit-content
}
.admonitionblock td {
  margin:0;
  border:none;
  display:block
}
.admonitionblock .title {
  margin:0;
  color:#002952;
  font-weight:700
}


</style>
</head>
<body id="rhdh-configuring-rhdh-plugins_title-plugins-rhdh-configure" class="article toc2 toc-left">
<div id="header">
<h1>Configuring dynamic plugins in Red Hat Developer Hub</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_installing-ansible-plug-ins-for-red-hat-developer-hub">1. Installing Ansible plug-ins for Red Hat Developer Hub</a></li>
<li><a href="#_enabling-the-argo-cd-plugin">2. Enabling the Argo CD plugin</a></li>
<li><a href="#rhdh-keycloak_title-plugins-rhdh-configure">3. Installing and configuring Keycloak</a>
<ul class="sectlevel2">
<li><a href="#_installation">3.1. Installation</a></li>
<li><a href="#_basic-configuration">3.2. Basic configuration</a></li>
<li><a href="#_advanced-configuration">3.3. Advanced configuration</a></li>
<li><a href="#_limitations">3.4. Limitations</a></li>
</ul>
</li>
<li><a href="#installing-configuring-nexus-plugin">4. Installing and configuring the Nexus Repository Manager plugin</a>
<ul class="sectlevel2">
<li><a href="#_installation-2">4.1. Installation</a></li>
<li><a href="#_configuration">4.2. Configuration</a></li>
</ul>
</li>
<li><a href="#installation-and-configuration-tekton">5. Installing and configuring the Tekton plugin</a>
<ul class="sectlevel2">
<li><a href="#installing-tekton-plugin">5.1. Installation</a></li>
</ul>
</li>
<li><a href="#_installing-and-configuring-the-topology-plugin">6. Installing and configuring the Topology plugin</a>
<ul class="sectlevel2">
<li><a href="#_installation-3">6.1. Installation</a></li>
<li><a href="#_configuration-2">6.2. Configuration</a>
<ul class="sectlevel3">
<li><a href="#_viewing-openshift-routes">6.2.1. Viewing OpenShift routes</a></li>
<li><a href="#_viewing-pod-logs">6.2.2. Viewing pod logs</a></li>
<li><a href="#_viewing-tekton-pipelineruns">6.2.3. Viewing Tekton PipelineRuns</a></li>
<li><a href="#_viewing-virtual-machines">6.2.4. Viewing virtual machines</a></li>
<li><a href="#_enabling-the-source-code-editor">6.2.5. Enabling the source code editor</a></li>
<li><a href="#_labels-and-annotations">6.2.6. Labels and annotations</a>
<ul class="sectlevel4">
<li><a href="#_linking-to-the-source-code-editor-or-the-source">Linking to the source code editor or the source</a></li>
<li><a href="#_entity-annotationlabel">Entity annotation/label</a></li>
<li><a href="#_namespace-annotation">Namespace annotation</a></li>
<li><a href="#_label-selector-query-annotation">Label selector query annotation</a></li>
<li><a href="#_icon-displayed-in-the-node">Icon displayed in the node</a></li>
<li><a href="#_app-grouping">App grouping</a></li>
<li><a href="#_node-connector">Node connector</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#con-dynamic-plugin-cache_title-plugins-rhdh-configure">7. Using the dynamic plugins cache</a>
<ul class="sectlevel2">
<li><a href="#_enabling-the-dynamic-plugins-cache">7.1. Enabling the dynamic plugins cache</a></li>
<li><a href="#_configuring-the-dynamic-plugins-cache">7.2. Configuring the dynamic plugins cache</a></li>
</ul>
</li>
<li><a href="#proc-installing-and-configuring-redis-cache_title-plugins-rhdh-configure">8. Using Redis Cache with dynamic plugins</a>
<ul class="sectlevel2">
<li><a href="#_installing-redis-cache-in-red-hat-developer-hub">8.1. Installing Redis Cache in Red Hat Developer Hub</a></li>
<li><a href="#_configuring-redis-cache-in-red-hat-developer-hub">8.2. Configuring Redis Cache in Red Hat Developer Hub</a>
<ul class="sectlevel3">
<li><a href="#_useredissets">8.2.1. useRedisSets</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_installing-ansible-plug-ins-for-red-hat-developer-hub">1. Installing Ansible plug-ins for Red Hat Developer Hub</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ansible plug-ins for Red Hat Developer Hub deliver an Ansible-specific portal experience with curated learning paths,
push-button content creation, integrated development tools, and other opinionated resources.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>The Ansible plug-ins are a Technology Preview feature only.</p>
</div>
<div class="paragraph">
<p>Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend using them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.</p>
</div>
<div class="paragraph">
<p>For more information on Red Hat Technology Preview features, see <a href="https://access.redhat.com/support/offerings/techpreview/">Technology Preview Features Scope</a>.</p>
</div>
<div class="paragraph">
<p>Additional detail on how Red Hat provides support for bundled community dynamic plugins is available on the <a href="https://access.redhat.com/policy/developerhub-support-policy">Red Hat Developer Support Policy</a> page.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To install and configure the Ansible plugins, see
<a href="https://docs.redhat.com/en/documentation/red_hat_ansible_automation_platform/2.4/html/installing_ansible_plug-ins_for_red_hat_developer_hub/index"><em>Installing Ansible plug-ins for Red Hat Developer Hub</em></a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_enabling-the-argo-cd-plugin">2. Enabling the Argo CD plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use the Argo CD plugin to visualize the Continuous Delivery (CD) workflows in OpenShift GitOps. This plugin provides a visual overview of the application’s status, deployment details, commit message, author of the commit, container image promoted to environment and deployment history.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Add Argo CD instance information to your <code>app-config.yaml</code> configmap as shown in the following example:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">argocd:
  appLocatorMethods:
    - type: 'config'
      instances:
        - name: argoInstance1
          url: https://argoInstance1.com
          username: ${ARGOCD_USERNAME}
          password: ${ARGOCD_PASSWORD}
        - name: argoInstance2
          url: https://argoInstance2.com
          username: ${ARGOCD_USERNAME}
          password: ${ARGOCD_PASSWORD}</code></pre>
</div>
</div>
</li>
<li>
<p>Add the following annotation to the entity’s <code>catalog-info.yaml</code> file to identify the Argo CD applications.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">annotations:
  ...
  # The label that Argo CD uses to fetch all the applications. The format to be used is label.key=label.value. For example, rht-gitops.com/janus-argocd=quarkus-app.

  argocd/app-selector: '${ARGOCD_LABEL_SELECTOR}'</code></pre>
</div>
</div>
</li>
<li>
<p>(Optional) Add the following annotation to the entity’s <code>catalog-info.yaml</code> file to switch between Argo CD instances as shown in the following example:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"> annotations:
   ...
    # The Argo CD instance name used in `app-config.yaml`.

    argocd/instance-name: '${ARGOCD_INSTANCE}'</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you do not set this annotation, the Argo CD plugin defaults to the first Argo CD instance configured in <code>app-config.yaml</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Add the following to your dynamic-plugins ConfigMap to enable the Argo CD plugin.</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">global:
  dynamic:
    includes:
      - dynamic-plugins.default.yaml
    plugins:
      - package: ./dynamic-plugins/dist/roadiehq-backstage-plugin-argo-cd-backend-dynamic
        disabled: false
      - package: ./dynamic-plugins/dist/backstage-community-plugin-redhat-argocd
        disabled: false</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="ulist _additional-resources">
<div class="title">Additional resources</div>
<ul>
<li>
<p>The package path, scope, and name of the Red Hat ArgoCD plugin has changed since 1.2. For more information, see <a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.3/html-single/release_notes/index#removed-functionality-rhidp-4293">Breaking Changes</a> in the <em>Release notes for Red Hat Developer Hub</em>.</p>
</li>
<li>
<p>For more information on installing dynamic plugins, see <a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.3/html-single/installing_and_viewing_dynamic_plugins/index">Installing and viewing dynamic plugins</a>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rhdh-keycloak_title-plugins-rhdh-configure">3. Installing and configuring Keycloak</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Keycloak backend plugin, which integrates Keycloak into Developer Hub, has the following capabilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Synchronization of Keycloak users in a realm.</p>
</li>
<li>
<p>Synchronization of Keycloak groups and their users in a realm.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_installation">3.1. Installation</h3>
<div class="paragraph">
<p>The Keycloak plugin is pre-loaded in Developer Hub with basic configuration properties. To enable it, set the <code>disabled</code> property to <code>false</code> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">global:
  dynamic:
    includes:
      - dynamic-plugins.default.yaml
    plugins:
      - package: ./dynamic-plugins/dist/janus-idp-backstage-plugin-keycloak-backend-dynamic
        disabled: false</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_basic-configuration">3.2. Basic configuration</h3>
<div class="paragraph">
<p>To enable the Keycloak plugin, you must set the following environment variables:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>KEYCLOAK_BASE_URL</code></p>
</li>
<li>
<p><code>KEYCLOAK_LOGIN_REALM</code></p>
</li>
<li>
<p><code>KEYCLOAK_REALM</code></p>
</li>
<li>
<p><code>KEYCLOAK_CLIENT_ID</code></p>
</li>
<li>
<p><code>KEYCLOAK_CLIENT_SECRET</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_advanced-configuration">3.3. Advanced configuration</h3>
<div class="paragraph">
<div class="title">Schedule configuration</div>
<p>You can configure a schedule in the <code>app-config.yaml</code> file, as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">     catalog:
       providers:
         keycloakOrg:
           default:
             # ...
             # highlight-add-start
             schedule: # optional; same options as in TaskScheduleDefinition
               # supports cron, ISO duration, "human duration" as used in code
               frequency: { minutes: 1 }
               # supports ISO duration, "human duration" as used in code
               timeout: { minutes: 1 }
               initialDelay: { seconds: 15 }
               # highlight-add-end</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If you have made any changes to the schedule in the <code>app-config.yaml</code> file, then restart to apply the changes.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Keycloak query parameters</div>
<p>You can override the default Keycloak query parameters in the <code>app-config.yaml</code> file, as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">   catalog:
     providers:
       keycloakOrg:
         default:
           # ...
           # highlight-add-start
           userQuerySize: 500 # Optional
           groupQuerySize: 250 # Optional
           # highlight-add-end</code></pre>
</div>
</div>
<div class="paragraph">
<p>Communication between Developer Hub and Keycloak is enabled by using the Keycloak API. Username and password, or client credentials are supported authentication methods.</p>
</div>
<div class="paragraph">
<p>The following table describes the parameters that you can configure to enable the plugin under <code>catalog.providers.keycloakOrg.&lt;ENVIRONMENT_NAME&gt;</code> object in the <code>app-config.yaml</code> file:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default Value</th>
<th class="tableblock halign-left valign-top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>baseUrl</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Location of the Keycloak server, such as <code>https://localhost:8443/auth</code>. Note that the newer versions of Keycloak omit the <code>/auth</code> context path.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">""</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>realm</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Realm to synchronize</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>master</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>loginRealm</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Realm used to authenticate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>master</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>username</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username to authenticate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">""</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes if using password based authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>password</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password to authenticate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">""</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes if using password based authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clientId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client ID to authenticate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">""</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes if using client credentials based authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>clientSecret</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client Secret to authenticate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">""</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes if using client credentials based authentication</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userQuerySize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of users to query at a time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>100</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>groupQuerySize</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of groups to query at a time</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>100</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>When using client credentials, the access type must be set to <code>confidential</code> and service accounts must be enabled. You must also add the following roles from the <code>realm-management</code> client role:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>query-groups</code></p>
</li>
<li>
<p><code>query-users</code></p>
</li>
<li>
<p><code>view-users</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_limitations">3.4. Limitations</h3>
<div class="paragraph">
<p>If you have self-signed or corporate certificate issues, you can set the following environment variable before starting Developer Hub:</p>
</div>
<div class="paragraph">
<p><code>NODE_TLS_REJECT_UNAUTHORIZED=0</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>The solution of setting the environment variable is not recommended.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installing-configuring-nexus-plugin">4. Installing and configuring the Nexus Repository Manager plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Nexus Repository Manager plugin displays the information about your build artifacts in your Developer Hub application. The build artifacts are available in the Nexus Repository Manager.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
<div class="paragraph">
<p>The Nexus Repository Manager plugin is a Technology Preview feature only.</p>
</div>
<div class="paragraph">
<p>Technology Preview features are not supported with Red Hat production service level agreements (SLAs), might not be functionally complete, and Red Hat does not recommend using them for production. These features provide early access to upcoming product features, enabling customers to test functionality and provide feedback during the development process.</p>
</div>
<div class="paragraph">
<p>For more information on Red Hat Technology Preview features, see <a href="https://access.redhat.com/support/offerings/techpreview/">Technology Preview Features Scope</a>.</p>
</div>
<div class="paragraph">
<p>Additional detail on how Red Hat provides support for bundled community dynamic plugins is available on the <a href="https://access.redhat.com/policy/developerhub-support-policy">Red Hat Developer Support Policy</a> page.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_installation-2">4.1. Installation</h3>
<div class="paragraph">
<p>The Nexus Repository Manager plugin is pre-loaded in Developer Hub with basic configuration properties. To enable it, set the disabled property to <code>false</code> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">global:
  dynamic:
    includes:
      - dynamic-plugins.default.yaml
    plugins:
      - package: ./dynamic-plugins/dist/janus-idp-backstage-plugin-nexus-repository-manager
        disabled: false</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configuration">4.2. Configuration</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Set the proxy to the desired Nexus Repository Manager server in the <code>app-config.yaml</code> file as follows:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">proxy:
    '/nexus-repository-manager':
    target: 'https://&lt;NEXUS_REPOSITORY_MANAGER_URL&gt;'
    headers:
        X-Requested-With: 'XMLHttpRequest'
        # Uncomment the following line to access a private Nexus Repository Manager using a token
        # Authorization: 'Bearer &lt;YOUR TOKEN&gt;'
    changeOrigin: true
    # Change to "false" in case of using self hosted Nexus Repository Manager instance with a self-signed certificate
    secure: true</code></pre>
</div>
</div>
</li>
<li>
<p>Optional: Change the base URL of Nexus Repository Manager proxy as follows:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">nexusRepositoryManager:
    # default path is `/nexus-repository-manager`
    proxyPath: /custom-path</code></pre>
</div>
</div>
</li>
<li>
<p>Optional: Enable the following experimental annotations:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">nexusRepositoryManager:
    experimentalAnnotations: true</code></pre>
</div>
</div>
</li>
<li>
<p>Annotate your entity using the following annotations:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">metadata:
    annotations:
    # insert the chosen annotations here
    # example
    nexus-repository-manager/docker.image-name: `&lt;ORGANIZATION&gt;/&lt;REPOSITORY&gt;`,</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="installation-and-configuration-tekton">5. Installing and configuring the Tekton plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use the Tekton plugin to visualize the results of CI/CD pipeline runs on your Kubernetes or OpenShift clusters. The plugin allows users to visually see high level status of all associated tasks in the pipeline for their applications.</p>
</div>
<div class="sect2">
<h3 id="installing-tekton-plugin">5.1. Installation</h3>
<div class="ulist">
<div class="title">Prerequsites</div>
<ul>
<li>
<p>You have installed and configured the <code>@backstage/plugin-kubernetes</code> and <code>@backstage/plugin-kubernetes-backend</code> dynamic plugins. For more information about installing dynamic plugins, see <a href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.3/html-single/installing_and_viewing_dynamic_plugins/index">Installing and viewing dynamic plugins</a>.</p>
</li>
<li>
<p>You have configured the Kubernetes plugin to connect to the cluster using a <code>ServiceAccount</code>.</p>
</li>
<li>
<p>The <code>ClusterRole</code> must be granted for custom resources (PipelineRuns and TaskRuns) to the <code>ServiceAccount</code> accessing the cluster.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you have the RHDH Kubernetes plugin configured, then the <code>ClusterRole</code> is already granted.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>To view the pod logs, you have granted permissions for <code>pods/log</code>.</p>
</li>
<li>
<p>You can use the following code to grant the <code>ClusterRole</code> for custom resources and pod logs:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">kubernetes:
   ...
   customResources:
     - group: 'tekton.dev'
       apiVersion: 'v1'
       plural: 'pipelineruns'
     - group: 'tekton.dev'
       apiVersion: 'v1'


 ...
  apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRole
  metadata:
    name: backstage-read-only
  rules:
    - apiGroups:
        - ""
      resources:
        - pods/log
      verbs:
        - get
        - list
        - watch
    ...
    - apiGroups:
        - tekton.dev
      resources:
        - pipelineruns
        - taskruns
      verbs:
        - get
        - list</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>You can use the prepared manifest for a read-only <code>ClusterRole</code>, which provides access for both Kubernetes plugin and Tekton plugin.</p>
</div>
</li>
<li>
<p>Add the following annotation to the entity&#8217;s <code>catalog-info.yaml</code> file to identify whether an entity contains the Kubernetes resources:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">annotations:
  ...

  backstage.io/kubernetes-id: &lt;BACKSTAGE_ENTITY_NAME&gt;</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>You can also add the <code>backstage.io/kubernetes-namespace</code> annotation to identify the Kubernetes resources using the defined namespace.</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">annotations:
  ...

  backstage.io/kubernetes-namespace: &lt;RESOURCE_NS&gt;</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Add the following annotation to the <code>catalog-info.yaml</code> file of the entity to enable the Tekton related features in RHDH. The value of the annotation identifies the name of the RHDH entity:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">annotations:
  ...

  janus-idp.io/tekton : &lt;BACKSTAGE_ENTITY_NAME&gt;</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Add a custom label selector, which RHDH uses to find the Kubernetes resources. The label selector takes precedence over the ID annotations.</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">annotations:
  ...

  backstage.io/kubernetes-label-selector: 'app=my-app,component=front-end'</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>Add the following label to the resources so that the Kubernetes plugin gets the Kubernetes resources from the requested entity:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">labels:
  ...

  backstage.io/kubernetes-id: &lt;BACKSTAGE_ENTITY_NAME&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
When you use the label selector, the mentioned labels must be present on the resource.
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>The Tekton plugin is pre-loaded in RHDH with basic configuration properties. To enable it, set the disabled property to false as follows:</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">global:
  dynamic:
    includes:
      - dynamic-plugins.default.yaml
    plugins:
      - package: ./dynamic-plugins/dist/janus-idp-backstage-plugin-tekton
        disabled: false</code></pre>
</div>
</div>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installing-and-configuring-the-topology-plugin">6. Installing and configuring the Topology plugin</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_installation-3">6.1. Installation</h3>
<div class="paragraph">
<p>The Topology plugin enables you to visualize the workloads such as Deployment, Job, Daemonset, Statefulset, CronJob, Pods and Virtual Machines powering any service on your Kubernetes cluster.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have installed and configured the @backstage/plugin-kubernetes-backend dynamic plugins.</p>
</li>
<li>
<p>You have configured the Kubernetes plugin to connect to the cluster using a ServiceAccount.</p>
</li>
<li>
<p>The <code>ClusterRole</code> must be granted to ServiceAccount accessing the cluster.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If you have the Developer Hub Kubernetes plugin configured, then the <code>ClusterRole</code> is already granted.
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Procedure</div>
<ul>
<li>
<p>The Topology plugin is pre-loaded in Developer Hub with basic configuration properties. To enable it, set the disabled property to false as follows:</p>
<div class="listingblock">
<div class="title"><code>app-config.yaml</code> fragment</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">auth:
global:
  dynamic:
    includes:
      - dynamic-plugins.default.yaml
    plugins:
      - package: ./dynamic-plugins/dist/janus-idp-backstage-plugin-topology
        disabled: false</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_configuration-2">6.2. Configuration</h3>
<div class="sect3">
<h4 id="_viewing-openshift-routes">6.2.1. Viewing OpenShift routes</h4>
<div class="paragraph">
<p>To view OpenShift routes, you must grant read access to the routes resource in the Cluster Role:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">  apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRole
  metadata:
    name: backstage-read-only
  rules:
    ...
    - apiGroups:
        - route.openshift.io
      resources:
        - routes
      verbs:
        - get
        - list</code></pre>
</div>
</div>
<div class="paragraph">
<p>You must also add the following in <code>kubernetes.customResources</code> property in your <code>app-config.yaml</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">kubernetes:
    ...
    customResources:
      - group: 'route.openshift.io'
        apiVersion: 'v1'
        	  plural: 'routes'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_viewing-pod-logs">6.2.2. Viewing pod logs</h4>
<div class="paragraph">
<p>To view pod logs, you must grant the following permission to the <code>ClusterRole</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"> apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRole
  metadata:
    name: backstage-read-only
  rules:
    ...
    - apiGroups:
        - ''
      resources:
        - pods
        - pods/log
      verbs:
        - get
        - list
        - watch</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_viewing-tekton-pipelineruns">6.2.3. Viewing Tekton PipelineRuns</h4>
<div class="paragraph">
<p>To view the Tekton PipelineRuns you must grant read access to the <code>pipelines</code>, <code>pipelinesruns</code>, and <code>taskruns</code> resources in the <code>ClusterRole</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"> ...
  apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRole
  metadata:
    name: backstage-read-only
  rules:
    ...
    - apiGroups:
        - tekton.dev
      resources:
        - pipelines
        - pipelineruns
        - taskruns
      verbs:
        - get
        - list</code></pre>
</div>
</div>
<div class="paragraph">
<p>To view the Tekton PipelineRuns list in the side panel and the latest PipelineRuns status in the Topology node decorator, you must add the following code to the <code>kubernetes.customResources</code> property in your <code>app-config.yaml</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">kubernetes:
    ...
    customResources:
      - group: 'tekton.dev'
        apiVersion: 'v1'
        plural: 'pipelines'
      - group: 'tekton.dev'
        apiVersion: 'v1'
        plural: 'pipelineruns'
      - group: 'tekton.dev'
        apiVersion: 'v1'
        plural: 'taskruns'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_viewing-virtual-machines">6.2.4. Viewing virtual machines</h4>
<div class="paragraph">
<p>To view virtual machines, the OpenShift Virtualization operator must be installed and configured on a Kubernetes cluster.
You must also grant read access to the <code>VirtualMachines</code> resource in the <code>ClusterRole</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"> ...
  apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRole
  metadata:
    name: backstage-read-only
  rules:
    ...
    - apiGroups:
        - kubevirt.io
      resources:
        - virtualmachines
        - virtualmachineinstances
      verbs:
        - get
        - list</code></pre>
</div>
</div>
<div class="paragraph">
<p>To view the virtual machine nodes on the topology plugin, you must add the following code to the <code>kubernetes.customResources</code> property in the <code>app-config.yaml</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">kubernetes:
    ...
    customResources:
      - group: 'kubevirt.io'
        apiVersion: 'v1'
        plural: 'virtualmachines'
      - group: 'kubevirt.io'
        apiVersion: 'v1'
        plural: 'virtualmachineinstances'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_enabling-the-source-code-editor">6.2.5. Enabling the source code editor</h4>
<div class="paragraph">
<p>To enable the source code editor, you must grant read access to the CheClusters resource in the <code>ClusterRole</code> as shown in the following example code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"> ...
  apiVersion: rbac.authorization.k8s.io/v1
  kind: ClusterRole
  metadata:
    name: backstage-read-only
  rules:
    ...
    - apiGroups:
        - org.eclipse.che
      resources:
        - checlusters
      verbs:
        - get
        - list</code></pre>
</div>
</div>
<div class="paragraph">
<p>To use the source code editor, you must add the following configuration to the <code>kubernetes.customResources</code> property in your <code>app-config.yaml</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"> kubernetes:
    ...
    customResources:
      - group: 'org.eclipse.che'
        apiVersion: 'v2'
        plural: 'checlusters'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_labels-and-annotations">6.2.6. Labels and annotations</h4>
<div class="sect4">
<h5 id="_linking-to-the-source-code-editor-or-the-source">Linking to the source code editor or the source</h5>
<div class="paragraph">
<p>Add the following annotations to workload resources, such as Deployments to navigate to the Git repository of the associated application using the source code editor:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">annotations:
  app.openshift.io/vcs-uri: &lt;GIT_REPO_URL&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Add the following annotation to navigate to a specific branch:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">annotations:
  app.openshift.io/vcs-ref: &lt;GIT_REPO_BRANCH&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>If Red Hat OpenShift Dev Spaces is installed and configured and git URL annotations are also added to the workload YAML file, then clicking on the edit code decorator redirects you to the Red Hat OpenShift Dev Spaces instance.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>When you deploy your application using the OCP Git import flows, then you do not need to add the labels as import flows do that. Otherwise, you need to add the labels manually to the workload YAML file.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can also add the <code>app.openshift.io/edit-url</code> annotation with the edit URL that you want to access using the decorator.</p>
</div>
</div>
<div class="sect4">
<h5 id="_entity-annotationlabel">Entity annotation/label</h5>
<div class="paragraph">
<p>For RHDH to detect that an entity has Kubernetes components, add the following annotation to the entity&#8217;s <code>catalog-info.yaml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">annotations:
  backstage.io/kubernetes-id: &lt;BACKSTAGE_ENTITY_NAME&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The following label is added to the resources so that the Kubernetes plugin gets the Kubernetes resources from the requested entity, add the following label to the resources:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">labels:
  backstage.io/kubernetes-id: &lt;BACKSTAGE_ENTITY_NAME&gt;`</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>When using the label selector, the mentioned labels must be present on the resource.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_namespace-annotation">Namespace annotation</h5>
<div class="paragraph">
<p>To identify the Kubernetes resources using the defined namespace, add the <code>backstage.io/kubernetes-namespace</code> annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">annotations:
  backstage.io/kubernetes-namespace: &lt;RESOURCE_NS&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Red Hat OpenShift Dev Spaces instance is not accessible using the source code editor if the <code>backstage.io/kubernetes-namespace</code> annotation is added to the <code>catalog-info.yaml</code> file.</p>
</div>
<div class="paragraph">
<p>To retrieve the instance URL, you require the CheCluster Custom Resource (CR). As the CheCluster CR is created in the openshift-devspaces namespace, the instance URL is not retrieved if the namespace annotation value is not openshift-devspaces.</p>
</div>
</div>
<div class="sect4">
<h5 id="_label-selector-query-annotation">Label selector query annotation</h5>
<div class="paragraph">
<p>You can write your own custom label, which RHDH uses to find the Kubernetes resources. The label selector takes precedence over the ID annotations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">annotations:
  backstage.io/kubernetes-label-selector: 'app=my-app,component=front-end'</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you have multiple entities while Red Hat Dev Spaces is configured and want multiple entities to support the edit code decorator that redirects to the Red Hat Dev Spaces instance, you can add the backstage.io/kubernetes-label-selector annotation to the catalog-info.yaml file for each entity.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">annotations:
  backstage.io/kubernetes-label-selector: 'component in (&lt;BACKSTAGE_ENTITY_NAME&gt;,che)'</code></pre>
</div>
</div>
<div class="paragraph">
<p>If you are using the previous label selector, you must add the following labels to your resources so that the Kubernetes plugin gets the Kubernetes resources from the requested entity:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">labels:
  component: che # add this label to your che cluster instance
labels:
  component: &lt;BACKSTAGE_ENTITY_NAME&gt; # add this label to the other resources associated with your entity</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also write your own custom query for the label selector with unique labels to differentiate your entities. However, you need to ensure that you add those labels to the resources associated with your entities including your CheCluster instance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_icon-displayed-in-the-node">Icon displayed in the node</h5>
<div class="paragraph">
<p>To display a runtime icon in the topology nodes, add the following label to workload resources, such as Deployments:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">labels:
  app.openshift.io/runtime: &lt;RUNTIME_NAME&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, you can include the following label to display the runtime icon:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">labels:
  app.kubernetes.io/name: &lt;RUNTIME_NAME&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Supported values of <code>&lt;RUNTIME_NAME&gt;</code> include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>django</p>
</li>
<li>
<p>dotnet</p>
</li>
<li>
<p>drupal</p>
</li>
<li>
<p>go-gopher</p>
</li>
<li>
<p>golang</p>
</li>
<li>
<p>grails</p>
</li>
<li>
<p>jboss</p>
</li>
<li>
<p>jruby</p>
</li>
<li>
<p>js</p>
</li>
<li>
<p>nginx</p>
</li>
<li>
<p>nodejs</p>
</li>
<li>
<p>openjdk</p>
</li>
<li>
<p>perl</p>
</li>
<li>
<p>phalcon</p>
</li>
<li>
<p>php</p>
</li>
<li>
<p>python</p>
</li>
<li>
<p>quarkus</p>
</li>
<li>
<p>rails</p>
</li>
<li>
<p>redis</p>
</li>
<li>
<p>rh-spring-boot</p>
</li>
<li>
<p>rust</p>
</li>
<li>
<p>java</p>
</li>
<li>
<p>rh-openjdk</p>
</li>
<li>
<p>ruby</p>
</li>
<li>
<p>spring</p>
</li>
<li>
<p>spring-boot</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Other values result in icons not being rendered for the node.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_app-grouping">App grouping</h5>
<div class="paragraph">
<p>To display workload resources such as deployments or pods in a visual group, add the following label:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">labels:
  app.kubernetes.io/part-of: &lt;GROUP_NAME&gt;</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_node-connector">Node connector</h5>
<div class="paragraph">
<p>To display the workload resources such as deployments or pods with a visual connector, add the following annotation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">annotations:
  app.openshift.io/connects-to: '[{"apiVersion": &lt;RESOURCE_APIVERSION&gt;,"kind": &lt;RESOURCE_KIND&gt;,"name": &lt;RESOURCE_NAME&gt;}]'</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information about the labels and annotations, see <em>Guidelines for labels and annotations for OpenShift applications</em>.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="con-dynamic-plugin-cache_title-plugins-rhdh-configure">7. Using the dynamic plugins cache</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The dynamic plugins cache in Red Hat Developer Hub (RHDH) enhances the installation process and reduces platform boot time by storing previously installed plugins. If the configuration remains unchanged, this feature prevents the need to re-download plugins on subsequent boots.</p>
</div>
<div class="paragraph">
<p>When you enable dynamic plugins cache:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The system calculates a checksum of each plugin&#8217;s YAML configuration (excluding <code>pluginConfig</code>).</p>
</li>
<li>
<p>The checksum is stored in a file named <code>dynamic-plugin-config.hash</code> within the plugin&#8217;s directory.</p>
</li>
<li>
<p>During boot, if a plugin&#8217;s package reference matches the previous installation and the checksum is unchanged, the download is skipped.</p>
</li>
<li>
<p>Plugins that are disabled since the previous boot are automatically removed.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_enabling-the-dynamic-plugins-cache">7.1. Enabling the dynamic plugins cache</h3>
<div class="paragraph">
<p>To enable the dynamic plugins cache in RHDH, the plugins directory <code>dynamic-plugins-root</code> must be a persistent volume.</p>
</div>
<div class="paragraph">
<p>For Helm chart installations, a persistent volume named <code>dynamic-plugins-root</code> is automatically created.</p>
</div>
<div class="paragraph">
<p>For operator-based installations, you must manually create the PersistentVolumeClaim (PVC) as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">kind: PersistentVolumeClaim
apiVersion: v1
metadata:
  name: dynamic-plugins-root
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 5Gi

---

apiVersion: rhdh.redhat.com/v1alpha2
kind: Backstage
metadata:
  name: developer-hub
spec:
  deployment:
    patch:
      spec:
        template:
          spec:
            volumes:
              - $patch: replace
                name: dynamic-plugins-root
                persistentVolumeClaim:
                  claimName: dynamic-plugins-root</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>Future versions of the RHDH operator are planned to automatically create the PVC.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_configuring-the-dynamic-plugins-cache">7.2. Configuring the dynamic plugins cache</h3>
<div class="paragraph">
<p>You can set the following optional dynamic plugin cache parameters:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>forceDownload</code>: Set to <code>true</code> to force a reinstall of the plugin, bypassing the cache. Default is <code>false</code>. For example, modify your <code>dynamic-plugins.yaml</code> file as follows:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">plugins:
  - disabled: false
    forceDownload: true
    package: 'oci://quay.io/example-org/example-plugin:v1.0.0!internal-backstage-plugin-example'</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="proc-installing-and-configuring-redis-cache_title-plugins-rhdh-configure">8. Using Redis Cache with dynamic plugins</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can use the Redis cache store to improve RHDH performance and reliability. Plugins in RHDH receive dedicated cache connections, which are powered by Keyv.</p>
</div>
<div class="sect2">
<h3 id="_installing-redis-cache-in-red-hat-developer-hub">8.1. Installing Redis Cache in Red Hat Developer Hub</h3>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>You have installed Red Hat Developer Hub by using either the Operator or Helm chart.</p>
</li>
<li>
<p>You have an active Redis server. For more information on setting up an external Redis server, see the  <a href="https://www.redis.io/docs/latest/"><code>Redis official documentation</code></a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Procedure</div>
<p>Add the following code to your <code>app-config.yaml</code> file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml">backend:
  cache:
    store: redis
    connection: redis://user:pass@cache.example.com:6379
    useRedisSets: true</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configuring-redis-cache-in-red-hat-developer-hub">8.2. Configuring Redis Cache in Red Hat Developer Hub</h3>
<div class="sect3">
<h4 id="_useredissets">8.2.1. useRedisSets</h4>
<div class="paragraph">
<p>The <code>useRedisSets</code> option lets you decide whether to use Redis sets for key management. By default, this option is set to <code>true</code>.</p>
</div>
<div class="paragraph">
<p>When <code>useRedisSets</code> is enabled (<code>true</code>):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A namespace for the Redis sets is created, and all generated keys are added to that namespace, enabling group management of the keys.</p>
</li>
<li>
<p>When a key is deleted, it&#8217;s removed from the main storage and the Redis set.</p>
</li>
<li>
<p>When using the clear function to delete all keys, every key in the Redis set is checked for deletion, and the set itself is also removed.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
In high-performance scenarios, enabling <code>useRedisSets</code> can result in memory leaks. If you are running a high-performance application or service, you must set <code>useRedisSets</code> to <code>false</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When you set <code>useRedisSets</code> to <code>false</code>, the keys are handled individually and Redis sets are not utilized. This configuration might lead to performance issues in production when using the <code>clear</code> function, as it requires iterating over all keys for deletion.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-12-09 11:03:44 UTC
</div>
</div>
</body>
</html>