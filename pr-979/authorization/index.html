<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="chrometwo"><head><title>Authorization in Red Hat Developer Hub</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css"/><meta name="generator" content="publican v4.3.2"/><meta name="description" content="As a Red Hat Developer Hub platform engineer, you can manage authorizations of other users by using role based access control (RBAC) to meet the specific needs of your organization."/><link rel="next" href="#enabling-and-giving-access-to-rbac" title="1. Enabling and giving access to the Role-Based Access Control (RBAC) feature"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><script type="text/javascript" src="Common_Content/scripts/jquery-1.7.1.min.js"> </script><script type="text/javascript" src="Common_Content/scripts/utils.js"> </script><script type="text/javascript" src="Common_Content/scripts/highlight.js/highlight.pack.js"> </script></head><body><div id="chrometwo"><div id="main"><section xml:lang="en-US" class="article" id="idm45700320536144"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Developer Hub</span> <span class="productnumber">1.5</span></div><div><h1 class="title">Authorization in Red Hat Developer Hub</h1></div><div><h3 class="subtitle"><em>Configuring authorization by using role based access control (RBAC) in Red Hat Developer Hub</em></h3></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat Customer Content Services</span></div></div><div><a href="#idm45700302122432">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				As a Red Hat Developer Hub platform engineer, you can manage authorizations of other users by using role based access control (RBAC) to meet the specific needs of your organization.
			</div></div></div></div><hr/></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#enabling-and-giving-access-to-rbac">1. Enabling and giving access to the Role-Based Access Control (RBAC) feature</a></span></li><li><span class="section"><a href="#proc-determining-policy-and-role-source">2. Determining permission policy and role configuration source</a></span></li><li><span class="section"><a href="#managing-authorizations-by-using-the-web-ui">3. Managing role-based access controls (RBAC) using the Red Hat Developer Hub Web UI</a></span><ul><li><span class="section"><a href="#proc-rbac-ui-create-role_title-authorization">3.1. Creating a role in the Red Hat Developer Hub Web UI</a></span></li><li><span class="section"><a href="#proc-rbac-ui-edit-role_title-authorization">3.2. Editing a role in the Red Hat Developer Hub Web UI</a></span></li><li><span class="section"><a href="#proc-rbac-ui-delete-role_title-authorization">3.3. Deleting a role in the Red Hat Developer Hub Web UI</a></span></li></ul></li><li><span class="section"><a href="#managing-authorizations-by-using-the-rest-api">4. Managing authorizations by using the REST API</a></span><ul><li><span class="section"><a href="#proc-sending-requests-to-the-rbac-rest-api-by-using-curl_title-authorization">4.1. Sending requests to the RBAC REST API by using the curl utility</a></span></li><li><span class="section"><a href="#proc-rbac-sending-requests-to-the-rbac-rest-api-by-using-a-rest-client_title-authorization">4.2. Sending requests to the RBAC REST API by using a REST client</a></span></li><li><span class="section"><a href="#ref-rbac-rest-api-endpoints_title-authorization">4.3. Supported RBAC REST API endpoints</a></span></li></ul></li><li><span class="section"><a href="#managing-authorizations-by-using-external-files">5. Managing authorizations by using external files</a></span><ul><li><span class="section"><a href="#defining-authorizations-in-external-files-by-using-the-operator">5.1. Defining authorizations in external files by using the operator</a></span></li><li><span class="section"><a href="#defining-authorizations-in-external-files-by-using-helm">5.2. Defining authorizations in external files by using Helm</a></span></li></ul></li><li><span class="section"><a href="#configuring-guest-access-with-rbac-ui_title-authorization">6. Configuring guest access with RBAC UI</a></span><ul><li><span class="section"><a href="#configuring-the-rbac-backend-plugin_title-authorization">6.1. Configuring the RBAC backend plugin</a></span></li><li><span class="section"><a href="#setting-up-the-guest-authentication-provider_title-authorization">6.2. Setting up the guest authentication provider</a></span></li></ul></li><li><span class="section"><a href="#ref-rbac-permission-policies_title-authorization">7. Permission policies reference</a></span></li><li><span class="section"><a href="#con-rbac-conditional-policies-rhdh_title-authorization">8. Conditional policies in Red Hat Developer Hub</a></span><ul><li><span class="section"><a href="#ref-rbac-conditional-policy-definition_title-authorization">8.1. Conditional policies reference</a></span></li></ul></li><li><span class="section"><a href="#con-user-stats-rhdh_title-authorization">9. User statistics in Red Hat Developer Hub</a></span><ul><li><span class="section"><a href="#proc-download-user-stats-rhdh_title-authorization">9.1. Downloading active users list in Red Hat Developer Hub</a></span></li></ul></li></ul></div><p>
		In <a class="link" href="https://docs.redhat.com/documentation/en-us/red_hat_developer_hub/1.5/html-single/authorization/index">Authentication</a>, you learnt how to authenticate users to Red Hat Developer Hub. Developer Hub knowns who the users are.
	</p><p>
		In this book, learn how to authorize users to perform actions in Developer Hub. Define what users can do in Developer Hub.
	</p><p>
		Role-Based Access Control (RBAC) is a security concept that controls access to resources in a system, and specifies a mapping between users of the system, and the actions they can perform on resources in the system. You define roles with specific permissions, and then assign the roles to users and groups.
	</p><p>
		RBAC on Developer Hub is built on top of the Permissions framework, which defines RBAC policies in code. Rather than defining policies in code, the Developer Hub RBAC feature allows you to define policies in a declarative fashion using a simple CSV based format. You can define the policies by using Developer Hub web interface or REST API, rather than editing the CSV directly.
	</p><p>
		To define authorizations in Developer Hub:
	</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
				The Developer Hub administrator enables and gives access to the RBAC feature.
			</li><li class="listitem"><p class="simpara">
				You define your roles and policies by combining the following methods:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						The Developer Hub policy administrator uses the Developer Hub web interface or REST API.
					</li><li class="listitem">
						The Developer Hub administrator edits the main Developer Hub configuration file.
					</li><li class="listitem">
						The Developer Hub administrator edits external files.
					</li></ul></div></li></ol></div><section class="section" id="enabling-and-giving-access-to-rbac"><div class="titlepage"><div><div><h2 class="title">1. Enabling and giving access to the Role-Based Access Control (RBAC) feature</h2></div></div></div><p>
			The Role-Based Access Control (RBAC) feature is disabled by default. Enable the RBAC plugin and declare policy administrators to start using RBAC features.
		</p><p>
			The permission policies for users and groups in the Developer Hub are managed by permission policy administrators. Only permission policy administrators can access the Role-Based Access Control REST API.
		</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
					You have <a class="link" href="https://docs.redhat.com/documentation/en-us/red_hat_developer_hub/1.5/html-single/configuring/index">added a custom Developer Hub application configuration</a>, and have necessary permissions to modify it.
				</li><li class="listitem">
					You have <a class="link" href="https://docs.redhat.com/documentation/en-us/red_hat_developer_hub/1.5/html-single/authentication/index">enabled an authentication provider</a>.
				</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
					The RBAC plugin is installed but disabled by default. To enable the <code class="literal">./dynamic-plugins/dist/backstage-community-plugin-rbac</code> plugin, edit your <code class="literal">dynamic-plugins.yaml</code> with the following content.
				</p><div class="formalpara"><p class="title"><strong><code class="literal">dynamic-plugins.yaml</code> fragment</strong></p><p>
						
<pre class="programlisting language-yaml">plugins:
  - package: ./dynamic-plugins/dist/backstage-community-plugin-rbac
    disabled: false</pre>
					</p></div><p class="simpara">
					See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.5/html-single/installing_and_viewing_dynamic_plugins/index">Installing and viewing dynamic plugins</a>.
				</p></li><li class="listitem"><p class="simpara">
					Declare policy administrators to enable a select number of authenticated users to configure RBAC policies through the REST API or Web UI, instead of modifying the CSV file directly. The permissions can be specified in a separate CSV file referenced in the <code class="literal">app-config-rhdh</code> ConfigMap, or permissions can be created using the REST API or Web UI.
				</p><p class="simpara">
					To declare users such as <span class="emphasis"><em>&lt;your_policy_administrator_name&gt;</em></span> as policy administrators, edit your custom Developer Hub ConfigMap, such as <code class="literal">app-config-rhdh</code>, and add following code to the <code class="literal">app-config.yaml</code> content:
				</p><div class="formalpara"><p class="title"><strong><code class="literal">app-config.yaml</code> fragment</strong></p><p>
						
<pre class="programlisting language-yaml">permission:
  enabled: true
  rbac:
    admin:
      users:
        - name: user:default/<span class="emphasis"><em>&lt;your_policy_administrator_name&gt;</em></span></pre>
					</p></div></li><li class="listitem"><p class="simpara">
					In order for the Developer Hub Web UI to display available permissions provided by installed plugins, add the corresponding plugin IDs to <a class="link" href="https://docs.redhat.com/documentation/en-us/red_hat_developer_hub/1.5/html-single/configuring/index">your custom <code class="literal">app-config.yaml</code> Developer Hub configuration file</a>.
				</p><p class="simpara">
					To display available permissions in RBAC UI, edit your custom Developer Hub ConfigMap, such as <code class="literal">app-config-rhdh</code>, and add following code to the <code class="literal">app-config.yaml</code> content:
				</p><div class="formalpara"><p class="title"><strong><code class="literal">app-config.yaml</code> fragment</strong></p><p>
						
<pre class="programlisting language-yaml">permission:
  enabled: true
  rbac:
    admin:
      users:
        - name: user:default/<span class="emphasis"><em>&lt;your_policy_administrator_name&gt;</em></span>
    pluginsWithPermission:
      - catalog
      - scaffolder
      - permission</pre>
					</p></div></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem">
					Sign out from the existing Red Hat Developer Hub session and log in again using the declared policy administrator account.
				</li><li class="listitem"><p class="simpara">
					With RBAC enabled, most features are disabled by default.
				</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
							Navigate to the <span class="strong strong"><strong>Catalog</strong></span> page in RHDH. The <span class="strong strong"><strong>Create</strong></span> button is not visible. You cannot create new components.
						</li><li class="listitem">
							Navigate to the API page. The <span class="strong strong"><strong>Register</strong></span> button is not visible.
						</li></ol></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Next steps</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
					Explicitly enable permissions to resources in Developer Hub.
				</li></ul></div></section><section class="section" id="proc-determining-policy-and-role-source"><div class="titlepage"><div><div><h2 class="title">2. Determining permission policy and role configuration source</h2></div></div></div><p>
			You can configure Red Hat Developer Hub policy and roles by using different sources. To maintain data consistency, Developer Hub associates each permission policy and role with one unique source. You can only use this source to change the resource.
		</p><p>
			The available sources are:
		</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Configuration file</span></dt><dd><p class="simpara">
						Configure roles and policies in the Developer Hub <code class="literal">app-config.yaml</code> configuration file, for instance to <a class="link" href="#enabling-and-giving-access-to-rbac" title="1. Enabling and giving access to the Role-Based Access Control (RBAC) feature">declare your policy administrators</a>.
					</p><p class="simpara">
						The Configuration file pertains to the default <code class="literal">role:default/rbac_admin</code> role provided by the RBAC plugin. The default role has limited permissions to create, read, update, delete permission policies or roles, and to read catalog entities.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							In case the default permissions are insufficient for your administrative requirements, you can create a custom admin role with the required permission policies.
						</p></div></div></dd><dt><span class="term">REST API</span></dt><dd>
						Configure roles and policies <a class="link" href="#managing-authorizations-by-using-the-web-ui" title="3. Managing role-based access controls (RBAC) using the Red Hat Developer Hub Web UI">by using the Developer Hub Web UI</a> or by using the REST API.
					</dd><dt><span class="term">CSV file</span></dt><dd>
						Configure roles and policies by using external CSV files.
					</dd><dt><span class="term">Legacy</span></dt><dd><p class="simpara">
						The legacy source applies to policies and roles defined before RBAC backend plugin version <code class="literal">2.1.3</code>, and is the least restrictive among the source location options.
					</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
							Replace the permissions and roles using the legacy source with the permissions using the REST API or the CSV file sources.
						</p></div></div></dd></dl></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
					To determine the source of a role or policy, use a <code class="literal">GET</code> request.
				</li></ul></div></section><section class="section" id="managing-authorizations-by-using-the-web-ui"><div class="titlepage"><div><div><h2 class="title">3. Managing role-based access controls (RBAC) using the Red Hat Developer Hub Web UI</h2></div></div></div><p>
			Policy administrators can use the Developer Hub web interface (Web UI) to allocate specific roles and permissions to individual users or groups. Allocating roles ensures that access to resources and functionalities is regulated across the Developer Hub.
		</p><p>
			With the policy administrator role in Developer Hub, you can assign permissions to users and groups. This role allows you to view, create, modify, and delete the roles using Developer Hub Web UI.
		</p><section class="section" id="proc-rbac-ui-create-role_title-authorization"><div class="titlepage"><div><div><h3 class="title">3.1. Creating a role in the Red Hat Developer Hub Web UI</h3></div></div></div><p>
				You can create a role in the Red Hat Developer Hub using the Web UI.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You <a class="link" href="#enabling-and-giving-access-to-rbac" title="1. Enabling and giving access to the Role-Based Access Control (RBAC) feature">have enabled RBAC, have a policy administrator role in Developer Hub, and have added plugins with permission</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Go to <span class="strong strong"><strong>Administration</strong></span> at the bottom of the sidebar in the Developer Hub.
					</p><p class="simpara">
						The <span class="strong strong"><strong>RBAC</strong></span> tab appears, displaying all the created roles in the Developer Hub.
					</p></li><li class="listitem">
						(Optional) Click any role to view the role information on the <span class="strong strong"><strong>OVERVIEW</strong></span> page.
					</li><li class="listitem">
						Click <span class="strong strong"><strong>CREATE</strong></span> to create a role.
					</li><li class="listitem">
						Enter the name and description of the role in the given fields and click <span class="strong strong"><strong>NEXT</strong></span>.
					</li><li class="listitem">
						Add users and groups using the search field, and click <span class="strong strong"><strong>NEXT</strong></span>.
					</li><li class="listitem">
						Select <span class="strong strong"><strong>Plugin</strong></span> and <span class="strong strong"><strong>Permission</strong></span> from the drop-downs in the <span class="strong strong"><strong>Add permission policies</strong></span> section.
					</li><li class="listitem">
						Select or clear the <span class="strong strong"><strong>Policy</strong></span> that you want to set in the <span class="strong strong"><strong>Add permission policies</strong></span> section, and click <span class="strong strong"><strong>NEXT</strong></span>.
					</li><li class="listitem">
						Review the added information in the <span class="strong strong"><strong>Review and create</strong></span> section.
					</li><li class="listitem">
						Click <span class="strong strong"><strong>CREATE</strong></span>.
					</li></ol></div><div class="formalpara"><p class="title"><strong>Verification</strong></p><p>
					The created role appears in the list available in the <span class="strong strong"><strong>RBAC</strong></span> tab.
				</p></div></section><section class="section" id="proc-rbac-ui-edit-role_title-authorization"><div class="titlepage"><div><div><h3 class="title">3.2. Editing a role in the Red Hat Developer Hub Web UI</h3></div></div></div><p>
				You can edit a role in the Red Hat Developer Hub using the Web UI.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The policies generated from a <code class="literal">policy.csv</code> or ConfigMap file cannot be edited or deleted using the Developer Hub Web UI.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You <a class="link" href="#enabling-and-giving-access-to-rbac" title="1. Enabling and giving access to the Role-Based Access Control (RBAC) feature">have enabled RBAC, have a policy administrator role in Developer Hub, and have added plugins with permission</a>.
					</li><li class="listitem">
						The role that you want to edit is created in the Developer Hub.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Go to <span class="strong strong"><strong>Administration</strong></span> at the bottom of the sidebar in the Developer Hub.
					</p><p class="simpara">
						The <span class="strong strong"><strong>RBAC</strong></span> tab appears, displaying all the created roles in the Developer Hub.
					</p></li><li class="listitem">
						(Optional) Click any role to view the role information on the <span class="strong strong"><strong>OVERVIEW</strong></span> page.
					</li><li class="listitem">
						Select the edit icon for the role that you want to edit.
					</li><li class="listitem">
						Edit the details of the role, such as name, description, users and groups, and permission policies, and click <span class="strong strong"><strong>NEXT</strong></span>.
					</li><li class="listitem">
						Review the edited details of the role and click <span class="strong strong"><strong>SAVE</strong></span>.
					</li></ol></div><p>
				After editing a role, you can view the edited details of a role on the <span class="strong strong"><strong>OVERVIEW</strong></span> page of a role. You can also edit a role’s users and groups or permissions by using the edit icon on the respective cards on the <span class="strong strong"><strong>OVERVIEW</strong></span> page.
			</p></section><section class="section" id="proc-rbac-ui-delete-role_title-authorization"><div class="titlepage"><div><div><h3 class="title">3.3. Deleting a role in the Red Hat Developer Hub Web UI</h3></div></div></div><p>
				You can delete a role in the Red Hat Developer Hub using the Web UI.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The policies generated from a <code class="literal">policy.csv</code> or ConfigMap file cannot be edited or deleted using the Developer Hub Web UI.
				</p></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You <a class="link" href="#enabling-and-giving-access-to-rbac" title="1. Enabling and giving access to the Role-Based Access Control (RBAC) feature">have enabled RBAC and have a policy administrator role in Developer Hub</a>.
					</li><li class="listitem">
						The role that you want to delete is created in the Developer Hub.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Go to <span class="strong strong"><strong>Administration</strong></span> at the bottom of the sidebar in the Developer Hub.
					</p><p class="simpara">
						The <span class="strong strong"><strong>RBAC</strong></span> tab appears, displaying all the created roles in the Developer Hub.
					</p></li><li class="listitem">
						(Optional) Click any role to view the role information on the <span class="strong strong"><strong>OVERVIEW</strong></span> page.
					</li><li class="listitem"><p class="simpara">
						Select the delete icon from the <span class="strong strong"><strong>Actions</strong></span> column for the role that you want to delete.
					</p><p class="simpara">
						<span class="strong strong"><strong>Delete this role?</strong></span> pop-up appears on the screen.
					</p></li><li class="listitem">
						Click <span class="strong strong"><strong>DELETE</strong></span>.
					</li></ol></div></section></section><section class="section" id="managing-authorizations-by-using-the-rest-api"><div class="titlepage"><div><div><h2 class="title">4. Managing authorizations by using the REST API</h2></div></div></div><p>
			To automate the maintenance of Red Hat Developer Hub permission policies and roles, you can use Developer Hub role-based access control (RBAC) REST API.
		</p><p>
			You can perform the following actions with the REST API:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					Retrieve information about:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							All permission policies
						</li><li class="listitem">
							Specific permission policies
						</li><li class="listitem">
							Specific roles
						</li><li class="listitem">
							Static plugins permission policies
						</li></ul></div></li><li class="listitem"><p class="simpara">
					Create, update, or delete:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							Permission policy
						</li><li class="listitem">
							Role
						</li></ul></div></li></ul></div><section class="section" id="proc-sending-requests-to-the-rbac-rest-api-by-using-curl_title-authorization"><div class="titlepage"><div><div><h3 class="title">4.1. Sending requests to the RBAC REST API by using the curl utility</h3></div></div></div><p>
				You can send RBAC REST API requests by using the curl utility.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#enabling-and-giving-access-to-rbac" title="1. Enabling and giving access to the Role-Based Access Control (RBAC) feature">You have access to the RBAC feature</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Find your Bearer token to authenticate to the REST API.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								In your browser, open the web console <span class="strong strong"><strong>Network</strong></span> tab.
							</li><li class="listitem">
								In the main screen, reload the Developer Hub <span class="strong strong"><strong>Homepage</strong></span>.
							</li><li class="listitem">
								In the web console <span class="strong strong"><strong>Network</strong></span> tab, search for the <code class="literal">query?term=</code> network call.
							</li><li class="listitem">
								Save the <span class="strong strong"><strong>token</strong></span> in the response JSON for the next steps.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						In a terminal, run the curl command and review the response:
					</p><div class="formalpara"><p class="title"><strong><code class="literal">GET</code> or <code class="literal">DELETE</code> request</strong></p><p>
							
<pre class="screen">curl -v \
  -H "Authorization: Bearer <span class="emphasis"><em>&lt;token&gt;</em></span>" \
  -X <span class="emphasis"><em>&lt;method&gt;</em></span> "https://<span class="emphasis"><em>&lt;my_developer_hub_url&gt;</em></span>/<span class="emphasis"><em>&lt;endpoint&gt;</em></span>" \</pre>
						</p></div><div class="formalpara"><p class="title"><strong><code class="literal">POST</code> or <code class="literal">PUT</code> request requiring JSON body data</strong></p><p>
							
<pre class="screen">curl -v -H "Content-Type: application/json" \
  -H "Authorization: Bearer <span class="emphasis"><em>&lt;token&gt;</em></span>" \
  -X POST "https://<span class="emphasis"><em>&lt;my_developer_hub_url&gt;</em></span>/<span class="emphasis"><em>&lt;endpoint&gt;</em></span>" \
  -d <span class="emphasis"><em>&lt;body&gt;</em></span></pre>
						</p></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="emphasis"><em>&lt;token&gt;</em></span></span></dt><dd>
									Enter your saved authorization token.
								</dd><dt><span class="term"><span class="emphasis"><em>&lt;method&gt;</em></span></span></dt><dd><p class="simpara">
									Enter the HTTP method for your <a class="link" href="#ref-rbac-rest-api-endpoints_title-authorization" title="4.3. Supported RBAC REST API endpoints">API endpoint</a>.
								</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
											<code class="literal">GET</code>: To retrieve specified information from a specified resource endpoint.
										</li><li class="listitem">
											<code class="literal">POST</code>: To create or update a resource.
										</li><li class="listitem">
											<code class="literal">PUT</code>: To update a resource.
										</li><li class="listitem">
											<code class="literal">DELETE</code>: To delete a resource.
										</li></ul></div></dd><dt><span class="term">https://<span class="emphasis"><em>&lt;my_developer_hub_url&gt;</em></span></span></dt><dd>
									Enter your Developer Hub URL.
								</dd><dt><span class="term"><span class="emphasis"><em>&lt;endpoint&gt;</em></span></span></dt><dd>
									Enter the <a class="link" href="#ref-rbac-rest-api-endpoints_title-authorization" title="4.3. Supported RBAC REST API endpoints">API endpoint</a> to which you want to send a request, such as <code class="literal">/api/permission/policies</code>.
								</dd><dt><span class="term"><span class="emphasis"><em>&lt;body&gt;</em></span></span></dt><dd>
									Enter the JSON body with data that your <a class="link" href="#ref-rbac-rest-api-endpoints_title-authorization" title="4.3. Supported RBAC REST API endpoints">API endpoint</a> might need with the HTTP <code class="literal">POST</code> or <code class="literal">PUT</code> request.
								</dd></dl></div><div class="formalpara"><p class="title"><strong>Example request to create a role</strong></p><p>
							
<pre class="screen">curl -v -H "Content-Type: application/json" \
  -H "Authorization: Bearer <span class="emphasis"><em>&lt;token&gt;</em></span>" \
  -X POST "https://<span class="emphasis"><em>&lt;my_developer_hub_url&gt;</em></span>/api/permission/roles" \
  -d '{
      "memberReferences": ["group:default/example"],
      "name": "role:default/test",
      "metadata": { "description": "This is a test role" }
    }'</pre>
						</p></div><div class="formalpara"><p class="title"><strong>Example request to update a role</strong></p><p>
							
<pre class="screen">curl -v -H "Content-Type: application/json" \
  -H "Authorization: Bearer <span class="emphasis"><em>&lt;token&gt;</em></span>" \
  -X PUT "https://<span class="emphasis"><em>&lt;my_developer_hub_url&gt;</em></span>/api/permission/roles/role/default/test" \
  -d '{
          "oldRole": {
            "memberReferences":  [ "group:default/example" ],
            "name": "role:default/test"
          },
          "newRole": {
            "memberReferences": [ "group:default/example", "user:default/test" ],
            "name": "role:default/test"
          }
        }'</pre>
						</p></div><div class="formalpara"><p class="title"><strong>Example request to create a permission policy</strong></p><p>
							
<pre class="screen">curl -v -H "Content-Type: application/json" \
  -H "Authorization: Bearer $token" \
  -X POST "https://<span class="emphasis"><em>&lt;my_developer_hub_url&gt;</em></span>/api/permission/policies" \
  -d '[{
      "entityReference":"role:default/test",
      "permission": "catalog-entity",
      "policy": "read", "effect":"allow"
    }]'</pre>
						</p></div><div class="formalpara"><p class="title"><strong>Example request to update a permission policy</strong></p><p>
							
<pre class="screen">curl -v -H "Content-Type: application/json" \
  -H "Authorization: Bearer $token" \
  -X PUT "https://<span class="emphasis"><em>&lt;my_developer_hub_url&gt;</em></span>/api/permission/policies/role/default/test" \
  -d '{
         "oldPolicy": [
           {
             "permission": "catalog-entity", "policy": "read", "effect": "allow"
           }
         ],
         "newPolicy":
           [
             {
               "permission": "policy-entity", "policy": "read", "effect": "allow"
             }
           ]
       }'</pre>
						</p></div><div class="formalpara"><p class="title"><strong>Example request to create a condition</strong></p><p>
							
<pre class="screen">curl -v -H "Content-Type: application/json" \
  -H "Authorization: Bearer $token" \
  -X POST "https://<span class="emphasis"><em>&lt;my_developer_hub_url&gt;</em></span>/api/permission/roles/conditions" \
  -d '{
      "result": "CONDITIONAL",
      "roleEntityRef": "role:default/test",
      "pluginId": "catalog",
      "resourceType": "catalog-entity",
      "permissionMapping": ["read"],
      "conditions": {
        "rule": "IS_ENTITY_OWNER",
        "resourceType": "catalog-entity",
        "params": {"claims": ["group:default/janus-authors"]}
      }
    }'</pre>
						</p></div><div class="formalpara"><p class="title"><strong>Example request to update a condition</strong></p><p>
							
<pre class="screen">curl -v -H "Content-Type: application/json" \
  -H "Authorization: Bearer $token" \
  -X PUT "https://<span class="emphasis"><em>&lt;my_developer_hub_url&gt;</em></span>/api/permission/roles/conditions/1" \
  -d '{
          "result":"CONDITIONAL",
          "roleEntityRef":"role:default/test",
          "pluginId":"catalog",
          "resourceType":"catalog-entity",
          "permissionMapping": ["read",  "update", "delete"],
          "conditions": {
            "rule": "IS_ENTITY_OWNER",
            "resourceType": "catalog-entity",
            "params": {"claims": ["group:default/janus-authors"]}
          }
       }'</pre>
						</p></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Review the returned HTTP status code:
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">200</code> OK</span></dt><dd>
									The request was successful.
								</dd><dt><span class="term"><code class="literal">201</code> Created</span></dt><dd>
									The request resulted in a new resource being successfully created.
								</dd><dt><span class="term"><code class="literal">204</code> No Content</span></dt><dd>
									The request was successful, and the response payload has no more content.
								</dd><dt><span class="term"><code class="literal">400</code> Bad Request</span></dt><dd>
									Input error with the request.
								</dd><dt><span class="term"><code class="literal">401</code> Unauthorized</span></dt><dd>
									Lacks valid authentication for the requested resource.
								</dd><dt><span class="term"><code class="literal">403</code> Forbidden</span></dt><dd>
									Refusal to authorize request.
								</dd><dt><span class="term"><code class="literal">404</code> Not Found</span></dt><dd>
									Could not find requested resource.
								</dd><dt><span class="term"><code class="literal">409</code> Conflict</span></dt><dd>
									Request conflict with the current state and the target resource.
								</dd></dl></div></li></ul></div></section><section class="section" id="proc-rbac-sending-requests-to-the-rbac-rest-api-by-using-a-rest-client_title-authorization"><div class="titlepage"><div><div><h3 class="title">4.2. Sending requests to the RBAC REST API by using a REST client</h3></div></div></div><p>
				You can send RBAC REST API requests using any REST client.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#enabling-and-giving-access-to-rbac" title="1. Enabling and giving access to the Role-Based Access Control (RBAC) feature">You have access to the RBAC feature</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Find your Bearer token to authenticate to the REST API.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								In your browser, open the web console <span class="strong strong"><strong>Network</strong></span> tab.
							</li><li class="listitem">
								In the main screen, reload the Developer Hub <span class="strong strong"><strong>Homepage</strong></span>.
							</li><li class="listitem">
								In the web console <span class="strong strong"><strong>Network</strong></span> tab, search for the <code class="literal">query?term=</code> network call.
							</li><li class="listitem">
								Save the <span class="strong strong"><strong>token</strong></span> in the response JSON for the next steps.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						In your REST client, run a command with the following parameters and review the response:
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Authorization</span></dt><dd>
									Enter your saved authorization token.
								</dd><dt><span class="term">HTTP method</span></dt><dd><p class="simpara">
									Enter the HTTP method for your <a class="link" href="#ref-rbac-rest-api-endpoints_title-authorization" title="4.3. Supported RBAC REST API endpoints">API endpoint</a>.
								</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
											<code class="literal">GET</code>: To retrieve specified information from a specified resource endpoint.
										</li><li class="listitem">
											<code class="literal">POST</code>: To create or update a resource.
										</li><li class="listitem">
											<code class="literal">PUT</code>: To update a resource.
										</li><li class="listitem">
											<code class="literal">DELETE</code>: To delete a resource.
										</li></ul></div></dd><dt><span class="term">URL</span></dt><dd>
									Enter your Developer Hub URL and <a class="link" href="#ref-rbac-rest-api-endpoints_title-authorization" title="4.3. Supported RBAC REST API endpoints">API endpoint</a>: https://<span class="emphasis"><em>&lt;my_developer_hub_url&gt;</em></span>/<span class="emphasis"><em>&lt;endpoint&gt;</em></span>, such as <code class="literal">https://<span class="emphasis"><em>&lt;my_developer_hub_url&gt;</em></span>/api/permission/policies</code>.
								</dd><dt><span class="term">Body</span></dt><dd>
									Enter the JSON body with data that your <a class="link" href="#ref-rbac-rest-api-endpoints_title-authorization" title="4.3. Supported RBAC REST API endpoints">API endpoint</a> might need with the HTTP <code class="literal">POST</code> request.
								</dd></dl></div></li></ol></div></section><section class="section" id="ref-rbac-rest-api-endpoints_title-authorization"><div class="titlepage"><div><div><h3 class="title">4.3. Supported RBAC REST API endpoints</h3></div></div></div><p>
				The RBAC REST API provides endpoints for managing roles, permissions, and conditional policies in the Developer Hub and for retrieving information about the roles and policies.
			</p><section class="section" id="roles"><div class="titlepage"><div><div><h4 class="title">4.3.1. Roles</h4></div></div></div><p>
					The RBAC REST API supports the following endpoints for managing roles in the Red Hat Developer Hub.
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">[GET] /api/permission/roles</span></dt><dd><p class="simpara">
								Returns all roles in Developer Hub.
							</p><div class="formalpara"><p class="title"><strong>Example response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">[
  {
    "memberReferences": ["user:default/username"],
    "name": "role:default/guests"
  },
  {
    "memberReferences": [
      "group:default/groupname",
      "user:default/username"
    ],
    "name": "role:default/rbac_admin"
  }
]</pre>
								</p></div></dd><dt><span class="term">[GET] /api/permission/roles/<span class="emphasis"><em>&lt;kind&gt;</em></span>/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;name&gt;</em></span></span></dt><dd><p class="simpara">
								Returns information for a single role in Developer Hub.
							</p><div class="formalpara"><p class="title"><strong>Example response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">[
  {
    "memberReferences": [
      "group:default/groupname",
      "user:default/username"
    ],
    "name": "role:default/rbac_admin"
  }
]</pre>
								</p></div></dd><dt><span class="term">[POST] /api/permission/roles/<span class="emphasis"><em>&lt;kind&gt;</em></span>/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;name&gt;</em></span></span></dt><dd><p class="simpara">
								Creates a role in Developer Hub.
							</p><div class="table" id="idm45700302346528"><p class="title"><strong>Table 1. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm45700307302928" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm45700307301840" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm45700307300752" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm45700307299664" scope="col">Presence</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm45700307302928">
											<p>
												<code class="literal">body</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700307301840">
											<p>
												The <code class="literal">memberReferences</code>, <code class="literal">group</code>, <code class="literal">namespace</code>, and <code class="literal">name</code> the new role to be created.
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700307300752">
											<p>
												Request body
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700307299664">
											<p>
												Required
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example request body (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "memberReferences": ["group:default/test"],
  "name": "role:default/test_admin"
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example response</strong></p><p>
									
<pre class="screen">201 Created</pre>
								</p></div></dd><dt><span class="term">[PUT] /api/permission/roles/<span class="emphasis"><em>&lt;kind&gt;</em></span>/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;name&gt;</em></span></span></dt><dd><p class="simpara">
								Updates <code class="literal">memberReferences</code>, <code class="literal">kind</code>, <code class="literal">namespace</code>, or <code class="literal">name</code> for a role in Developer Hub.
							</p><div class="formalpara"><p class="title"><strong>Request parameters</strong></p><p>
									The request body contains the <code class="literal">oldRole</code> and <code class="literal">newRole</code> objects:
								</p></div><div class="informaltable"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm45700306055008" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm45700306053920" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm45700306052832" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm45700306051744" scope="col">Presence</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm45700306055008">
											<p>
												<code class="literal">body</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700306053920">
											<p>
												The <code class="literal">memberReferences</code>, <code class="literal">group</code>, <code class="literal">namespace</code>, and <code class="literal">name</code> the new role to be created.
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700306052832">
											<p>
												Request body
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700306051744">
											<p>
												Required
											</p>
											</td></tr></tbody></table></div><div class="formalpara"><p class="title"><strong>Example request body (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "oldRole": {
    "memberReferences": ["group:default/test"],
    "name": "role:default/test_admin"
  },
  "newRole": {
    "memberReferences": ["group:default/test", "user:default/test2"],
    "name": "role:default/test_admin"
  }
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example response</strong></p><p>
									
<pre class="screen">200 OK</pre>
								</p></div></dd><dt><span class="term">[DELETE] /api/permission/roles/<span class="emphasis"><em>&lt;kind&gt;</em></span>/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;name&gt;</em></span>?memberReferences=&lt;VALUE&gt;</span></dt><dd><p class="simpara">
								Deletes the specified user or group from a role in Developer Hub.
							</p><div class="table" id="idm45700304903248"><p class="title"><strong>Table 2. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm45700304896672" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm45700304895584" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm45700304894496" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm45700304893408" scope="col">Presence</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm45700304896672">
											<p>
												<code class="literal">kind</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304895584">
											<p>
												Kind of the entity
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304894496">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304893408">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700304896672">
											<p>
												<code class="literal">namespace</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304895584">
											<p>
												Namespace of the entity
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304894496">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304893408">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700304896672">
											<p>
												<code class="literal">name</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304895584">
											<p>
												Name of the entity
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304894496">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304893408">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700304896672">
											<p>
												<code class="literal">memberReferences</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304895584">
											<p>
												Associated group information
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304894496">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304893408">
											<p>
												Required
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example response</strong></p><p>
									
<pre class="screen">204</pre>
								</p></div></dd><dt><span class="term">[DELETE] /api/permission/roles/<span class="emphasis"><em>&lt;kind&gt;</em></span>/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;name&gt;</em></span></span></dt><dd><p class="simpara">
								Deletes a specified role from Developer Hub.
							</p><div class="table" id="idm45700305411024"><p class="title"><strong>Table 3. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm45700309554192" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm45700309553104" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm45700309552016" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm45700309550928" scope="col">Presence</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm45700309554192">
											<p>
												<code class="literal">kind</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700309553104">
											<p>
												Kind of the entity
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700309552016">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700309550928">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700309554192">
											<p>
												<code class="literal">namespace</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700309553104">
											<p>
												Namespace of the entity
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700309552016">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700309550928">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700309554192">
											<p>
												<code class="literal">name</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700309553104">
											<p>
												Name of the entity
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700309552016">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700309550928">
											<p>
												Required
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example response</strong></p><p>
									
<pre class="screen">204</pre>
								</p></div></dd></dl></div></section><section class="section" id="permission-policies"><div class="titlepage"><div><div><h4 class="title">4.3.2. Permission policies</h4></div></div></div><p>
					The RBAC REST API supports the following endpoints for managing permission policies in the Red Hat Developer Hub.
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">[GET] /api/permission/policies</span></dt><dd><p class="simpara">
								Returns permission policies list for all users.
							</p><div class="formalpara"><p class="title"><strong>Example response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">[
  {
    "entityReference": "role:default/test",
    "permission": "catalog-entity",
    "policy": "read",
    "effect": "allow",
    "metadata": {
      "source": "csv-file"
    }
  },
  {
    "entityReference": "role:default/test",
    "permission": "catalog.entity.create",
    "policy": "use",
    "effect": "allow",
    "metadata": {
      "source": "csv-file"
    }
  },
]</pre>
								</p></div></dd><dt><span class="term">[GET] /api/permission/policies/<span class="emphasis"><em>&lt;kind&gt;</em></span>/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;name&gt;</em></span></span></dt><dd><p class="simpara">
								Returns permission policies related to the specified entity reference.
							</p><div class="table" id="idm45700309375344"><p class="title"><strong>Table 4. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm45700305275216" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm45700305274128" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm45700305273040" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm45700305271952" scope="col">Presence</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm45700305275216">
											<p>
												<code class="literal">kind</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305274128">
											<p>
												Kind of the entity
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305273040">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305271952">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700305275216">
											<p>
												<code class="literal">namespace</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305274128">
											<p>
												Namespace of the entity
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305273040">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305271952">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700305275216">
											<p>
												<code class="literal">name</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305274128">
											<p>
												Name related to the entity
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305273040">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305271952">
											<p>
												Required
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">[
  {
    "entityReference": "role:default/test",
    "permission": "catalog-entity",
    "policy": "read",
    "effect": "allow",
    "metadata": {
      "source": "csv-file"
    }
  },
  {
    "entityReference": "role:default/test",
    "permission": "catalog.entity.create",
    "policy": "use",
    "effect": "allow",
    "metadata": {
      "source": "csv-file"
    }
  }
]</pre>
								</p></div></dd><dt><span class="term">[POST] /api/permission/policies</span></dt><dd><p class="simpara">
								Creates a permission policy for a specified entity.
							</p><div class="table" id="idm45700312058208"><p class="title"><strong>Table 5. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm45700304341360" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm45700304340384" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm45700304339296" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm45700304338208" scope="col">Presence</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm45700304341360">
											<p>
												<code class="literal">entityReference</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304340384">
											<p>
												Reference values of an entity including <code class="literal">kind</code>, <code class="literal">namespace</code>, and <code class="literal">name</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304339296">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304338208">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700304341360">
											<p>
												<code class="literal">permission</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304340384">
											<p>
												Permission from a specific plugin, resource type, or name
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304339296">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304338208">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700304341360">
											<p>
												<code class="literal">policy</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304340384">
											<p>
												Policy action for the permission, such as <code class="literal">create</code>, <code class="literal">read</code>, <code class="literal">update</code>, <code class="literal">delete</code>, or <code class="literal">use</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304339296">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304338208">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700304341360">
											<p>
												<code class="literal">effect</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304340384">
											<p>
												Indication of allowing or not allowing the policy
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304339296">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304338208">
											<p>
												Required
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example request body (JSON)</strong></p><p>
									
<pre class="programlisting language-json">[
  {
    "entityReference": "role:default/test",
    "permission": "catalog-entity",
    "policy": "read",
    "effect": "allow"
  }
]</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example response</strong></p><p>
									
<pre class="screen">201 Created</pre>
								</p></div></dd><dt><span class="term">[PUT] /api/permission/policies/<span class="emphasis"><em>&lt;kind&gt;</em></span>/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;name&gt;</em></span></span></dt><dd><p class="simpara">
								Updates a permission policy for a specified entity.
							</p><div class="formalpara"><p class="title"><strong>Request parameters</strong></p><p>
									The request body contains the <code class="literal">oldPolicy</code> and <code class="literal">newPolicy</code> objects:
								</p></div><div class="informaltable"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm45700302214000" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm45700302212912" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm45700302211824" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm45700302210736" scope="col">Presence</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm45700302214000">
											<p>
												<code class="literal">permission</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700302212912">
											<p>
												Permission from a specific plugin, resource type, or name
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700302211824">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700302210736">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700302214000">
											<p>
												<code class="literal">policy</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700302212912">
											<p>
												Policy action for the permission, such as <code class="literal">create</code>, <code class="literal">read</code>, <code class="literal">update</code>, <code class="literal">delete</code>, or <code class="literal">use</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700302211824">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700302210736">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700302214000">
											<p>
												<code class="literal">effect</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700302212912">
											<p>
												Indication of allowing or not allowing the policy
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700302211824">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700302210736">
											<p>
												Required
											</p>
											</td></tr></tbody></table></div><div class="formalpara"><p class="title"><strong>Example request body (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "oldPolicy": [
    {
      "permission": "catalog-entity",
      "policy": "read",
      "effect": "allow"
    },
    {
      "permission": "catalog.entity.create",
      "policy": "create",
      "effect": "allow"
    }
  ],
  "newPolicy": [
    {
      "permission": "catalog-entity",
      "policy": "read",
      "effect": "deny"
    },
    {
      "permission": "policy-entity",
      "policy": "read",
      "effect": "allow"
    }
  ]
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example response</strong></p><p>
									
<pre class="screen">200</pre>
								</p></div></dd><dt><span class="term">[DELETE] /api/permission/policies/<span class="emphasis"><em>&lt;kind&gt;</em></span>/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;name&gt;</em></span>?permission={value1}&amp;policy={value2}&amp;effect={value3}</span></dt><dd><p class="simpara">
								Deletes a permission policy added to the specified entity.
							</p><div class="table" id="idm45700307068304"><p class="title"><strong>Table 6. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm45700307061616" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm45700307060528" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm45700307059440" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm45700307058352" scope="col">Presence</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm45700307061616">
											<p>
												<code class="literal">kind</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700307060528">
											<p>
												Kind of the entity
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700307059440">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700307058352">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700307061616">
											<p>
												<code class="literal">namespace</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700307060528">
											<p>
												Namespace of the entity
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700307059440">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700307058352">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700307061616">
											<p>
												<code class="literal">name</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700307060528">
											<p>
												Name related to the entity
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700307059440">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700307058352">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700307061616">
											<p>
												<code class="literal">permission</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700307060528">
											<p>
												Permission from a specific plugin, resource type, or name
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700307059440">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700307058352">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700307061616">
											<p>
												<code class="literal">policy</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700307060528">
											<p>
												Policy action for the permission, such as <code class="literal">create</code>, <code class="literal">read</code>, <code class="literal">update</code>, <code class="literal">delete</code>, or <code class="literal">use</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700307059440">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700307058352">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700307061616">
											<p>
												<code class="literal">effect</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700307060528">
											<p>
												Indication of allowing or not allowing the policy
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700307059440">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700307058352">
											<p>
												Required
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example response</strong></p><p>
									
<pre class="screen">204 No Content</pre>
								</p></div></dd><dt><span class="term">[DELETE] /api/permission/policies/<span class="emphasis"><em>&lt;kind&gt;</em></span>/<span class="emphasis"><em>&lt;namespace&gt;</em></span>/<span class="emphasis"><em>&lt;name&gt;</em></span></span></dt><dd><p class="simpara">
								Deletes all permission policies added to the specified entity.
							</p><div class="table" id="idm45700304885232"><p class="title"><strong>Table 7. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm45700305247248" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm45700305246160" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm45700305245072" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm45700305243984" scope="col">Presence</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm45700305247248">
											<p>
												<code class="literal">kind</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305246160">
											<p>
												Kind of the entity
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305245072">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305243984">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700305247248">
											<p>
												<code class="literal">namespace</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305246160">
											<p>
												Namespace of the entity
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305245072">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305243984">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700305247248">
											<p>
												<code class="literal">name</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305246160">
											<p>
												Name related to the entity
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305245072">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305243984">
											<p>
												Required
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example response</strong></p><p>
									
<pre class="screen">204 No Content</pre>
								</p></div></dd><dt><span class="term">[GET] /api/permission/plugins/policies</span></dt><dd><p class="simpara">
								Returns permission policies for all static plugins.
							</p><div class="formalpara"><p class="title"><strong>Example response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">[
  {
    "pluginId": "catalog",
    "policies": [
      {
        "isResourced": true,
        "permission": "catalog-entity",
        "policy": "read"
      },
      {
        "isResourced": false,
        "permission": "catalog.entity.create",
        "policy": "create"
      },
      {
        "isResourced": true,
        "permission": "catalog-entity",
        "policy": "delete"
      },
      {
        "isResourced": true,
        "permission": "catalog-entity",
        "policy": "update"
      },
      {
        "isResourced": false,
        "permission": "catalog.location.read",
        "policy": "read"
      },
      {
        "isResourced": false,
        "permission": "catalog.location.create",
        "policy": "create"
      },
      {
        "isResourced": false,
        "permission": "catalog.location.delete",
        "policy": "delete"
      }
    ]
  },
  ...
]</pre>
								</p></div></dd></dl></div></section><section class="section" id="conditional-policies"><div class="titlepage"><div><div><h4 class="title">4.3.3. Conditional policies</h4></div></div></div><p>
					The RBAC REST API supports the following endpoints for managing conditional policies in the Red Hat Developer Hub.
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">[GET] /api/permission/plugins/condition-rules</span></dt><dd><p class="simpara">
								Returns available conditional rule parameter schemas for the available plugins that are enabled in Developer Hub.
							</p><div class="formalpara"><p class="title"><strong>Example response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">[
   {
      "pluginId": "catalog",
      "rules": [
         {
            "name": "HAS_ANNOTATION",
            "description": "Allow entities with the specified annotation",
            "resourceType": "catalog-entity",
            "paramsSchema": {
               "type": "object",
               "properties": {
                  "annotation": {
                     "type": "string",
                     "description": "Name of the annotation to match on"
                  },
                  "value": {
                     "type": "string",
                     "description": "Value of the annotation to match on"
                  }
               },
               "required": [
                  "annotation"
               ],
               "additionalProperties": false,
               "$schema": "http://json-schema.org/draft-07/schema#"
            }
         },
         {
            "name": "HAS_LABEL",
            "description": "Allow entities with the specified label",
            "resourceType": "catalog-entity",
            "paramsSchema": {
               "type": "object",
               "properties": {
                  "label": {
                     "type": "string",
                     "description": "Name of the label to match on"
                  }
               },
               "required": [
                  "label"
               ],
               "additionalProperties": false,
               "$schema": "http://json-schema.org/draft-07/schema#"
            }
         },
         {
            "name": "HAS_METADATA",
            "description": "Allow entities with the specified metadata subfield",
            "resourceType": "catalog-entity",
            "paramsSchema": {
               "type": "object",
               "properties": {
                  "key": {
                     "type": "string",
                     "description": "Property within the entities metadata to match on"
                  },
                  "value": {
                     "type": "string",
                     "description": "Value of the given property to match on"
                  }
               },
               "required": [
                  "key"
               ],
               "additionalProperties": false,
               "$schema": "http://json-schema.org/draft-07/schema#"
            }
         },
         {
            "name": "HAS_SPEC",
            "description": "Allow entities with the specified spec subfield",
            "resourceType": "catalog-entity",
            "paramsSchema": {
               "type": "object",
               "properties": {
                  "key": {
                     "type": "string",
                     "description": "Property within the entities spec to match on"
                  },
                  "value": {
                     "type": "string",
                     "description": "Value of the given property to match on"
                  }
               },
               "required": [
                  "key"
               ],
               "additionalProperties": false,
               "$schema": "http://json-schema.org/draft-07/schema#"
            }
         },
         {
            "name": "IS_ENTITY_KIND",
            "description": "Allow entities matching a specified kind",
            "resourceType": "catalog-entity",
            "paramsSchema": {
               "type": "object",
               "properties": {
                  "kinds": {
                     "type": "array",
                     "items": {
                        "type": "string"
                     },
                     "description": "List of kinds to match at least one of"
                  }
               },
               "required": [
                  "kinds"
               ],
               "additionalProperties": false,
               "$schema": "http://json-schema.org/draft-07/schema#"
            }
         },
         {
            "name": "IS_ENTITY_OWNER",
            "description": "Allow entities owned by a specified claim",
            "resourceType": "catalog-entity",
            "paramsSchema": {
               "type": "object",
               "properties": {
                  "claims": {
                     "type": "array",
                     "items": {
                        "type": "string"
                     },
                     "description": "List of claims to match at least one on within ownedBy"
                  }
               },
               "required": [
                  "claims"
               ],
               "additionalProperties": false,
               "$schema": "http://json-schema.org/draft-07/schema#"
            }
         }
      ]
   }
   ... &lt;another plugin condition parameter schemas&gt;
]</pre>
								</p></div></dd><dt><span class="term">[GET] /api/permission/roles/conditions/:id</span></dt><dd><p class="simpara">
								Returns conditions for the specified ID.
							</p><div class="formalpara"><p class="title"><strong>Example response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "id": 1,
  "result": "CONDITIONAL",
  "roleEntityRef": "role:default/test",
  "pluginId": "catalog",
  "resourceType": "catalog-entity",
  "permissionMapping": ["read"],
  "conditions": {
    "anyOf": [
      {
        "rule": "IS_ENTITY_OWNER",
        "resourceType": "catalog-entity",
        "params": {
          "claims": ["group:default/team-a"]
        }
      },
      {
        "rule": "IS_ENTITY_KIND",
        "resourceType": "catalog-entity",
        "params": {
          "kinds": ["Group"]
        }
      }
    ]
  }
}</pre>
								</p></div></dd><dt><span class="term">[GET] /api/permission/roles/conditions</span></dt><dd><p class="simpara">
								Returns list of all conditions for all roles.
							</p><div class="formalpara"><p class="title"><strong>Example response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">[
  {
    "id": 1,
    "result": "CONDITIONAL",
    "roleEntityRef": "role:default/test",
    "pluginId": "catalog",
    "resourceType": "catalog-entity",
    "permissionMapping": ["read"],
    "conditions": {
      "anyOf": [
        {
          "rule": "IS_ENTITY_OWNER",
          "resourceType": "catalog-entity",
          "params": {
            "claims": ["group:default/team-a"]
          }
        },
        {
          "rule": "IS_ENTITY_KIND",
          "resourceType": "catalog-entity",
          "params": {
            "kinds": ["Group"]
          }
        }
      ]
    }
  }
]</pre>
								</p></div></dd><dt><span class="term">[POST] /api/permission/roles/conditions</span></dt><dd><p class="simpara">
								Creates a conditional policy for the specified role.
							</p><div class="table" id="idm45700305168128"><p class="title"><strong>Table 8. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm45700305161440" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm45700305160352" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm45700305159264" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm45700305158176" scope="col">Presence</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm45700305161440">
											<p>
												<code class="literal">result</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305160352">
											<p>
												Always has the value <code class="literal">CONDITIONAL</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305159264">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305158176">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700305161440">
											<p>
												<code class="literal">roleEntityRef</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305160352">
											<p>
												String entity reference to the RBAC role, such as <code class="literal">role:default/dev</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305159264">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305158176">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700305161440">
											<p>
												<code class="literal">pluginId</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305160352">
											<p>
												Corresponding plugin ID, such as <code class="literal">catalog</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305159264">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305158176">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700305161440">
											<p>
												<code class="literal">permissionMapping</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305160352">
											<p>
												Array permission action, such as <code class="literal">['read', 'update', 'delete']</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305159264">
											<p>
												String array
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305158176">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700305161440">
											<p>
												<code class="literal">resourceType</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305160352">
											<p>
												Resource type provided by the plugin, such as <code class="literal">catalog-entity</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305159264">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305158176">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700305161440">
											<p>
												<code class="literal">conditions</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305160352">
											<p>
												Condition JSON with parameters or array parameters joined by criteria
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305159264">
											<p>
												JSON
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305158176">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700305161440">
											<p>
												<code class="literal">name</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305160352">
											<p>
												Name of the role
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305159264">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305158176">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700305161440">
											<p>
												<code class="literal">metadata.description</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305160352">
											<p>
												The description of the role
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305159264">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700305158176">
											<p>
												Optional
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example request body (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "result": "CONDITIONAL",
  "roleEntityRef": "role:default/test",
  "pluginId": "catalog",
  "resourceType": "catalog-entity",
  "permissionMapping": ["read"],
  "conditions": {
    "rule": "IS_ENTITY_OWNER",
    "resourceType": "catalog-entity",
    "params": {
      "claims": ["group:default/team-a"]
    }
  }
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example response (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "id": 1
}</pre>
								</p></div></dd><dt><span class="term">[PUT] /permission/roles/conditions/:id</span></dt><dd><p class="simpara">
								Updates a condition policy for a specified ID.
							</p><div class="table" id="idm45700304799200"><p class="title"><strong>Table 9. Request parameters</strong></p><div class="table-contents"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm45700304792512" scope="col">Name</th><th style="text-align: left; vertical-align: top; " id="idm45700304791424" scope="col">Description</th><th style="text-align: left; vertical-align: top; " id="idm45700304790336" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm45700304789248" scope="col">Presence</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm45700304792512">
											<p>
												<code class="literal">result</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304791424">
											<p>
												Always has the value <code class="literal">CONDITIONAL</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304790336">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304789248">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700304792512">
											<p>
												<code class="literal">roleEntityRef</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304791424">
											<p>
												String entity reference to the RBAC role, such as <code class="literal">role:default/dev</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304790336">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304789248">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700304792512">
											<p>
												<code class="literal">pluginId</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304791424">
											<p>
												Corresponding plugin ID, such as <code class="literal">catalog</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304790336">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304789248">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700304792512">
											<p>
												<code class="literal">permissionMapping</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304791424">
											<p>
												Array permission action, such as <code class="literal">['read', 'update', 'delete']</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304790336">
											<p>
												String array
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304789248">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700304792512">
											<p>
												<code class="literal">resourceType</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304791424">
											<p>
												Resource type provided by the plugin, such as <code class="literal">catalog-entity</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304790336">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304789248">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700304792512">
											<p>
												<code class="literal">conditions</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304791424">
											<p>
												Condition JSON with parameters or array parameters joined by criteria
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304790336">
											<p>
												JSON
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304789248">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700304792512">
											<p>
												<code class="literal">name</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304791424">
											<p>
												Name of the role
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304790336">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304789248">
											<p>
												Required
											</p>
											</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700304792512">
											<p>
												<code class="literal">metadata.description</code>
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304791424">
											<p>
												The description of the role
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304790336">
											<p>
												String
											</p>
											</td><td style="text-align: left; vertical-align: top; " headers="idm45700304789248">
											<p>
												Optional
											</p>
											</td></tr></tbody></table></div></div><div class="formalpara"><p class="title"><strong>Example request body (JSON)</strong></p><p>
									
<pre class="programlisting language-json">{
  "result": "CONDITIONAL",
  "roleEntityRef": "role:default/test",
  "pluginId": "catalog",
  "resourceType": "catalog-entity",
  "permissionMapping": ["read"],
  "conditions": {
    "anyOf": [
      {
        "rule": "IS_ENTITY_OWNER",
        "resourceType": "catalog-entity",
        "params": {
          "claims": ["group:default/team-a"]
        }
      },
      {
        "rule": "IS_ENTITY_KIND",
        "resourceType": "catalog-entity",
        "params": {
          "kinds": ["Group"]
        }
      }
    ]
  }
}</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example response</strong></p><p>
									
<pre class="screen">200</pre>
								</p></div></dd><dt><span class="term">[DELETE] /api/permission/roles/conditions/:id</span></dt><dd><p class="simpara">
								Deletes a conditional policy for the specified ID.
							</p><div class="formalpara"><p class="title"><strong>Example response</strong></p><p>
									
<pre class="screen">204</pre>
								</p></div></dd></dl></div></section><section class="section" id="user-statistics"><div class="titlepage"><div><div><h4 class="title">4.3.4. User statistics</h4></div></div></div><p>
					The <code class="literal">licensed-users-info-backend</code> plugin exposes various REST API endpoints to retrieve data related to logged-in users.
				</p><p>
					No additional configuration is required for the <code class="literal">licensed-users-info-backend</code> plugin. If the RBAC backend plugin is enabled, then an administrator role must be assigned to access the endpoints, as the endpoints are protected by the <code class="literal">policy.entity.read</code> permission.
				</p><p>
					The base URL for user statistics endpoints is <code class="literal">http://SERVER:PORT/api/licensed-users-info</code>, such as <code class="literal">http://localhost:7007/api/licensed-users-info</code>.
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">[GET] /users/quantity</span></dt><dd><p class="simpara">
								Returns the total number of logged-in users.
							</p><div class="formalpara"><p class="title"><strong>Example request</strong></p><p>
									
<pre class="programlisting language-bash">curl -X GET "http://localhost:7007/api/licensed-users-info/users/quantity" \
-H "Content-Type: application/json" \
-H "Authorization: Bearer $token"</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example response</strong></p><p>
									
<pre class="programlisting language-json">{ "quantity": "2" }</pre>
								</p></div></dd><dt><span class="term">[GET] /users</span></dt><dd><p class="simpara">
								Returns a list of logged-in users with their details.
							</p><div class="formalpara"><p class="title"><strong>Example request</strong></p><p>
									
<pre class="programlisting language-bash">curl -X GET "http://localhost:7007/api/licensed-users-info/users" \
-H "Content-Type: application/json" \
-H "Authorization: Bearer $token"</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example response</strong></p><p>
									
<pre class="programlisting language-json">[
  {
    "userEntityRef": "user:default/dev",
    "lastTimeLogin": "Thu, 22 Aug 2024 16:27:41 GMT",
    "displayName": "John Leavy",
    "email": "dev@redhat.com"
  }
]</pre>
								</p></div></dd><dt><span class="term">[GET] /users</span></dt><dd><p class="simpara">
								Returns a list of logged-in users in CSV format.
							</p><div class="formalpara"><p class="title"><strong>Example request</strong></p><p>
									
<pre class="programlisting language-bash">curl -X GET "http://localhost:7007/api/licensed-users-info/users" \
-H "Content-Type: text/csv" \
-H "Authorization: Bearer $token"</pre>
								</p></div><div class="formalpara"><p class="title"><strong>Example response</strong></p><p>
									
<pre class="programlisting language-csv">userEntityRef,displayName,email,lastTimeLogin
user:default/dev,John Leavy,dev@redhat.com,"Thu, 22 Aug 2024 16:27:41 GMT"</pre>
								</p></div></dd></dl></div></section></section></section><section class="section" id="managing-authorizations-by-using-external-files"><div class="titlepage"><div><div><h2 class="title">5. Managing authorizations by using external files</h2></div></div></div><p>
			To automate Red Hat Developer Hub maintenance, you can configure permissions and roles in external files, before starting Developer Hub.
		</p><section class="section" id="defining-authorizations-in-external-files-by-using-the-operator"><div class="titlepage"><div><div><h3 class="title">5.1. Defining authorizations in external files by using the operator</h3></div></div></div><p>
				To automate Red Hat Developer Hub maintenance, you can define permissions and roles in external files, before starting Developer Hub. You need to prepare your files, upload them to your OpenShift Container Platform project, and configure Developer Hub to use the external files.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#enabling-and-giving-access-to-rbac" title="1. Enabling and giving access to the Role-Based Access Control (RBAC) feature">You enabled the RBAC feature</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Define your policies in a <code class="literal">rbac-policies.csv</code> CSV file by using the following format:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Define role permissions:
							</p><pre class="programlisting language-csv">p, <span class="emphasis"><em>&lt;role_entity_reference&gt;</em></span>, <span class="emphasis"><em>&lt;permission&gt;</em></span>, <span class="emphasis"><em>&lt;action&gt;</em></span>, <span class="emphasis"><em>&lt;allow_or_deny&gt;</em></span></pre><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="emphasis"><em>&lt;role_entity_reference&gt;</em></span></span></dt><dd>
											Role entity reference, such as: <code class="literal">role:default/guest</code>.
										</dd><dt><span class="term"><span class="emphasis"><em>&lt;permission&gt;</em></span></span></dt><dd><p class="simpara">
											Permission, such as: <code class="literal">bulk.import</code>, <code class="literal">catalog.entity.read</code>, or <code class="literal">catalog.entity.refresh</code>, or permission resource type, such as: <code class="literal">bulk-import</code> or <code class="literal">catalog-entity</code>.
										</p><p class="simpara">
											See: <a class="link" href="#ref-rbac-permission-policies_title-authorization" title="7. Permission policies reference">Permission policies reference</a>.
										</p></dd><dt><span class="term"><span class="emphasis"><em>&lt;action&gt;</em></span></span></dt><dd>
											Action type, such as: <code class="literal">use</code>, <code class="literal">read</code>, <code class="literal">create</code>, <code class="literal">update</code>, <code class="literal">delete</code>.
										</dd><dt><span class="term"><span class="emphasis"><em>&lt;allow_or_deny&gt;</em></span></span></dt><dd>
											Access granted: <code class="literal">allow</code> or <code class="literal">deny</code>.
										</dd></dl></div></li><li class="listitem"><p class="simpara">
								Assign the role to a group or a user:
							</p><pre class="programlisting language-csv">g, <span class="emphasis"><em>&lt;group_or_user&gt;</em></span>, <span class="emphasis"><em>&lt;role_entity_reference&gt;</em></span></pre><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="emphasis"><em>&lt;group_or_user&gt;</em></span></span></dt><dd><p class="simpara">
											Group, such as: <code class="literal">user:default/mygroup</code>, or user, such as: <code class="literal">user:default/myuser</code>.
										</p><div class="formalpara"><p class="title"><strong>Sample <code class="literal">rbac-policies.csv</code></strong></p><p>
												
<pre class="programlisting language-csv">p, role:default/guests, catalog-entity, read, allow
p, role:default/guests, catalog.entity.create, create, allow
g, user:default/my-user, role:default/guests
g, group:default/my-group, role:default/guests</pre>
											</p></div></dd></dl></div></li></ol></div></li><li class="listitem"><p class="simpara">
						Define your conditional policies in a <code class="literal">rbac-conditional-policies.yaml</code> YAML file by using the following format:
					</p><pre class="programlisting language-yaml">result: CONDITIONAL
roleEntityRef: <span class="emphasis"><em>&lt;role_entity_reference&gt;</em></span>
pluginId: <span class="emphasis"><em>&lt;plugin_id&gt;</em></span>
permissionMapping:
  - read
  - update
  - delete
conditions: <span class="emphasis"><em>&lt;conditions&gt;</em></span></pre><p class="simpara">
						See: <a class="link" href="#ref-rbac-conditional-policy-definition_title-authorization" title="8.1. Conditional policies reference">Conditional policies reference</a>.
					</p></li><li class="listitem"><p class="simpara">
						Upload your <code class="literal">rbac-policies.csv</code> and <code class="literal">rbac-conditional-policies.yaml</code> files to a <code class="literal">rbac-policies</code> config map in your OpenShift Container Platform project containing Developer Hub.
					</p><pre class="programlisting language-terminal">$ oc create configmap rbac-policies \
     --from-file=rbac-policies.csv \
     --from-file=rbac-conditional-policies.yaml</pre></li><li class="listitem"><p class="simpara">
						Update <a class="link" href="https://docs.redhat.com/documentation/en-us/red_hat_developer_hub/1.5/html-single/configuring/index">your <code class="literal">Backstage</code> custom resource</a> to mount in the Developer Hub filesystem your files from the <code class="literal">rbac-policies</code> config map:
					</p><div class="formalpara"><p class="title"><strong><code class="literal">Backstage</code> custom resource fragment</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: rhdh.redhat.com/v1alpha3
kind: Backstage
spec:
  application:
    extraFiles:
      mountPath: /opt/app-root/src
      configMaps:
        - name: rbac-policies</pre>
						</p></div></li><li class="listitem"><p class="simpara">
						Update your Developer Hub <code class="literal">app-config.yaml</code> configuration file to use the <code class="literal">rbac-policies.csv</code> and <code class="literal">rbac-conditional-policies.yaml</code> external files:
					</p><div class="formalpara"><p class="title"><strong><code class="literal">app-config.yml</code> fragment</strong></p><p>
							
<pre class="programlisting language-yaml">permission:
  enabled: true
  rbac:
    conditionalPoliciesFile: /opt/app-root/src/rbac-conditional-policies.yaml
    policies-csv-file: /opt/app-root/src/rbac-policies.csv
    policyFileReload: true</pre>
						</p></div></li></ol></div></section><section class="section" id="defining-authorizations-in-external-files-by-using-helm"><div class="titlepage"><div><div><h3 class="title">5.2. Defining authorizations in external files by using Helm</h3></div></div></div><p>
				To automate Red Hat Developer Hub maintenance, you can define permissions and roles in external files, before starting Developer Hub. You need to prepare your files, upload them to your OpenShift Container Platform project, and configure Developer Hub to use the external files.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						<a class="link" href="#enabling-and-giving-access-to-rbac" title="1. Enabling and giving access to the Role-Based Access Control (RBAC) feature">You enabled the RBAC feature</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Define your policies in a <code class="literal">rbac-policies.csv</code> CSV file by using the following format:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Define role permissions:
							</p><pre class="programlisting language-csv">p, <span class="emphasis"><em>&lt;role_entity_reference&gt;</em></span>, <span class="emphasis"><em>&lt;permission&gt;</em></span>, <span class="emphasis"><em>&lt;action&gt;</em></span>, <span class="emphasis"><em>&lt;allow_or_deny&gt;</em></span></pre><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="emphasis"><em>&lt;role_entity_reference&gt;</em></span></span></dt><dd>
											Role entity reference, such as: <code class="literal">role:default/guest</code>.
										</dd><dt><span class="term"><span class="emphasis"><em>&lt;permission&gt;</em></span></span></dt><dd><p class="simpara">
											Permission, such as: <code class="literal">bulk.import</code>, <code class="literal">catalog.entity.read</code>, or <code class="literal">catalog.entity.refresh</code>, or permission resource type, such as: <code class="literal">bulk-import</code> or <code class="literal">catalog-entity</code>.
										</p><p class="simpara">
											See: <a class="link" href="#ref-rbac-permission-policies_title-authorization" title="7. Permission policies reference">Permission policies reference</a>.
										</p></dd><dt><span class="term"><span class="emphasis"><em>&lt;action&gt;</em></span></span></dt><dd>
											Action type, such as: <code class="literal">use</code>, <code class="literal">read</code>, <code class="literal">create</code>, <code class="literal">update</code>, <code class="literal">delete</code>.
										</dd><dt><span class="term"><span class="emphasis"><em>&lt;allow_or_deny&gt;</em></span></span></dt><dd>
											Access granted: <code class="literal">allow</code> or <code class="literal">deny</code>.
										</dd></dl></div></li><li class="listitem"><p class="simpara">
								Assign the role to a group or a user:
							</p><pre class="programlisting language-csv">g, <span class="emphasis"><em>&lt;group_or_user&gt;</em></span>, <span class="emphasis"><em>&lt;role_entity_reference&gt;</em></span></pre><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="emphasis"><em>&lt;group_or_user&gt;</em></span></span></dt><dd><p class="simpara">
											Group, such as: <code class="literal">user:default/mygroup</code>, or user, such as: <code class="literal">user:default/myuser</code>.
										</p><div class="formalpara"><p class="title"><strong>Sample <code class="literal">rbac-policies.csv</code></strong></p><p>
												
<pre class="programlisting language-csv">p, role:default/guests, catalog-entity, read, allow
p, role:default/guests, catalog.entity.create, create, allow
g, user:default/my-user, role:default/guests
g, group:default/my-group, role:default/guests</pre>
											</p></div></dd></dl></div></li></ol></div></li><li class="listitem"><p class="simpara">
						Define your conditional policies in a <code class="literal">rbac-conditional-policies.yaml</code> YAML file by using the following format:
					</p><pre class="programlisting language-yaml">result: CONDITIONAL
roleEntityRef: <span class="emphasis"><em>&lt;role_entity_reference&gt;</em></span>
pluginId: <span class="emphasis"><em>&lt;plugin_id&gt;</em></span>
permissionMapping:
  - read
  - update
  - delete
conditions: <span class="emphasis"><em>&lt;conditions&gt;</em></span></pre><p class="simpara">
						See: <a class="link" href="#ref-rbac-conditional-policy-definition_title-authorization" title="8.1. Conditional policies reference">Conditional policies reference</a>.
					</p></li><li class="listitem"><p class="simpara">
						Upload your <code class="literal">rbac-policies.csv</code> and <code class="literal">rbac-conditional-policies.yaml</code> files to a <code class="literal">rbac-policies</code> config map in your OpenShift Container Platform project containing Developer Hub.
					</p><pre class="programlisting language-terminal">$ oc create configmap rbac-policies \
     --from-file=rbac-policies.csv \
     --from-file=rbac-conditional-policies.yaml</pre></li><li class="listitem"><p class="simpara">
						Update your Developer Hub <code class="literal">Backstage</code> Helm chart to mount in the Developer Hub filesystem your files from the <code class="literal">rbac-policies</code> config map:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								In the Developer Hub Helm Chart, go to <span class="strong strong"><strong>Root Schema → Backstage chart schema → Backstage parameters → Backstage container additional volume mounts</strong></span>.
							</li><li class="listitem"><p class="simpara">
								Select <span class="strong strong"><strong>Add Backstage container additional volume mounts</strong></span> and add the following values:
							</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">mountPath</span></dt><dd>
											<code class="literal">/opt/app-root/src/rbac</code>
										</dd><dt><span class="term">Name</span></dt><dd>
											<code class="literal">rbac-policies</code>
										</dd></dl></div></li><li class="listitem"><p class="simpara">
								Add the RBAC policy to the <span class="strong strong"><strong>Backstage container additional volumes</strong></span> in the Developer Hub Helm Chart:
							</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">name</span></dt><dd>
											<code class="literal">rbac-policies</code>
										</dd><dt><span class="term">configMap</span></dt><dd><div class="variablelist"><dl class="variablelist"><dt><span class="term">defaultMode</span></dt><dd>
														<code class="literal">420</code>
													</dd><dt><span class="term">name</span></dt><dd>
														<code class="literal">rbac-policies</code>
													</dd></dl></div></dd></dl></div></li></ol></div></li><li class="listitem"><p class="simpara">
						Update your Developer Hub <code class="literal">app-config.yaml</code> configuration file to use the <code class="literal">rbac-policies.csv</code> and <code class="literal">rbac-conditional-policies.yaml</code> external files:
					</p><div class="formalpara"><p class="title"><strong><code class="literal">app-config.yml</code> fragment</strong></p><p>
							
<pre class="programlisting language-yaml">permission:
  enabled: true
  rbac:
    conditionalPoliciesFile: /opt/app-root/src/rbac-conditional-policies.yaml
    policies-csv-file: /opt/app-root/src/rbac-policies.csv
    policyFileReload: true</pre>
						</p></div></li></ol></div></section></section><section class="section" id="configuring-guest-access-with-rbac-ui_title-authorization"><div class="titlepage"><div><div><h2 class="title">6. Configuring guest access with RBAC UI</h2></div></div></div><p>
			Use guest access with the role-based access control (RBAC) front-end plugin to allow a user to test role and policy creation without the need to set up and configure an authentication provider.
		</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
				Guest access is not recommended for production.
			</p></div></div><section class="section" id="configuring-the-rbac-backend-plugin_title-authorization"><div class="titlepage"><div><div><h3 class="title">6.1. Configuring the RBAC backend plugin</h3></div></div></div><p>
				You can configure the RBAC backend plugin by updating the <code class="literal">app-config.yaml</code> file to enable the permission framework.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have installed the <code class="literal">@janus-idp/backstage-plugin-rbac</code> plugin in Developer Hub. For more information, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.5/html-single/configuring_dynamic_plugins/index">Configuring dynamic plugins</a>.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Update the <code class="literal">app-config.yaml</code> file to enable the permission framework as shown:
					</li></ul></div><pre class="programlisting language-yaml">permission
  enabled: true
  rbac:
    admin:
      users:
        - name: user:default/guest
    pluginsWithPermission:
      - catalog
      - permission
      - scaffolder</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					The <code class="literal">pluginsWithPermission</code> section of the <code class="literal">app-config.yaml</code> section includes only three plugins by default. Update the section as needed to include any additional plugins that also incorporate permissions.
				</p></div></div></section><section class="section" id="setting-up-the-guest-authentication-provider_title-authorization"><div class="titlepage"><div><div><h3 class="title">6.2. Setting up the guest authentication provider</h3></div></div></div><p>
				You can enable guest authentication and use it alongside the RBAC frontend plugin.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have installed the <code class="literal">@janus-idp/backstage-plugin-rbac</code> plugin in Developer Hub. For more information, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.5/html-single/configuring_dynamic_plugins/index">Configuring dynamic plugins</a>.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						In the <code class="literal">app-config.yaml</code> file, add the user entity reference to resolve and enable the <code class="literal">dangerouslyAllowOutsideDevelopment</code> option, as shown in the following example:
					</li></ul></div><pre class="programlisting language-yaml">auth:
  environment: development
  providers:
    guest:
      userEntityRef: user:default/guest
      dangerouslyAllowOutsideDevelopment: true</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					You can use <code class="literal">user:default/guest</code> as the user entity reference to match the added user under the <code class="literal">permission.rbac.admin.users</code> section of the <code class="literal">app-config.yaml</code> file.
				</p></div></div></section></section><section class="section" id="ref-rbac-permission-policies_title-authorization"><div class="titlepage"><div><div><h2 class="title">7. Permission policies reference</h2></div></div></div><p>
			Permission policies in Red Hat Developer Hub are a set of rules to govern access to resources or functionalities. These policies state the authorization level that is granted to users based on their roles. The permission policies are implemented to maintain security and confidentiality within a given environment.
		</p><p>
			You can define the following types of permissions in Developer Hub:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					resource type
				</li><li class="listitem">
					basic
				</li></ul></div><p>
			The distinction between the two permission types depends on whether a permission includes a defined resource type.
		</p><p>
			You can define the resource type permission using either the associated resource type or the permission name as shown in the following example:
		</p><div class="formalpara"><p class="title"><strong>Example resource type permission definition</strong></p><p>
				
<pre class="programlisting language-csv">p, role:default/myrole, catalog.entity.read, read, allow
g, user:default/myuser, role:default/myrole

p, role:default/another-role, catalog-entity, read, allow
g, user:default/another-user, role:default/another-role</pre>
			</p></div><p>
			You can define the basic permission in Developer Hub using the permission name as shown in the following example:
		</p><div class="formalpara"><p class="title"><strong>Example basic permission definition</strong></p><p>
				
<pre class="programlisting language-csv">p, role:default/myrole, catalog.entity.create, create, allow
g, user:default/myuser, role:default/myrole</pre>
			</p></div><p>
			Developer Hub supports following permission policies:
		</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Catalog permissions</span></dt><dd>
						.Catalog permissions
					</dd></dl></div><div class="informaltable"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 25%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 45%; " class="col_4"/></colgroup><thead><tr><th align="left" valign="top" id="idm45700305962576" scope="col">Name</th><th align="left" valign="top" id="idm45700305961488" scope="col">Resource type</th><th align="left" valign="top" id="idm45700305960400" scope="col">Policy</th><th align="left" valign="top" id="idm45700305959312" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm45700305962576">
						<p>
							<code class="literal">catalog.entity.read</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700305961488">
						<p>
							<code class="literal">catalog-entity</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700305960400">
						<p>
							<code class="literal">read</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700305959312">
						<p>
							Allows a user or role to read from the catalog
						</p>
						</td></tr><tr><td align="left" valign="top" headers="idm45700305962576">
						<p>
							<code class="literal">catalog.entity.create</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700305961488"> </td><td align="left" valign="top" headers="idm45700305960400">
						<p>
							<code class="literal">create</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700305959312">
						<p>
							Allows a user or role to create catalog entities, including registering an existing component in the catalog
						</p>
						</td></tr><tr><td align="left" valign="top" headers="idm45700305962576">
						<p>
							<code class="literal">catalog.entity.refresh</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700305961488">
						<p>
							<code class="literal">catalog-entity</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700305960400">
						<p>
							<code class="literal">update</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700305959312">
						<p>
							Allows a user or role to refresh a single or multiple entities from the catalog
						</p>
						</td></tr><tr><td align="left" valign="top" headers="idm45700305962576">
						<p>
							<code class="literal">catalog.entity.delete</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700305961488">
						<p>
							<code class="literal">catalog-entity</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700305960400">
						<p>
							<code class="literal">delete</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700305959312">
						<p>
							Allows a user or role to delete a single or multiple entities from the catalog
						</p>
						</td></tr><tr><td align="left" valign="top" headers="idm45700305962576">
						<p>
							<code class="literal">catalog.location.read</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700305961488"> </td><td align="left" valign="top" headers="idm45700305960400">
						<p>
							<code class="literal">read</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700305959312">
						<p>
							Allows a user or role to read a single or multiple locations from the catalog
						</p>
						</td></tr><tr><td align="left" valign="top" headers="idm45700305962576">
						<p>
							<code class="literal">catalog.location.create</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700305961488"> </td><td align="left" valign="top" headers="idm45700305960400">
						<p>
							<code class="literal">create</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700305959312">
						<p>
							Allows a user or role to create locations within the catalog
						</p>
						</td></tr><tr><td align="left" valign="top" headers="idm45700305962576">
						<p>
							<code class="literal">catalog.location.delete</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700305961488"> </td><td align="left" valign="top" headers="idm45700305960400">
						<p>
							<code class="literal">delete</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700305959312">
						<p>
							Allows a user or role to delete locations from the catalog
						</p>
						</td></tr></tbody></table></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Bulk import permission</span></dt><dd>
						.Bulk import permission
					</dd></dl></div><div class="informaltable"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 25%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 45%; " class="col_4"/></colgroup><thead><tr><th align="left" valign="top" id="idm45700304841632" scope="col">Name</th><th align="left" valign="top" id="idm45700304840544" scope="col">Resource type</th><th align="left" valign="top" id="idm45700304839456" scope="col">Policy</th><th align="left" valign="top" id="idm45700304838368" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm45700304841632">
						<p>
							<code class="literal">bulk.import</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700304840544">
						<p>
							<code class="literal">bulk-import</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700304839456">
						<p>
							<code class="literal">use</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700304838368">
						<p>
							Allows the user to access the bulk import endpoints, such as listing all repositories and organizations accessible by all GitHub integrations and managing the import requests
						</p>
						</td></tr></tbody></table></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Scaffolder permissions</span></dt><dd>
						.Scaffolder permissions
					</dd></dl></div><div class="informaltable"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 25%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 45%; " class="col_4"/></colgroup><thead><tr><th align="left" valign="top" id="idm45700302369312" scope="col">Name</th><th align="left" valign="top" id="idm45700302368224" scope="col">Resource type</th><th align="left" valign="top" id="idm45700302367136" scope="col">Policy</th><th align="left" valign="top" id="idm45700302366048" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm45700302369312">
						<p>
							<code class="literal">scaffolder.action.execute</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700302368224">
						<p>
							<code class="literal">scaffolder-action</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700302367136">
						<p>
							<code class="literal">use</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700302366048">
						<p>
							Allows the execution of an action from a template
						</p>
						</td></tr><tr><td align="left" valign="top" headers="idm45700302369312">
						<p>
							<code class="literal">scaffolder.template.parameter.read</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700302368224">
						<p>
							<code class="literal">scaffolder-template</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700302367136">
						<p>
							<code class="literal">read</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700302366048">
						<p>
							Allows a user or role to read a single or multiple one parameters from a template
						</p>
						</td></tr><tr><td align="left" valign="top" headers="idm45700302369312">
						<p>
							<code class="literal">scaffolder.template.step.read</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700302368224">
						<p>
							<code class="literal">scaffolder-template</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700302367136">
						<p>
							<code class="literal">read</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700302366048">
						<p>
							Allows a user or role to read a single or multiple steps from a template
						</p>
						</td></tr><tr><td align="left" valign="top" headers="idm45700302369312">
						<p>
							<code class="literal">scaffolder.task.create</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700302368224"> </td><td align="left" valign="top" headers="idm45700302367136">
						<p>
							<code class="literal">create</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700302366048">
						<p>
							Allows a user or role to trigger software templates which create new scaffolder tasks
						</p>
						</td></tr><tr><td align="left" valign="top" headers="idm45700302369312">
						<p>
							<code class="literal">scaffolder.task.cancel</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700302368224"> </td><td align="left" valign="top" headers="idm45700302367136">
						<p>
							<code class="literal">use</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700302366048">
						<p>
							Allows a user or role to cancel currently running scaffolder tasks
						</p>
						</td></tr><tr><td align="left" valign="top" headers="idm45700302369312">
						<p>
							<code class="literal">scaffolder.task.read</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700302368224"> </td><td align="left" valign="top" headers="idm45700302367136">
						<p>
							<code class="literal">read</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700302366048">
						<p>
							Allows a user or role to read all scaffolder tasks and their associated events and logs
						</p>
						</td></tr><tr><td align="left" valign="top" headers="idm45700302369312">
						<p>
							<code class="literal">scaffolder.template.management</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700302368224"> </td><td align="left" valign="top" headers="idm45700302367136">
						<p>
							<code class="literal">use</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700302366048">
						<p>
							Allows a user or role to access frontend template management features, including editing, previewing, and trying templates, forms, and custom fields.
						</p>
						</td></tr></tbody></table></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">RBAC permissions</span></dt><dd>
						.RBAC permissions
					</dd></dl></div><div class="informaltable"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 25%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 45%; " class="col_4"/></colgroup><thead><tr><th align="left" valign="top" id="idm45700308373568" scope="col">Name</th><th align="left" valign="top" id="idm45700308372480" scope="col">Resource type</th><th align="left" valign="top" id="idm45700308371392" scope="col">Policy</th><th align="left" valign="top" id="idm45700308370304" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm45700308373568">
						<p>
							<code class="literal">policy.entity.read</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700308372480">
						<p>
							<code class="literal">policy-entity</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700308371392">
						<p>
							<code class="literal">read</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700308370304">
						<p>
							Allows a user or role to read permission policies and roles
						</p>
						</td></tr><tr><td align="left" valign="top" headers="idm45700308373568">
						<p>
							<code class="literal">policy.entity.create</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700308372480">
						<p>
							<code class="literal">policy-entity</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700308371392">
						<p>
							<code class="literal">create</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700308370304">
						<p>
							Allows a user or role to create a single or multiple permission policies and roles
						</p>
						</td></tr><tr><td align="left" valign="top" headers="idm45700308373568">
						<p>
							<code class="literal">policy.entity.update</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700308372480">
						<p>
							<code class="literal">policy-entity</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700308371392">
						<p>
							<code class="literal">update</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700308370304">
						<p>
							Allows a user or role to update a single or multiple permission policies and roles
						</p>
						</td></tr><tr><td align="left" valign="top" headers="idm45700308373568">
						<p>
							<code class="literal">policy.entity.delete</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700308372480">
						<p>
							<code class="literal">policy-entity</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700308371392">
						<p>
							<code class="literal">delete</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700308370304">
						<p>
							Allows a user or role to delete a single or multiple permission policies and roles
						</p>
						</td></tr></tbody></table></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Kubernetes permissions</span></dt><dd>
						.Kubernetes permissions
					</dd></dl></div><div class="informaltable"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 25%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 45%; " class="col_4"/></colgroup><thead><tr><th align="left" valign="top" id="idm45700306689152" scope="col">Name</th><th align="left" valign="top" id="idm45700306688064" scope="col">Resource type</th><th align="left" valign="top" id="idm45700306686976" scope="col">Policy</th><th align="left" valign="top" id="idm45700306685888" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm45700306689152">
						<p>
							<code class="literal">kubernetes.proxy</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700306688064"> </td><td align="left" valign="top" headers="idm45700306686976">
						<p>
							<code class="literal">use</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700306685888">
						<p>
							Allows a user or role to access the proxy endpoint
						</p>
						</td></tr></tbody></table></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">OCM permissions</span></dt><dd>
						Basic OCM permissions only restrict access to the cluster view, but they do not prevent access to the Kubernetes clusters in the resource view. For more effective permissions, consider applying a conditional policy to restrict access to catalog entities that are of type <code class="literal">kubernetes-cluster</code>. Access restriction is dependent on the set of permissions granted to a role. For example, if the role had full permissions (<code class="literal">read</code>, <code class="literal">update</code>, and <code class="literal">delete</code>), then you must specify all its permissions in the <code class="literal">permissionMapping</code> field.
					</dd></dl></div><div class="formalpara"><p class="title"><strong>Example permissionMapping definition</strong></p><p>
				
<pre class="programlisting language-csv">result: CONDITIONAL
roleEntityRef: 'role:default/&lt;YOUR_ROLE&gt;'
pluginId: catalog
resourceType: catalog-entity
permissionMapping:
  - read
  - update
  - delete
conditions:
  not:
    rule: HAS_SPEC
    resourceType: catalog-entity
    params:
      key: type
      value: kubernetes-cluster</pre>
			</p></div><div class="informaltable"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 25%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 45%; " class="col_4"/></colgroup><thead><tr><th align="left" valign="top" id="idm45700307096128" scope="col">Name</th><th align="left" valign="top" id="idm45700307095040" scope="col">Resource type</th><th align="left" valign="top" id="idm45700307093952" scope="col">Policy</th><th align="left" valign="top" id="idm45700307092864" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm45700307096128">
						<p>
							<code class="literal">ocm.entity.read</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700307095040"> </td><td align="left" valign="top" headers="idm45700307093952">
						<p>
							<code class="literal">read</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700307092864">
						<p>
							Allows a user or role to read from the OCM plugin
						</p>
						</td></tr><tr><td align="left" valign="top" headers="idm45700307096128">
						<p>
							<code class="literal">ocm.cluster.read</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700307095040"> </td><td align="left" valign="top" headers="idm45700307093952">
						<p>
							<code class="literal">read</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700307092864">
						<p>
							Allows a user or role to read the cluster information in the OCM plugin
						</p>
						</td></tr></tbody></table></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Topology permissions</span></dt><dd>
						.Topology permissions
					</dd></dl></div><div class="informaltable"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 15%; " class="col_1"/><col style="width: 25%; " class="col_2"/><col style="width: 15%; " class="col_3"/><col style="width: 45%; " class="col_4"/></colgroup><thead><tr><th align="left" valign="top" id="idm45700305409392" scope="col">Name</th><th align="left" valign="top" id="idm45700305408304" scope="col">Resource type</th><th align="left" valign="top" id="idm45700305407216" scope="col">Policy</th><th align="left" valign="top" id="idm45700305406128" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm45700305409392">
						<p>
							<code class="literal">topology.view.read</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700305408304"> </td><td align="left" valign="top" headers="idm45700305407216">
						<p>
							<code class="literal">read</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700305406128">
						<p>
							Allows a user or role to view the topology plugin
						</p>
						</td></tr><tr><td align="left" valign="top" headers="idm45700305409392">
						<p>
							<code class="literal">kubernetes.proxy</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700305408304"> </td><td align="left" valign="top" headers="idm45700305407216">
						<p>
							<code class="literal">use</code>
						</p>
						</td><td align="left" valign="top" headers="idm45700305406128">
						<p>
							Allows a user or role to access the proxy endpoint, allowing the user or role to read pod logs and events within RHDH
						</p>
						</td></tr></tbody></table></div></section><section class="section" id="con-rbac-conditional-policies-rhdh_title-authorization"><div class="titlepage"><div><div><h2 class="title">8. Conditional policies in Red Hat Developer Hub</h2></div></div></div><p>
			The permission framework in Red Hat Developer Hub provides conditions, supported by the RBAC backend plugin (<code class="literal">backstage-plugin-rbac-backend</code>). The conditions work as content filters for the Developer Hub resources that are provided by the RBAC backend plugin.
		</p><p>
			The RBAC backend API stores conditions assigned to roles in the database. When you request to access the frontend resources, the RBAC backend API searches for the corresponding conditions and delegates them to the appropriate plugin using its plugin ID. If you are assigned to multiple roles with different conditions, then the RBAC backend merges the conditions using the <code class="literal">anyOf</code> criteria.
		</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Conditional criteria</span></dt><dd><p class="simpara">
						A condition in Developer Hub is a simple condition with a rule and parameters. However, a condition can also contain a parameter or an array of parameters combined by conditional criteria. The supported conditional criteria includes:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">allOf</code>: Ensures that all conditions within the array must be true for the combined condition to be satisfied.
							</li><li class="listitem">
								<code class="literal">anyOf</code>: Ensures that at least one of the conditions within the array must be true for the combined condition to be satisfied.
							</li><li class="listitem">
								<code class="literal">not</code>: Ensures that the condition within it must not be true for the combined condition to be satisfied.
							</li></ul></div></dd><dt><span class="term">Conditional object</span></dt><dd><p class="simpara">
						The plugin specifies the parameters supported for conditions. You can access the conditional object schema from the RBAC API endpoint to understand how to construct a conditional JSON object, which is then used by the RBAC backend plugin API.
					</p><p class="simpara">
						A conditional object contains the following parameters:
					</p><div class="table" id="idm45700303511440"><p class="title"><strong>Table 10. Conditional object parameters</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 30%; " class="col_1"/><col style="width: 45%; " class="col_2"/><col style="width: 25%; " class="col_3"/></colgroup><thead><tr><th style="text-align: left; vertical-align: top; " id="idm45700303505664" scope="col">Parameter</th><th style="text-align: left; vertical-align: top; " id="idm45700303504576" scope="col">Type</th><th style="text-align: left; vertical-align: top; " id="idm45700303503488" scope="col">Description</th></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; " headers="idm45700303505664">
									<p>
										<code class="literal">result</code>
									</p>
									</td><td style="text-align: left; vertical-align: top; " headers="idm45700303504576">
									<p>
										String
									</p>
									</td><td style="text-align: left; vertical-align: top; " headers="idm45700303503488">
									<p>
										Always has the value <code class="literal">CONDITIONAL</code>
									</p>
									</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700303505664">
									<p>
										<code class="literal">roleEntityRef</code>
									</p>
									</td><td style="text-align: left; vertical-align: top; " headers="idm45700303504576">
									<p>
										String
									</p>
									</td><td style="text-align: left; vertical-align: top; " headers="idm45700303503488">
									<p>
										String entity reference to the RBAC role, such as <code class="literal">role:default/dev</code>
									</p>
									</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700303505664">
									<p>
										<code class="literal">pluginId</code>
									</p>
									</td><td style="text-align: left; vertical-align: top; " headers="idm45700303504576">
									<p>
										String
									</p>
									</td><td style="text-align: left; vertical-align: top; " headers="idm45700303503488">
									<p>
										Corresponding plugin ID, such as <code class="literal">catalog</code>
									</p>
									</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700303505664">
									<p>
										<code class="literal">permissionMapping</code>
									</p>
									</td><td style="text-align: left; vertical-align: top; " headers="idm45700303504576">
									<p>
										String array
									</p>
									</td><td style="text-align: left; vertical-align: top; " headers="idm45700303503488">
									<p>
										Array permission actions, such as <code class="literal">['read', 'update', 'delete']</code>
									</p>
									</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700303505664">
									<p>
										<code class="literal">resourceType</code>
									</p>
									</td><td style="text-align: left; vertical-align: top; " headers="idm45700303504576">
									<p>
										String
									</p>
									</td><td style="text-align: left; vertical-align: top; " headers="idm45700303503488">
									<p>
										Resource type provided by the plugin, such as <code class="literal">catalog-entity</code>
									</p>
									</td></tr><tr><td style="text-align: left; vertical-align: top; " headers="idm45700303505664">
									<p>
										<code class="literal">conditions</code>
									</p>
									</td><td style="text-align: left; vertical-align: top; " headers="idm45700303504576">
									<p>
										JSON
									</p>
									</td><td style="text-align: left; vertical-align: top; " headers="idm45700303503488">
									<p>
										Condition JSON with parameters or array parameters joined by criteria
									</p>
									</td></tr></tbody></table></div></div></dd><dt><span class="term">Conditional policy aliases</span></dt><dd><p class="simpara">
						The RBAC backend plugin (<code class="literal">backstage-plugin-rbac-backend</code>) supports the use of aliases in conditional policy rule parameters. The conditional policy aliases are dynamically replaced with the corresponding values during policy evaluation. Each alias in conditional policy is prefixed with a <code class="literal">$</code> sign indicating its special function.
					</p><p class="simpara">
						The supported conditional aliases include:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">$currentUser</code>: This alias is replaced with the user entity reference for the user who requests access to the resource. For example, if user Tom from the default namespace requests access, <code class="literal">$currentUser</code> becomes <code class="literal">user:default/tom</code>.
							</li></ul></div></dd></dl></div><div class="formalpara"><p class="title"><strong>Example conditional policy object with <code class="literal">$currentUser</code> alias</strong></p><p>
				
<pre class="programlisting language-json">{
  "result": "CONDITIONAL",
  "roleEntityRef": "role:default/developer",
  "pluginId": "catalog",
  "resourceType": "catalog-entity",
  "permissionMapping": ["delete"],
  "conditions": {
    "rule": "IS_ENTITY_OWNER",
    "resourceType": "catalog-entity",
    "params": {
      "claims": ["$currentUser"]
    }
  }
}</pre>
			</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					<code class="literal">$ownerRefs</code>: This alias is replaced with ownership references, usually as an array that includes the user entity reference and the user’s parent group entity reference. For example, for user Tom from team-a, <code class="literal">$ownerRefs</code> becomes <code class="literal">['user:default/tom', 'group:default/team-a']</code>.
				</li></ul></div><div class="formalpara"><p class="title"><strong>Example conditional policy object with <code class="literal">$ownerRefs</code> alias</strong></p><p>
				
<pre class="programlisting language-json">{
  "result": "CONDITIONAL",
  "roleEntityRef": "role:default/developer",
  "pluginId": "catalog",
  "resourceType": "catalog-entity",
  "permissionMapping": ["delete"],
  "conditions": {
    "rule": "IS_ENTITY_OWNER",
    "resourceType": "catalog-entity",
    "params": {
      "claims": ["$ownerRefs"]
    }
  }
}</pre>
			</p></div><section class="section" id="ref-rbac-conditional-policy-definition_title-authorization"><div class="titlepage"><div><div><h3 class="title">8.1. Conditional policies reference</h3></div></div></div><p>
				You can access API endpoints for conditional policies in Red Hat Developer Hub. For example, to retrieve the available conditional rules, which can help you define these policies, you can access the <code class="literal">GET [api/plugins/condition-rules]</code> endpoint.
			</p><p>
				The <code class="literal">api/plugins/condition-rules</code> returns the condition parameters schemas, for example:
			</p><pre class="programlisting language-json">[
   {
      "pluginId": "catalog",
      "rules": [
         {
            "name": "HAS_ANNOTATION",
            "description": "Allow entities with the specified annotation",
            "resourceType": "catalog-entity",
            "paramsSchema": {
               "type": "object",
               "properties": {
                  "annotation": {
                     "type": "string",
                     "description": "Name of the annotation to match on"
                  },
                  "value": {
                     "type": "string",
                     "description": "Value of the annotation to match on"
                  }
               },
               "required": [
                  "annotation"
               ],
               "additionalProperties": false,
               "$schema": "http://json-schema.org/draft-07/schema#"
            }
         },
         {
            "name": "HAS_LABEL",
            "description": "Allow entities with the specified label",
            "resourceType": "catalog-entity",
            "paramsSchema": {
               "type": "object",
               "properties": {
                  "label": {
                     "type": "string",
                     "description": "Name of the label to match on"
                  }
               },
               "required": [
                  "label"
               ],
               "additionalProperties": false,
               "$schema": "http://json-schema.org/draft-07/schema#"
            }
         },
         {
            "name": "HAS_METADATA",
            "description": "Allow entities with the specified metadata subfield",
            "resourceType": "catalog-entity",
            "paramsSchema": {
               "type": "object",
               "properties": {
                  "key": {
                     "type": "string",
                     "description": "Property within the entities metadata to match on"
                  },
                  "value": {
                     "type": "string",
                     "description": "Value of the given property to match on"
                  }
               },
               "required": [
                  "key"
               ],
               "additionalProperties": false,
               "$schema": "http://json-schema.org/draft-07/schema#"
            }
         },
         {
            "name": "HAS_SPEC",
            "description": "Allow entities with the specified spec subfield",
            "resourceType": "catalog-entity",
            "paramsSchema": {
               "type": "object",
               "properties": {
                  "key": {
                     "type": "string",
                     "description": "Property within the entities spec to match on"
                  },
                  "value": {
                     "type": "string",
                     "description": "Value of the given property to match on"
                  }
               },
               "required": [
                  "key"
               ],
               "additionalProperties": false,
               "$schema": "http://json-schema.org/draft-07/schema#"
            }
         },
         {
            "name": "IS_ENTITY_KIND",
            "description": "Allow entities matching a specified kind",
            "resourceType": "catalog-entity",
            "paramsSchema": {
               "type": "object",
               "properties": {
                  "kinds": {
                     "type": "array",
                     "items": {
                        "type": "string"
                     },
                     "description": "List of kinds to match at least one of"
                  }
               },
               "required": [
                  "kinds"
               ],
               "additionalProperties": false,
               "$schema": "http://json-schema.org/draft-07/schema#"
            }
         },
         {
            "name": "IS_ENTITY_OWNER",
            "description": "Allow entities owned by a specified claim",
            "resourceType": "catalog-entity",
            "paramsSchema": {
               "type": "object",
               "properties": {
                  "claims": {
                     "type": "array",
                     "items": {
                        "type": "string"
                     },
                     "description": "List of claims to match at least one on within ownedBy"
                  }
               },
               "required": [
                  "claims"
               ],
               "additionalProperties": false,
               "$schema": "http://json-schema.org/draft-07/schema#"
            }
         }
      ]
   }
   ... &lt;another plugin condition parameter schemas&gt;
]</pre><p>
				The RBAC backend API constructs a condition JSON object based on the previous condition schema.
			</p><section class="section" id="examples-of-conditional-policies"><div class="titlepage"><div><div><h4 class="title">8.1.1. Examples of conditional policies</h4></div></div></div><p>
					In Red Hat Developer Hub, you can define conditional policies with or without criteria. You can use the following examples to define the conditions based on your use case:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">A condition without criteria</span></dt><dd><p class="simpara">
								Consider a condition without criteria displaying catalogs only if user is a member of the owner group. To add this condition, you can use the catalog plugin schema <code class="literal">IS_ENTITY_OWNER</code> as follows:
							</p><div class="formalpara"><p class="title"><strong>Example condition without criteria</strong></p><p>
									
<pre class="programlisting language-json">{
  "rule": "IS_ENTITY_OWNER",
  "resourceType": "catalog-entity",
  "params": {
    "claims": ["group:default/team-a"]
  }
}</pre>
								</p></div><p class="simpara">
								In the previous example, the only conditional parameter used is <code class="literal">claims</code>, which contains a list of user or group entity references.
							</p><p class="simpara">
								You can apply the previous example condition to the RBAC REST API by adding additional parameters as follows:
							</p><pre class="programlisting language-json">{
  "result": "CONDITIONAL",
  "roleEntityRef": "role:default/test",
  "pluginId": "catalog",
  "resourceType": "catalog-entity",
  "permissionMapping": ["read"],
  "conditions": {
    "rule": "IS_ENTITY_OWNER",
    "resourceType": "catalog-entity",
    "params": {
      "claims": ["group:default/team-a"]
    }
  }
}</pre></dd><dt><span class="term">A condition with criteria</span></dt><dd><p class="simpara">
								Consider a condition with criteria, which displays catalogs only if user is a member of owner group OR displays list of all catalog user groups.
							</p><p class="simpara">
								To add the criteria, you can add another rule as <code class="literal">IS_ENTITY_KIND</code> in the condition as follows:
							</p><div class="formalpara"><p class="title"><strong>Example condition with criteria</strong></p><p>
									
<pre class="programlisting language-json">{
  "anyOf": [
    {
      "rule": "IS_ENTITY_OWNER",
      "resourceType": "catalog-entity",
      "params": {
        "claims": ["group:default/team-a"]
      }
    },
    {
      "rule": "IS_ENTITY_KIND",
      "resourceType": "catalog-entity",
      "params": {
        "kinds": ["Group"]
      }
    }
  ]
}</pre>
								</p></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									Running conditions in parallel during creation is not supported. Therefore, consider defining nested conditional policies based on the available criteria.
								</p></div></div><div class="formalpara"><p class="title"><strong>Example of nested conditions</strong></p><p>
									
<pre class="programlisting language-json">{
  "anyOf": [
    {
      "rule": "IS_ENTITY_OWNER",
      "resourceType": "catalog-entity",
      "params": {
        "claims": ["group:default/team-a"]
      }
    },
    {
      "rule": "IS_ENTITY_KIND",
      "resourceType": "catalog-entity",
      "params": {
        "kinds": ["Group"]
      }
    }
  ],
  "not": {
    "rule": "IS_ENTITY_KIND",
    "resourceType": "catalog-entity",
    "params": { "kinds": ["Api"] }
  }
}</pre>
								</p></div><p class="simpara">
								You can apply the previous example condition to the RBAC REST API by adding additional parameters as follows:
							</p><pre class="programlisting language-json">{
  "result": "CONDITIONAL",
  "roleEntityRef": "role:default/test",
  "pluginId": "catalog",
  "resourceType": "catalog-entity",
  "permissionMapping": ["read"],
  "conditions": {
    "anyOf": [
      {
        "rule": "IS_ENTITY_OWNER",
        "resourceType": "catalog-entity",
        "params": {
          "claims": ["group:default/team-a"]
        }
      },
      {
        "rule": "IS_ENTITY_KIND",
        "resourceType": "catalog-entity",
        "params": {
          "kinds": ["Group"]
        }
      }
    ]
  }
}</pre></dd></dl></div><p>
					The following examples can be used with Developer Hub plugins. These examples can help you determine how to define conditional policies:
				</p><div class="formalpara"><p class="title"><strong>Conditional policy defined for Keycloak plugin</strong></p><p>
						
<pre class="programlisting language-json">{
  "result": "CONDITIONAL",
  "roleEntityRef": "role:default/developer",
  "pluginId": "catalog",
  "resourceType": "catalog-entity",
  "permissionMapping": ["update", "delete"],
  "conditions": {
    "not": {
      "rule": "HAS_ANNOTATION",
      "resourceType": "catalog-entity",
      "params": { "annotation": "keycloak.org/realm", "value": "&lt;YOUR_REALM&gt;" }
    }
  }
}</pre>
					</p></div><p>
					The previous example of Keycloak plugin prevents users in the <code class="literal">role:default/developer</code> from updating or deleting users that are ingested into the catalog from the Keycloak plugin.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						In the previous example, the annotation <code class="literal">keycloak.org/realm</code> requires the value of <code class="literal">&lt;YOUR_REALM&gt;</code>.
					</p></div></div><div class="formalpara"><p class="title"><strong>Conditional policy defined for Quay plugin</strong></p><p>
						
<pre class="programlisting language-json">{
  "result": "CONDITIONAL",
  "roleEntityRef": "role:default/developer",
  "pluginId": "scaffolder",
  "resourceType": "scaffolder-action",
  "permissionMapping": ["use"],
  "conditions": {
    "not": {
      "rule": "HAS_ACTION_ID",
      "resourceType": "scaffolder-action",
      "params": { "actionId": "quay:create-repository" }
    }
  }
}</pre>
					</p></div><p>
					The previous example of Quay plugin prevents the role <code class="literal">role:default/developer</code> from using the Quay scaffolder action. Note that <code class="literal">permissionMapping</code> contains <code class="literal">use</code>, signifying that <code class="literal">scaffolder-action</code> resource type permission does not have a permission policy.
				</p><p>
					For more information about permissions in Red Hat Developer Hub, see <a class="xref" href="#ref-rbac-permission-policies_title-authorization" title="7. Permission policies reference">Section 7, “Permission policies reference”</a>.
				</p></section></section></section><section class="section" id="con-user-stats-rhdh_title-authorization"><div class="titlepage"><div><div><h2 class="title">9. User statistics in Red Hat Developer Hub</h2></div></div></div><p>
			In Red Hat Developer Hub, the <code class="literal">licensed-users-info-backend</code> plugin provides statistical information about the logged-in users using the Web UI or REST API endpoints.
		</p><p>
			The <code class="literal">licensed-users-info-backend</code> plugin enables administrators to monitor the number of active users on Developer Hub. Using this feature, organizations can compare their actual usage with the number of licenses they have purchased. Additionally, you can share the user metrics with Red Hat for transparency and accurate licensing.
		</p><p>
			The <code class="literal">licensed-users-info-backend</code> plugin is enabled by default. This plugin enables a <span class="strong strong"><strong>Download User List</strong></span> link at the bottom of the <span class="strong strong"><strong>Administration → RBAC</strong></span> tab.
		</p><section class="section" id="proc-download-user-stats-rhdh_title-authorization"><div class="titlepage"><div><div><h3 class="title">9.1. Downloading active users list in Red Hat Developer Hub</h3></div></div></div><p>
				You can download the list of users in CSV format using the Developer Hub web interface.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						RBAC plugins (<code class="literal">@backstage-community/plugin-rbac</code> and <code class="literal">@backstage-community/plugin-rbac-backend</code>) must be enabled in Red Hat Developer Hub.
					</li><li class="listitem">
						An administrator role must be assigned.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						In Red Hat Developer Hub, navigate to <span class="strong strong"><strong>Administration</strong></span> and select the <span class="strong strong"><strong>RBAC</strong></span> tab.
					</li><li class="listitem">
						At the bottom of the <span class="strong strong"><strong>RBAC</strong></span> page, click <span class="strong strong"><strong>Download User List</strong></span>.
					</li><li class="listitem">
						Optional: Modify the file name in the <span class="strong strong"><strong>Save as</strong></span> field and click <span class="strong strong"><strong>Save</strong></span>.
					</li><li class="listitem">
						To access the downloaded users list, go to the <span class="strong strong"><strong>Downloads</strong></span> folder on your local machine and open the CSV file.
					</li></ol></div></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm45700302122432"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"/>© 2025 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></section></div></div><script type="text/javascript">
                        jQuery(document).ready(function() {
                            initSwitchery();
                            jQuery('pre[class*="language-"]').each(function(i, block){hljs.highlightBlock(block);});
                        });
                    </script></body></html>