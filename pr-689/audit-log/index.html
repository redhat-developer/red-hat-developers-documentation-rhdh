<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="chrometwo"><head><title>Audit log</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css"/><meta name="generator" content="publican v4.3.2"/><meta name="description" content="As a Red Hat Developer Hub administrator, you can track user activities, system events, and data changes with Developer Hub audit logs."/><link rel="next" href="#assembly-audit-log" title="Chapter 1. Audit logs in Red Hat Developer Hub"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><script type="text/javascript" src="Common_Content/scripts/jquery-1.7.1.min.js"> </script><script type="text/javascript" src="Common_Content/scripts/utils.js"> </script><script type="text/javascript" src="Common_Content/scripts/highlight.js/highlight.pack.js"> </script></head><body><div id="chrometwo"><div id="main"><div xml:lang="en-US" class="book" id="idm46217384234880"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Developer Hub</span> <span class="productnumber">1.4</span></div><div><h1 class="title">Audit log</h1></div><div><h2 class="subtitle">Tracking user activities, system events, and data changes with Red Hat Developer Hub audit logs</h2></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat Customer Content Services</span></div></div><div><a href="#idm46217364305648">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				As a Red Hat Developer Hub administrator, you can track user activities, system events, and data changes with Developer Hub audit logs.
			</div></div></div></div><hr/></div><div class="toc"><ul class="toc"><li><span class="chapter"><a href="#assembly-audit-log">1. Audit logs in Red Hat Developer Hub</a></span><ul><li><span class="section"><a href="#con-audit-log-config_assembly-audit-log">1.1. Configuring audit logs for Developer Hub on OpenShift Container Platform</a></span></li><li><span class="section"><a href="#proc-audit-log-view_assembly-audit-log">1.2. Viewing audit logs in Developer Hub</a></span><ul><li><span class="section"><a href="#ref-audit-log-fields.adoc_assembly-audit-log">1.2.1. Audit log fields</a></span></li><li><span class="section"><a href="#ref-audit-log-scaffolder-events.adoc_assembly-audit-log">1.2.2. Scaffolder events</a></span></li><li><span class="section"><a href="#ref-audit-log-catalog-events.adoc_assembly-audit-log">1.2.3. Catalog events</a></span></li></ul></li><li><span class="section"><a href="#ref-audit-log-file-rotation-overview_assembly-audit-log">1.3. Audit log file rotation in Red Hat Developer Hub</a></span></li></ul></li></ul></div><section class="chapter" id="assembly-audit-log"><div class="titlepage"><div><div><h1 class="title">Chapter 1. Audit logs in Red Hat Developer Hub</h1></div></div></div><p>
			Audit logs are a chronological set of records documenting the user activities, system events, and data changes that affect your Red Hat Developer Hub users, administrators, or components. Administrators can view Developer Hub audit logs in the OpenShift Container Platform web console to monitor scaffolder events, changes to the RBAC system, and changes to the Catalog database. Audit logs include the following information:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Name of the audited event
				</li><li class="listitem">
					Actor that triggered the audited event, for example, terminal, port, IP address, or hostname
				</li><li class="listitem">
					Event metadata, for example, date, time
				</li><li class="listitem">
					Event status, for example, <code class="literal">success</code>, <code class="literal">failure</code>
				</li><li class="listitem">
					Severity levels, for example, <code class="literal">info</code>, <code class="literal">debug</code>, <code class="literal">warn</code>, <code class="literal">error</code>
				</li></ul></div><p>
			You can use the information in the audit log to achieve the following goals:
		</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Enhance security</span></dt><dd>
						Trace activities, including those initiated by automated systems and software templates, back to their source. Know when software templates are executed, as well as the details of application and component installations, updates, configuration changes, and removals.
					</dd><dt><span class="term">Automate compliance</span></dt><dd>
						Use streamlined processes to view log data for specified points in time for auditing purposes or continuous compliance maintenance.
					</dd><dt><span class="term">Debug issues</span></dt><dd>
						Use access records and activity details to fix issues with software templates or plugins.
					</dd></dl></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
				Audit logs are not forwarded to the internal log store by default because this does not provide secure storage. You are responsible for ensuring that the system to which you forward audit logs is compliant with your organizational and governmental regulations, and is properly secured.
			</p></div></div><div class="itemizedlist _additional-resources"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist _additional-resources" type="disc"><li class="listitem">
					For more information about logging in OpenShift Container Platform, see <a class="link" href="https://docs.openshift.com/container-platform/latest/observability/logging/cluster-logging.html">About Logging</a>
				</li><li class="listitem">
					For a complete list of fields that a Developer Hub audit log can include, see <a class="xref" href="#ref-audit-log-fields.adoc_assembly-audit-log" title="1.2.1. Audit log fields">Section 1.2.1, “Audit log fields”</a>
				</li><li class="listitem">
					For a list of scaffolder events that a Developer Hub audit log can include, see <a class="xref" href="#ref-audit-log-scaffolder-events.adoc_assembly-audit-log" title="1.2.2. Scaffolder events">Section 1.2.2, “Scaffolder events”</a>
				</li></ul></div><section class="section" id="con-audit-log-config_assembly-audit-log"><div class="titlepage"><div><div><h2 class="title">1.1. Configuring audit logs for Developer Hub on OpenShift Container Platform</h2></div></div></div><p>
				Use the OpenShift Container Platform web console to configure the following OpenShift Container Platform logging components to use audit logging for Developer Hub:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Logging deployment</span></dt><dd>
							Configure the logging environment, including both the CPU and memory limits for each logging component. For more information, see <a class="link" href="https://docs.openshift.com/container-platform/4.15/observability/logging/config/cluster-logging-memory.html">Red Hat OpenShift Container Platform - Configuring your Logging deployment</a>.
						</dd><dt><span class="term">Logging collector</span></dt><dd>
							Configure the <code class="literal">spec.collection</code> stanza in the <code class="literal">ClusterLogging</code> custom resource (CR) to use a supported modification to the log collector and collect logs from <code class="literal">STDOUT</code>. For more information, see <a class="link" href="https://docs.openshift.com/container-platform/4.15/observability/logging/log_collection_forwarding/cluster-logging-collector.html">Red Hat OpenShift Container Platform - Configuring the logging collector</a>.
						</dd><dt><span class="term">Log forwarding</span></dt><dd>
							Send logs to specific endpoints inside and outside your OpenShift Container Platform cluster by specifying a combination of outputs and pipelines in a <code class="literal">ClusterLogForwarder</code> CR. For more information, see <a class="link" href="https://docs.openshift.com/container-platform/4.15/observability/logging/log_collection_forwarding/cluster-logging-enabling-json-logging.html">Red Hat OpenShift Container Platform - Enabling JSON log forwarding</a> and <a class="link" href="https://docs.openshift.com/container-platform/4.15/observability/logging/log_collection_forwarding/configuring-log-forwarding.html">Red Hat OpenShift Container Platform - Configuring log forwarding</a>.
						</dd></dl></div></section><section class="section" id="proc-audit-log-view_assembly-audit-log"><div class="titlepage"><div><div><h2 class="title">1.2. Viewing audit logs in Developer Hub</h2></div></div></div><p>
				Administrators can view, search, filter, and manage the log data from the Red Hat OpenShift Container Platform web console. You can filter audit logs from other log types by using the <code class="literal">isAuditLog</code> field.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You are logged in as an administrator in the OpenShift Container Platform web console.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						From the <span class="strong strong"><strong>Developer</strong></span> perspective of the OpenShift Container Platform web console, click the <span class="strong strong"><strong>Topology</strong></span> tab.
					</li><li class="listitem">
						From the <span class="strong strong"><strong>Topology</strong></span> view, click the pod that you want to view audit log data for.
					</li><li class="listitem">
						From the pod panel, click the <span class="strong strong"><strong>Resources</strong></span> tab.
					</li><li class="listitem">
						From the <span class="strong strong"><strong>Pods</strong></span> section of the <span class="strong strong"><strong>Resources</strong></span> tab, click <span class="strong strong"><strong>View logs</strong></span>.
					</li><li class="listitem">
						From the <span class="strong strong"><strong>Logs</strong></span> view, enter <code class="literal">isAuditLog</code> into the <span class="strong strong"><strong>Search</strong></span> field to filter audit logs from other log types. You can use the arrows to browse the logs containing the <code class="literal">isAuditLog</code> field.
					</li></ol></div><section class="section" id="ref-audit-log-fields.adoc_assembly-audit-log"><div class="titlepage"><div><div><h3 class="title">1.2.1. Audit log fields</h3></div></div></div><p>
					Developer Hub audit logs can include the following fields:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">eventName</code></span></dt><dd>
								The name of the audited event.
							</dd><dt><span class="term"><code class="literal">actor</code></span></dt><dd><p class="simpara">
								An object containing information about the actor that triggered the audited event. Contains the following fields:
							</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">actorId</code></span></dt><dd>
											The name/id/<code class="literal">entityRef</code> of the associated user or service. Can be <code class="literal">null</code> if an unauthenticated user accesses the endpoints and the default authentication policy is disabled.
										</dd><dt><span class="term"><code class="literal">ip</code></span></dt><dd>
											The IP address of the actor (optional).
										</dd><dt><span class="term"><code class="literal">hostname</code></span></dt><dd>
											The hostname of the actor (optional).
										</dd><dt><span class="term"><code class="literal">client</code></span></dt><dd>
											The user agent of the actor (optional).
										</dd></dl></div></dd><dt><span class="term"><code class="literal">stage</code></span></dt><dd>
								The stage of the event at the time that the audit log was generated, for example, <code class="literal">initiation</code> or <code class="literal">completion</code>.
							</dd><dt><span class="term"><code class="literal">status</code></span></dt><dd>
								The status of the event, for example, <code class="literal">succeeded</code> or <code class="literal">failed</code>.
							</dd><dt><span class="term"><code class="literal">meta</code></span></dt><dd>
								An optional object containing event specific data, for example, <code class="literal">taskId</code>.
							</dd><dt><span class="term"><code class="literal">request</code></span></dt><dd><p class="simpara">
								An optional field that contains information about the HTTP request sent to an endpoint. Contains the following fields:
							</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">method</code></span></dt><dd>
											The HTTP method of the request.
										</dd><dt><span class="term"><code class="literal">query</code></span></dt><dd>
											The <code class="literal">query</code> fields of the request.
										</dd><dt><span class="term"><code class="literal">params</code></span></dt><dd>
											The <code class="literal">params</code> fields of the request.
										</dd><dt><span class="term"><code class="literal">body</code></span></dt><dd>
											The request <code class="literal">body</code>. The <code class="literal">secrets</code> provided when creating a task are redacted and appear as <code class="literal"><span class="strong strong"><strong>*</strong></span></code>.
										</dd><dt><span class="term"><code class="literal">url</code></span></dt><dd>
											The endpoint URL of the request.
										</dd></dl></div></dd><dt><span class="term"><code class="literal">response</code></span></dt><dd><p class="simpara">
								An optional field that contains information about the HTTP response sent from an endpoint. Contains the following fields:
							</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">status</code></span></dt><dd>
											The status code of the HTTP response.
										</dd><dt><span class="term"><code class="literal">body</code></span></dt><dd>
											The contents of the request body.
										</dd></dl></div></dd><dt><span class="term"><code class="literal">isAuditLog</code></span></dt><dd>
								A flag set to <code class="literal">true</code> to differentiate audit logs from other log types.
							</dd><dt><span class="term"><code class="literal">errors</code></span></dt><dd>
								A list of errors containing the <code class="literal">name</code>, <code class="literal">message</code> and potentially the <code class="literal">stack</code> field of the error. Only appears when <code class="literal">status</code> is <code class="literal">failed</code>.
							</dd></dl></div></section><section class="section" id="ref-audit-log-scaffolder-events.adoc_assembly-audit-log"><div class="titlepage"><div><div><h3 class="title">1.2.2. Scaffolder events</h3></div></div></div><p>
					Developer Hub audit logs can include the following scaffolder events:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">ScaffolderParameterSchemaFetch</code></span></dt><dd>
								Tracks <code class="literal">GET</code> requests to the <code class="literal">/v2/templates/:namespace/:kind/:name/parameter-schema</code> endpoint which return template parameter schemas
							</dd><dt><span class="term"><code class="literal">ScaffolderInstalledActionsFetch</code></span></dt><dd>
								Tracks <code class="literal">GET</code> requests to the <code class="literal">/v2/actions</code> endpoint which grabs the list of installed actions
							</dd><dt><span class="term"><code class="literal">ScaffolderTaskCreation</code></span></dt><dd>
								Tracks <code class="literal">POST</code> requests to the <code class="literal">/v2/tasks</code> endpoint which creates tasks that the scaffolder executes
							</dd><dt><span class="term"><code class="literal">ScaffolderTaskListFetch</code></span></dt><dd>
								Tracks <code class="literal">GET</code> requests to the <code class="literal">/v2/tasks</code> endpoint which fetches details of all tasks in the scaffolder.
							</dd><dt><span class="term"><code class="literal">ScaffolderTaskFetch</code></span></dt><dd>
								Tracks <code class="literal">GET</code> requests to the <code class="literal">/v2/tasks/:taskId</code> endpoint which fetches details of a specified task <code class="literal">:taskId</code>
							</dd><dt><span class="term"><code class="literal">ScaffolderTaskCancellation</code></span></dt><dd>
								Tracks <code class="literal">POST</code> requests to the <code class="literal">/v2/tasks/:taskId/cancel</code> endpoint which cancels a running task
							</dd><dt><span class="term"><code class="literal">ScaffolderTaskStream</code></span></dt><dd>
								Tracks <code class="literal">GET</code> requests to the <code class="literal">/v2/tasks/:taskId/eventstream</code> endpoint which returns an event stream of the task logs of task <code class="literal">:taskId</code>
							</dd><dt><span class="term"><code class="literal">ScaffolderTaskEventFetch</code></span></dt><dd>
								Tracks <code class="literal">GET</code> requests to the <code class="literal">/v2/tasks/:taskId/events</code> endpoint which returns a snapshot of the task logs of task <code class="literal">:taskId</code>
							</dd><dt><span class="term"><code class="literal">ScaffolderTaskDryRun</code></span></dt><dd>
								Tracks <code class="literal">POST</code> requests to the <code class="literal">/v2/dry-run</code> endpoint which creates a dry-run task. All audit logs for events associated with dry runs have the <code class="literal">meta.isDryLog</code> flag set to <code class="literal">true</code>.
							</dd><dt><span class="term"><code class="literal">ScaffolderStaleTaskCancellation</code></span></dt><dd>
								Tracks automated cancellation of stale tasks
							</dd><dt><span class="term"><code class="literal">ScaffolderTaskExecution</code></span></dt><dd>
								Tracks the <code class="literal">initiation</code> and <code class="literal">completion</code> of a real scaffolder task execution (will not occur during dry runs)
							</dd><dt><span class="term"><code class="literal">ScaffolderTaskStepExecution</code></span></dt><dd>
								Tracks <code class="literal">initiation</code> and <code class="literal">completion</code> of a scaffolder task step execution
							</dd><dt><span class="term"><code class="literal">ScaffolderTaskStepSkip</code></span></dt><dd>
								Tracks steps skipped due to <code class="literal">if</code> conditionals not being met
							</dd><dt><span class="term"><code class="literal">ScaffolderTaskStepIteration</code></span></dt><dd>
								Tracks the step execution of each iteration of a task step that contains the <code class="literal">each</code> field.
							</dd></dl></div></section><section class="section" id="ref-audit-log-catalog-events.adoc_assembly-audit-log"><div class="titlepage"><div><div><h3 class="title">1.2.3. Catalog events</h3></div></div></div><p>
					Developer Hub audit logs can include the following catalog events:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">CatalogEntityAncestryFetch</code></span></dt><dd>
								Tracks <code class="literal">GET</code> requests to the <code class="literal">/entities/by-name/:kind/:namespace/:name/ancestry</code> endpoint, which returns the ancestry of an entity
							</dd><dt><span class="term"><code class="literal">CatalogEntityBatchFetch</code></span></dt><dd>
								Tracks <code class="literal">POST</code> requests to the <code class="literal">/entities/by-refs</code> endpoint, which returns a batch of entities
							</dd><dt><span class="term"><code class="literal">CatalogEntityDeletion</code></span></dt><dd>
								Tracks <code class="literal">DELETE</code> requests to the <code class="literal">/entities/by-uid/:uid</code> endpoint, which deletes an entity
							</dd></dl></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If the parent location of the deleted entity is still present in the catalog, then the entity is restored in the catalog during the next processing cycle.
					</p></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">CatalogEntityFacetFetch</code></span></dt><dd>
								Tracks <code class="literal">GET</code> requests to the <code class="literal">/entity-facets</code> endpoint, which returns the facets of an entity
							</dd><dt><span class="term"><code class="literal">CatalogEntityFetch</code></span></dt><dd>
								Tracks <code class="literal">GET</code> requests to the <code class="literal">/entities</code> endpoint, which returns a list of entities
							</dd><dt><span class="term"><code class="literal">CatalogEntityFetchByName</code></span></dt><dd>
								Tracks <code class="literal">GET</code> requests to the <code class="literal">/entities/by-name/:kind/:namespace/:name</code> endpoint, which returns an entity matching the specified entity reference, for example, <code class="literal">&lt;kind&gt;:&lt;namespace&gt;/&lt;name&gt;</code>
							</dd><dt><span class="term"><code class="literal">CatalogEntityFetchByUid</code></span></dt><dd>
								Tracks <code class="literal">GET</code> requests to the <code class="literal">/entities/by-uid/:uid</code> endpoint, which returns an entity matching the unique ID of the specified entity
							</dd><dt><span class="term"><code class="literal">CatalogEntityRefresh</code></span></dt><dd>
								Tracks <code class="literal">POST</code> requests to the <code class="literal">/entities/refresh</code> endpoint, which schedules the specified entity to be refreshed
							</dd><dt><span class="term"><code class="literal">CatalogEntityValidate</code></span></dt><dd>
								Tracks <code class="literal">POST</code> requests to the <code class="literal">/entities/validate</code> endpoint, which validates the specified entity
							</dd><dt><span class="term"><code class="literal">CatalogLocationCreation</code></span></dt><dd>
								Tracks <code class="literal">POST</code> requests to the <code class="literal">/locations</code> endpoint, which creates a location
							</dd></dl></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						A location is a marker that references other places to look for catalog data.
					</p></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">CatalogLocationAnalyze</code></span></dt><dd>
								Tracks <code class="literal">POST</code> requests to the <code class="literal">/locations/analyze</code> endpoint, which analyzes the specified location
							</dd><dt><span class="term"><code class="literal">CatalogLocationDeletion</code></span></dt><dd>
								Tracks <code class="literal">DELETE</code> requests to the <code class="literal">/locations/:id</code> endpoint, which deletes a location and all child entities associated with it
							</dd><dt><span class="term"><code class="literal">CatalogLocationFetch</code></span></dt><dd>
								Tracks <code class="literal">GET</code> requests to the <code class="literal">/locations</code> endpoint, which returns a list of locations
							</dd><dt><span class="term"><code class="literal">CatalogLocationFetchByEntityRef</code></span></dt><dd>
								Tracks <code class="literal">GET</code> requests to the <code class="literal">/locations/by-entity</code> endpoint, which returns a list of locations associated with the specified entity reference
							</dd><dt><span class="term"><code class="literal">CatalogLocationFetchById</code></span></dt><dd>
								Tracks <code class="literal">GET</code> requests to the <code class="literal">/locations/:id</code> endpoint, which returns a location matching the specified location ID
							</dd><dt><span class="term"><code class="literal">QueriedCatalogEntityFetch</code></span></dt><dd>
								Tracks <code class="literal">GET</code> requests to the <code class="literal">/entities/by-query</code> endpoint, which returns a list of entities matching the specified query
							</dd></dl></div></section></section><section class="section" id="ref-audit-log-file-rotation-overview_assembly-audit-log"><div class="titlepage"><div><div><h2 class="title">1.3. Audit log file rotation in Red Hat Developer Hub</h2></div></div></div><p>
				Logging to a rotating file in Red Hat Developer Hub is helpful for persistent storage of audit logs.
			</p><p>
				Persistent storage ensures that the file remains intact even after a pod is restarted. Audit log file rotation creates a new file at regular intervals, with only new data being written to the latest file.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Default settings</span></dt><dd><p class="simpara">
							Audit logging to a rotating file is disabled by default. When it is enabled, the default behavior changes to:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Rotate logs at midnight (local system timezone).
								</li><li class="listitem">
									Log file format: <code class="literal">redhat-developer-hub-audit-%DATE%.log</code>.
								</li><li class="listitem">
									Log files are stored in <code class="literal">/var/log/redhat-developer-hub/audit</code>.
								</li><li class="listitem">
									No automatic log file deletion.
								</li><li class="listitem">
									No gzip compression of archived logs.
								</li><li class="listitem">
									No file size limit.
								</li></ul></div></dd></dl></div><p>
				Audit logs are written in the <code class="literal">/var/log/redhat-developer-hub/audit</code> directory.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Log file names</span></dt><dd>
							Audit log file names are in the following format:
						</dd></dl></div><p>
				<code class="literal">redhat-developer-hub-audit-%DATE%.log</code>
			</p><p>
				where <code class="literal">%DATE%</code> is the format specified in <code class="literal">auditLog.rotateFile.dateFormat</code>. You can customize file names when you configure file rotation.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">File rotation date and frequency</span></dt><dd><p class="simpara">
							Supported <code class="literal">auditLog.rotateFile.frequency</code> options include:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<code class="literal">daily</code>: Rotate daily at 00:00 local time
								</li><li class="listitem">
									<code class="literal">Xm</code>: Rotate every <code class="literal">X</code> minutes (where X is a number between 0 and 59)
								</li><li class="listitem">
									<code class="literal">Xh</code>: Rotate every <code class="literal">X</code> hours (where X is a number between 0 and 23)
								</li><li class="listitem">
									<code class="literal">test</code>: Rotate every 1 minute
								</li><li class="listitem">
									<code class="literal">custom</code>: Use <code class="literal">dateFormat</code> to set the rotation frequency (default if frequency is not specified)
								</li></ul></div></dd></dl></div><p>
				If <code class="literal">frequency</code> is set to <code class="literal">Xh</code>, <code class="literal">Xm</code> or <code class="literal">test</code>, the <code class="literal">dateFormat</code> setting must be configured in a format that includes the specified time component. Otherwise, the rotation might not work as expected.
			</p><p>
				For example, use <code class="literal">dateFormat: 'YYYY-MM-DD-HH</code> for hourly rotation, and <code class="literal">dateFormat: 'YYYY-MM-DD-HH-mm</code> for minute rotation.
			</p><div class="formalpara"><p class="title"><strong>Example minute rotation:</strong></p><p>
					
<pre class="programlisting language-yaml">auditLog:
  rotateFile:
    # If you want to rotate the file every 17 minutes
    dateFormat: 'YYYY-MM-DD-HH-mm'
    frequency: '17m'</pre>
				</p></div><p>
				The <code class="literal">dateFormat</code> setting configures both the <code class="literal">%DATE%</code> in <code class="literal">logFileName</code> and the file rotation frequency if <code class="literal">frequency</code> is set to <code class="literal">custom</code>. The default format is <code class="literal">YYYY-MM-DD</code>, meaning daily rotation. Supported values are based on <a class="link" href="https://momentjs.com/docs/#/displaying/format/">Moment.js formats</a>.
			</p><p>
				If the <code class="literal">frequency</code> is set to <code class="literal">custom</code>, then rotations take place when the date string, which is represented in the specified <code class="literal">dateFormat</code>, changes.
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Archive and delete</span></dt><dd>
							By default, log files are not archived or deleted.
						</dd><dt><span class="term">Enable and configure audit file rotation</span></dt><dd>
							If you are an administrator of Developer Hub, you can enable file rotation for audit logs, and configure the file log location, name format, frequency, log file size, retention policy, and archiving.
						</dd></dl></div><div class="formalpara"><p class="title"><strong>Example audit log file rotation configuration</strong></p><p>
					
<pre class="programlisting language-yaml">auditLog:
  rotateFile:
    enabled: true <span id="CO1-1"/><span class="callout">1</span>
    logFileDirPath: /custom-path <span id="CO1-2"/><span class="callout">2</span>
    logFileName: custom-audit-log-%DATE%.log <span id="CO1-3"/><span class="callout">3</span>
    frequency: '12h' <span id="CO1-4"/><span class="callout">4</span>
    dateFormat: 'YYYY-MM-DD' <span id="CO1-5"/><span class="callout">5</span>
    utc: false <span id="CO1-6"/><span class="callout">6</span>
    maxSize: 100m <span id="CO1-7"/><span class="callout">7</span>
    maxFilesOrDays: 14 <span id="CO1-8"/><span class="callout">8</span>
    zippedArchive: true <span id="CO1-9"/><span class="callout">9</span></pre>
				</p></div><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO1-1"><span class="callout">1</span></a> </dt><dd><div class="para">
						Set <code class="literal">enabled</code> to <code class="literal">true</code> to use audit log file rotation. By default, it is set to <code class="literal">false</code>.
					</div></dd><dt><a href="#CO1-2"><span class="callout">2</span></a> </dt><dd><div class="para">
						Absolute path to the log file. The specified directory is created automatically if it does not exist.
					</div></dd><dt><a href="#CO1-3"><span class="callout">3</span></a> </dt><dd><div class="para">
						Default log file name format.
					</div></dd><dt><a href="#CO1-4"><span class="callout">4</span></a> </dt><dd><div class="para">
						If no frequency is specified, then the default file rotation occurs daily at 00:00 local time.
					</div></dd><dt><a href="#CO1-5"><span class="callout">5</span></a> </dt><dd><div class="para">
						Default date format.
					</div></dd><dt><a href="#CO1-6"><span class="callout">6</span></a> </dt><dd><div class="para">
						Set <code class="literal">utc</code> to <code class="literal">true</code> to use UTC time for <code class="literal">dateFormat</code> instead of local time.
					</div></dd><dt><a href="#CO1-7"><span class="callout">7</span></a> </dt><dd><div class="para">
						Sets a maximum file size limit for the audit log. In this example, the maximum size is 100m.
					</div></dd><dt><a href="#CO1-8"><span class="callout">8</span></a> </dt><dd><div class="para">
						If set to number of files, for example <code class="literal">14</code>, then it deletes the oldest log when there are more than 14 log files. If set to number of days, for example <code class="literal">5d</code>, then it deletes logs older than 5 days.
					</div></dd><dt><a href="#CO1-9"><span class="callout">9</span></a> </dt><dd><div class="para">
						Archive and compress rotated logs using <code class="literal">gzip</code>. The default value is <code class="literal">false</code>.
					</div></dd></dl></div><div class="admonition note"><div class="admonition_header">Note</div><div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							By default, log files are not archived or deleted. If log deletion is enabled, then a <code class="literal">.&lt;sha256 hash&gt;-audit.json</code> is generated in the directory where the logs are to track generated logs. Any log file not contained in the directory is not subject to automatic deletion.
						</li><li class="listitem">
							A new <code class="literal">.&lt;sha256 hash&gt;-audit.json</code> file is generated each time the backend starts, which causes previous audit logs to stop being tracked or deleted, except for those still in use by the current backend.
						</li></ul></div></div></div></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm46217364305648"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"/>© 2024 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></div></div><script type="text/javascript">
                        jQuery(document).ready(function() {
                            initSwitchery();
                            jQuery('pre[class*="language-"]').each(function(i, block){hljs.highlightBlock(block);});
                        });
                    </script></body></html>