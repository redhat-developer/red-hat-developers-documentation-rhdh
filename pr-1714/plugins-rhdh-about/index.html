<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="chrometwo"><head><title>Develop and deploy dynamic plugins in Red Hat Developer Hub</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css"/><meta name="generator" content="publican v4.3.2"/><meta name="description" content="The Red Hat Developer Hub (RHDH) application offers a unified platform with various plugins. Using the plugin ecosystem within the Developer Hub application, you can access your development infrastructure and software development tools."/><link rel="next" href="#con-understand-dynamic-plugins-in-red-hat-developer-hub_assembly-developing-and-deploying-plugins" title="1. Overview of dynamic plugins"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><script type="text/javascript" src="Common_Content/scripts/jquery-1.7.1.min.js"> </script><script type="text/javascript" src="Common_Content/scripts/utils.js"> </script><script type="text/javascript" src="Common_Content/scripts/highlight.js/highlight.pack.js"> </script></head><body><div id="chrometwo"><div id="main"><section xml:lang="en-US" class="article" id="idm45848170315168"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Developer Hub</span> <span class="productnumber">1.9</span></div><div><h1 class="title">Develop and deploy dynamic plugins in Red Hat Developer Hub</h1></div><div><h3 class="subtitle"><em>RHDH dynamic plugins: From development to deployment </em></h3></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat Customer Content Services</span></div></div><div><a href="#idm45848152082736">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				The Red Hat Developer Hub (RHDH) application offers a unified platform with various plugins. Using the plugin ecosystem within the Developer Hub application, you can access your development infrastructure and software development tools.
			</div></div></div></div><hr/></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#con-understand-dynamic-plugins-in-red-hat-developer-hub_assembly-developing-and-deploying-plugins">1. Overview of dynamic plugins</a></span><ul><li><span class="section"><a href="#con-converting-custom-plugins">1.1. Dynamic Plugins</a></span></li></ul></li><li><span class="section"><a href="#con-setting-up-the-development-toolchain_assembly-developing-and-deploying-plugins">2. Prepare your development environment</a></span><ul><li><span class="section"><a href="#the-development-toolchain">2.1. The development toolchain</a></span></li></ul></li><li><span class="section"><a href="#proc-developing-plugins-from-scratch_assembly-developing-and-deploying-plugins">3. Develop a new plugin</a></span><ul><li><span class="section"><a href="#con-determine-rhdh-version_assembly-developing-and-deploying-plugins">3.1. Determine RHDH version</a></span></li><li><span class="section"><a href="#proc-create-a-new-backstage-application_assembly-developing-and-deploying-plugins">3.2. Create a new Backstage application</a></span></li><li><span class="section"><a href="#proc-create-a-new-plugin_assembly-developing-and-deploying-plugins">3.3. Create a new plugin</a></span></li><li><span class="section"><a href="#proc-implement-a-plugin-component_assembly-developing-and-deploying-plugins">3.4. Implement a plugin component</a></span></li><li><span class="section"><a href="#proc-test-a-plugin-locally_assembly-developing-and-deploying-plugins">3.5. Test a plugin locally</a></span></li><li><span class="section"><a href="#proc-configure-frontend-plugin-wiring_assembly-developing-and-deploying-plugins">3.6. Configure frontend plugin wiring</a></span></li></ul></li><li><span class="section"><a href="#proc-converting-a-custom-plugin-into-a-dynamic-plugin_assembly-developing-and-deploying-plugins">4. Convert a custom plugin into a dynamic plugin</a></span><ul><li><span class="section"><a href="#using-the-dynamic-plugin-factory-to-convert-plugins-into-dynamic-plugins">4.1. Using the Dynamic Plugin Factory to convert plugins into dynamic plugins</a></span></li></ul></li><li><span class="section"><a href="#deployment-configurations">5. Deployment configurations</a></span><ul><li><span class="section"><a href="#proc-adding-a-dynamic-plugin">5.1. Adding a dynamic plugin to Red Hat Developer Hub</a></span></li></ul></li><li><span class="section"><a href="#con-testing-with-rhdh-local_assembly-developing-and-deploying-plugins">6. Verify plugins locally</a></span></li></ul></div><section class="section" id="con-understand-dynamic-plugins-in-red-hat-developer-hub_assembly-developing-and-deploying-plugins"><div class="titlepage"><div><div><h2 class="title">1. Overview of dynamic plugins</h2></div></div></div><section class="section" id="con-converting-custom-plugins"><div class="titlepage"><div><div><h3 class="title">1.1. Dynamic Plugins</h3></div></div></div><p>
				Red Hat Developer Hub implements a dynamic plugin system. You can install, configure, and load plugins at runtime without changing or rebuilding the application. You only need a restart. You can load these plugins from NPM, tarballs, or OCI compliant container images.
			</p><p>
				With dynamic plugins, instead of modifying the Backstage application itself, you create a <code class="literal">dynamic-plugins.yaml</code> file to specify the plugins that Red Hat Developer Hub will install and enable at startup. For example, the following configuration loads a plugin named <code class="literal">plugin-name</code>, which is stored in a <code class="literal">Quay.io</code> container image at <code class="literal">quay.io/account-name/image-name</code>:
			</p><div class="formalpara"><p class="title"><strong><code class="literal">dynamic-plugins.yaml</code> fragment</strong></p><p>
					
<pre class="programlisting language-yaml">plugins:
  - package: oci://quay.io/account-name/image-name:tag!plugin-name
    disabled: false
    pluginConfig: {}</pre>
				</p></div></section></section><section class="section" id="con-setting-up-the-development-toolchain_assembly-developing-and-deploying-plugins"><div class="titlepage"><div><div><h2 class="title">2. Prepare your development environment</h2></div></div></div><p>
			Before creating or converting plugins for Red Hat Developer Hub (RHDH), you must establish a specific local development toolchain. This toolchain allows you to write standard Backstage code, convert it into a dynamic format, and package it for deployment without rebuilding the core RHDH platform.
		</p><div class="formalpara"><p class="title"><strong>Required skills and languages</strong></p><p>
				To develop dynamic plugins, you must have experience with the following:
			</p></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">JavaScript and TypeScript</span></dt><dd>
						Used for Backstage frontend and backend development.
					</dd><dt><span class="term">React</span></dt><dd>
						Used for building frontend plugin components.
					</dd><dt><span class="term">Node.js ecosystem</span></dt><dd>
						Includes package management (NPM/Yarn) and module handling.
					</dd></dl></div><section class="section" id="the-development-toolchain"><div class="titlepage"><div><div><h3 class="title">2.1. The development toolchain</h3></div></div></div><p>
				The following tools are required to initialize, build, and package your plugins:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Node.js (via NVM)</span></dt><dd><p class="simpara">
							Node.js is the engine that runs JavaScript on your computer.
						</p><p class="simpara">
							RHDH requires Node v22. Use Node Version Manager (NVM) to switch between Node versions and ensure compatibility with the RHDH backend system.
						</p></dd><dt><span class="term">Yarn 4</span></dt><dd><p class="simpara">
							Yarn is a package manager that handles all the library dependencies that your application needs.
						</p><p class="simpara">
							The Backstage project structure is optimized for Yarn (specifically Yarn Classic 1.x) to manage workspaces and dependencies efficiently.
						</p></dd><dt><span class="term">Containerization tools (Docker or Podman)</span></dt><dd><p class="simpara">
							These tools used to run containers and package applications.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									Packaging: Dynamic plugins are distributed as OCI images. Use Docker or Podman to package your derived plugin assets into an image that can be pushed to a registry, for example, Quay.io and sideloaded into RHDH.
								</li></ul></div></dd><dt><span class="term">RHDH plugin tools</span></dt><dd><p class="simpara">
							These specialized tools convert standard plugins into the dynamic architecture required by RHDH.
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<a class="link" href="https://github.com/redhat-developer/rhdh-dynamic-plugin-factory">RHDH Plugin Factory</a> and <a class="link" href="https://github.com/redhat-developer/rhdh-cli">RHDH-cli</a>: These tools assist converting existing standard Backstage plugins into the RHDH dynamic plugin format.
								</li><li class="listitem">
									RHDH-cli (<code class="literal">@red-hat-developer-hub/cli</code>): This command-line tool is critical for the export process. It allows you to run commands like export-dynamic-plugin, which repackages your code into a derived package containing the necessary configuration (like Scalprum for frontend) and dependency handling (bundling private dependencies vs. sharing platform dependencies)
								</li></ul></div></dd></dl></div></section></section><section class="section" id="proc-developing-plugins-from-scratch_assembly-developing-and-deploying-plugins"><div class="titlepage"><div><div><h2 class="title">3. Develop a new plugin</h2></div></div></div><section class="section" id="con-determine-rhdh-version_assembly-developing-and-deploying-plugins"><div class="titlepage"><div><div><h3 class="title">3.1. Determine RHDH version</h3></div></div></div><p>
				To ensure your plugin uses dependencies compatible with the RHDH instance that it will run on, check the target RHDH version and identify the compatible Backstage version.
			</p><div class="table" id="idm45848169897808"><p class="title"><strong>Table 1. RHDH compatibility matrix</strong></p><div class="table-contents"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"/><col style="width: 34%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm45848169806432" scope="col">RHDH version</th><th align="left" valign="top" id="idm45848170507504" scope="col">Backstage version</th><th align="left" valign="top" id="idm45848170310848" scope="col">create-app version</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm45848169806432">
							<p>
								1.9
							</p>
							</td><td align="left" valign="top" headers="idm45848170507504">
							<p>
								1.45.3
							</p>
							</td><td align="left" valign="top" headers="idm45848170310848">
							<p>
								0.7.6
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm45848169806432">
							<p>
								1.8
							</p>
							</td><td align="left" valign="top" headers="idm45848170507504">
							<p>
								1.42.5
							</p>
							</td><td align="left" valign="top" headers="idm45848170310848">
							<p>
								0.7.3
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm45848169806432">
							<p>
								1.7
							</p>
							</td><td align="left" valign="top" headers="idm45848170507504">
							<p>
								1.39.1
							</p>
							</td><td align="left" valign="top" headers="idm45848170310848">
							<p>
								0.6.2
							</p>
							</td></tr></tbody></table></div></div></section><section class="section" id="proc-create-a-new-backstage-application_assembly-developing-and-deploying-plugins"><div class="titlepage"><div><div><h3 class="title">3.2. Create a new Backstage application</h3></div></div></div><p>
				To ensure that you use the compatible version of the Backstage CLI to create your plugin, create a new Backstage application in your workspace by using the <code class="literal">create-app</code> command.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Determine the <code class="literal">create-app</code> version based on the RHDH compatibility matrix.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a directory for your workspace:
					</p><pre class="programlisting language-terminal">$ mkdir rhdh-plugin-dev
$ cd rhdh-plugin-dev</pre></li><li class="listitem"><p class="simpara">
						Initialize the Backstage application:
					</p><pre class="programlisting language-terminal">$ npx @backstage/create-app@0.7.6 --path .</pre></li></ol></div><div class="formalpara"><p class="title"><strong>Verification</strong></p><p>
					Your workspace should contain the following:
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">packages/app/</code> folder
					</li><li class="listitem">
						<code class="literal">packages/backend/</code> folder
					</li><li class="listitem">
						<code class="literal">plugins/</code> folder
					</li><li class="listitem">
						<code class="literal">package.json</code> file containing the Backstage dependencies.
					</li></ul></div></section><section class="section" id="proc-create-a-new-plugin_assembly-developing-and-deploying-plugins"><div class="titlepage"><div><div><h3 class="title">3.3. Create a new plugin</h3></div></div></div><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have created a Backstage application.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						In your Backstage application root folder, create a new plugin by using the <code class="literal">yarn new</code> command, for example:
					</p><pre class="programlisting language-terminal">$ cd rhdh-plugin-dev
$ yarn new</pre><div class="formalpara"><p class="title"><strong>Output from the <code class="literal">yarn new</code> command</strong></p><p>
							
<pre class="programlisting language-terminal">? What do you want to create? (Use arrow keys)
❯ frontend-plugin - A new frontend plugin
  backend-plugin - A new backend plugin
  backend-plugin-module - A new backend module that extends an existing backend plugin
  plugin-web-library - A new web library plugin package
  plugin-node-library - A new Node.js library plugin package
  plugin-common-library - A new isomorphic common plugin package
  web-library - A library package, exporting shared functionality for web environments</pre>
						</p></div></li><li class="listitem">
						Select the type of plugin to create, for example, <code class="literal">frontend-plugin</code>.
					</li><li class="listitem"><p class="simpara">
						Enter the ID of the plugin, for example:
					</p><pre class="programlisting language-terminal">? What do you want to create? frontend-plugin - A new frontend plugin
? Enter the ID of the plugin [required] simple-example</pre></li><li class="listitem"><p class="simpara">
						(Optional) To preview your plugin with RHDH styling, configure the RHDH theme package in the plugin:
					</p><pre class="programlisting language-terminal">$ cd plugins/simple-example
$ yarn add --dev @red-hat-developer-hub/backstage-plugin-theme</pre><p class="simpara">
						Update <code class="literal">dev/index.tsx</code> file, as follows, to use RHDH themes:
					</p><pre class="programlisting language-javascript">// Import the RHDH themes from the plugin
import { getAllThemes } from '@red-hat-developer-hub/backstage-plugin-theme';
// ...
// ...
createDevApp()
  // ...
  // ...
  // Add RHDH themes to the development harness
  .addThemes(getAllThemes())
  .render();</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							This configuration is only for the local development harness (<code class="literal">dev/index.tsx</code>). When deployed to RHDH, the application provides theming automatically.
						</p></div></div></li></ol></div><div class="formalpara"><p class="title"><strong>Verification</strong></p><p>
					The system generates a new Backstage plugin using your provided ID, then automatically builds and integrates it into the application. The <code class="literal">plugins/simple-example/</code> directory must exist with <code class="literal">src/</code>, <code class="literal">dev/</code> folders, and a <code class="literal">package.json</code> file.
				</p></div><p>
				You can also serve the plugin in isolation by running <code class="literal">yarn start</code> in the plugin directory, for example:
			</p><pre class="programlisting language-terminal">$ cd plugins/simple-example
$ yarn start</pre></section><section class="section" id="proc-implement-a-plugin-component_assembly-developing-and-deploying-plugins"><div class="titlepage"><div><div><h3 class="title">3.4. Implement a plugin component</h3></div></div></div><p>
				By default, the frontend plugin already has a sample page component defined in <code class="literal">src/components/ExampleComponent/</code>. This page is automatically registered in <code class="literal">src/plugin.ts</code> as <code class="literal">SimpleExamplePage</code>.
			</p><p>
				One of the common extensions is to create a new entity card component.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						In the <code class="literal">src/components/</code> directory create an <code class="literal">ExampleCard</code> sub-directory.
					</li><li class="listitem"><p class="simpara">
						Create an <code class="literal">ExampleCard.tsx</code> file, as follows:
					</p><pre class="programlisting language-javascript">import React from 'react';
import { InfoCard } from '@backstage/core-components';
import { useEntity } from '@backstage/plugin-catalog-react';

export const ExampleCard = () =&gt; {
  const { entity } = useEntity();
  return (
    &lt;InfoCard title="Simple Example Info"&gt;
      &lt;p&gt;Entity: {entity.metadata.name}&lt;/p&gt;
    &lt;/InfoCard&gt;
  );
};</pre></li><li class="listitem"><p class="simpara">
						In the <code class="literal">src/components/ExampleCard</code> directory, create and edit the <code class="literal">index.ts</code> file, as follows:
					</p><pre class="programlisting language-javascript">export { ExampleCard } from './ExampleCard';</pre></li><li class="listitem"><p class="simpara">
						To register the new entity card component, edit the <code class="literal">src/plugin.ts</code> file to add the new component to the plugin, as follows:
					</p><pre class="programlisting language-javascript">import { createComponentExtension } from '@backstage/core-plugin-api';

// ...
// ...
export const ExampleCard = simpleExamplePlugin.provide(
  createComponentExtension({
    name: 'ExampleCard',
    component: {
      lazy: () =&gt;
        import('./components/ExampleCard').then(m =&gt; m.ExampleCard),
    },
  }),
);</pre></li><li class="listitem"><p class="simpara">
						Export all components in <code class="literal">src/index.ts</code> so they can be loaded dynamically:
					</p><pre class="programlisting language-javascript">export { simpleExamplePlugin, SimpleExamplePage, ExampleCard } from './plugin';</pre></li></ol></div><div class="formalpara"><p class="title"><strong>Verification</strong></p><p>
					Your plugin should have the following new files:
				</p></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">src/components/ExampleCard/ExampleCard.tsx</code>
					</li><li class="listitem">
						<code class="literal">src/components/ExampleCard/index.ts</code>.
					</li></ul></div><p>
				The <code class="literal">src/plugin.ts</code> should export <code class="literal">ExampleCard</code>, and <code class="literal">src/index.ts</code> should re-export it.
			</p></section><section class="section" id="proc-test-a-plugin-locally_assembly-developing-and-deploying-plugins"><div class="titlepage"><div><div><h3 class="title">3.5. Test a plugin locally</h3></div></div></div><p>
				You can test a plugin locally by using your Backstage application.
			</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					You can also use RHDH Local to test your plugins by copying the generated <code class="literal">dist-dynamic/</code> folder contents to the RHDH Local <code class="literal">local-plugins</code> folder. For more details, see <span class="emphasis"><em>Verify plugins locally</em></span>.
				</p></div></div><p>
				For example, to test your component card locally in your Backstage application by using the development harness, update the <code class="literal">dev/index.tsx</code> file to include the new component card.
			</p><p>
				This file is the entry point for the Local Development Sandbox, it serves as a testing harness.
			</p><p>
				When you are developing a plugin, you do not need to boot up an entire Backstage (or RHDH) production-grade instance just to see a UI change. Instead, you use the <span class="emphasis"><em>Dev App</em></span> which is a lightweight, stripped-down version of the Backstage frontend.
			</p><div class="variablelist"><p class="title"><strong>Primary functions of the Dev App</strong></p><dl class="variablelist"><dt><span class="term">Plugin isolation</span></dt><dd>
							It allows you to run your plugin in a standalone wrapper. This is what loads when you run yarn start from within the plugin directory.
						</dd><dt><span class="term">Mocking the environment</span></dt><dd>
							Since the plugin usually expects to live inside a Backstage App, <code class="literal">dev/index.tsx</code> provides the necessary context:
						</dd><dt><span class="term">Identity mocks</span></dt><dd>
							Simulating a logged-in user.
						</dd><dt><span class="term">API mocks</span></dt><dd>
							Registering test versions of APIs (similar to a mock CatalogApi) so the plugin doesn’t try to call a real backend that isn’t there.
						</dd><dt><span class="term">Route registration</span></dt><dd>
							It defines how the plugin is mounted within this mini-dev-app, usually using createDevApp().
						</dd></dl></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Add Backstage dependencies:
					</p><pre class="programlisting language-terminal">$ yarn add @backstage/catalog-model @backstage/plugin-catalog-react</pre></li><li class="listitem"><p class="simpara">
						Edit your <code class="literal">dev/index.tsx</code> file, as follows:
					</p><pre class="programlisting language-javascript">// ...
// ...
import { Entity } from '@backstage/catalog-model';
import { EntityProvider } from '@backstage/plugin-catalog-react';
import { Page, Header, Content } from '@backstage/core-components';
import { Grid } from '@material-ui/core';
import { ExampleCard } from '../src/plugin';


// Mock entity for the component card
const mockEntity: Entity = {
  apiVersion: 'backstage.io/v1alpha1',
  kind: 'Component',
  metadata: {
    name: 'example-service',
    description: 'An example service component for plugin development.',
    annotations: {
      'backstage.io/techdocs-ref': 'dir:.',
    },
  },
  spec: {
    type: 'service',
    lifecycle: 'production',
    owner: 'team-platform',
  },
};

// Create a page with the mock entity and the component card
const entityPage = (
  &lt;EntityProvider entity={mockEntity}&gt;
    &lt;Page themeId="service"&gt;
      &lt;Header
        title={mockEntity.metadata.name}
        subtitle={`${mockEntity.kind} · ${mockEntity.spec?.type}`}
      /&gt;
      &lt;Content&gt;
        &lt;Grid container spacing={3} alignItems="stretch"&gt;
          &lt;Grid item md={6} xs={12}&gt;
            &lt;ExampleCard /&gt;
          &lt;/Grid&gt;
        &lt;/Grid&gt;
      &lt;/Content&gt;
    &lt;/Page&gt;
  &lt;/EntityProvider&gt;
);

createDevApp()
  // ...
  // ...
  .addPage({
    element: entityPage,
    title: 'Entity Page',
    path: '/simple-example/entity',
  })
  // ...
  // ...
  .render();</pre></li><li class="listitem"><p class="simpara">
						Run the development server:
					</p><pre class="programlisting language-terminal">$ yarn start</pre></li></ol></div><div class="formalpara"><p class="title"><strong>Verification</strong></p><p>
					Navigate to <code class="literal"><a class="link" href="http://localhost:3000/simple-example/entity">http://localhost:3000/simple-example/entity</a></code> in your browser. You should see the Entity Page with your <code class="literal">ExampleCard</code> component displaying "Entity: example-service".
				</p></div></section><section class="section" id="proc-configure-frontend-plugin-wiring_assembly-developing-and-deploying-plugins"><div class="titlepage"><div><div><h3 class="title">3.6. Configure frontend plugin wiring</h3></div></div></div><p>
				Front-end plugin wiring integrates dynamic front-end plugin components, such as new pages, UI extensions, icons, and APIs, into Red Hat Developer Hub.
			</p><p>
				Because the dynamic plugins load at runtime, the core application must discover and connect the exported assets of the plugin to the appropriate user interface systems and locations.
			</p><p>
				Dynamic frontend plugins are registered and configured in the <code class="literal">dynamic-plugins.yaml</code> file.
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					If you are using RHDH Local for development and testing, use <code class="literal">dynamic-plugins.override.yaml</code> instead.
				</p></div></div><p>
				This configuration determines how the plugin is integrated with the RHDH interface, such as adding routes, sidebar menu items, and mount points.
			</p><div class="formalpara"><p class="title"><strong><code class="literal">dynamic-plugins.yaml</code> example</strong></p><p>
					
<pre class="programlisting language-yaml">plugins:
  # Option 1: Load from an OCI image
  - package: oci://quay.io/&lt;namespace&gt;/simple-example:v0.1.0!backstage-plugin-simple-example
    disabled: false
    pluginConfig:
      dynamicPlugins:
        frontend:
          # The package name must match package.json
          internal.backstage-plugin-simple-example:
            dynamicRoutes:
              - path: /simple-example
                # Must match the export in src/index.ts
                importName: SimpleExamplePage
                menuItem:
                  icon: extension
                  text: Simple Example
            mountPoints:
              - mountPoint: entity.page.overview/cards
                # Must match the export in src/index.ts
                importName: ExampleCard
                config:
                  layout:
                    gridColumnEnd: 'span 4'
                  if:
                    allOf:
                      - isKind: component

  # Option 2: Load from local directory (for local RHDH testing)
  # - package: ./local-plugins/simple-example
  #   disabled: false
  #   pluginConfig: ... (same as above)</pre>
				</p></div><div class="formalpara"><p class="title"><strong>Verification</strong></p><p>
					After restarting RHDH, confirm that <span class="strong strong"><strong>Simple Example</strong></span> appears in the sidebar menu. Click <span class="strong strong"><strong>Simple Example</strong></span> and verify that the plugin page displays correctly. Navigate to a Component entity page and verify that the <span class="strong strong"><strong>ExampleCard</strong></span> appears in the <span class="strong strong"><strong>Overview</strong></span> tab.
				</p></div><div class="formalpara"><p class="title"><strong>Additional resources</strong></p><p>
					<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.8/html/installing_and_viewing_plugins_in_red_hat_developer_hub/assembly-front-end-plugin-wiring.adoc_rhdh-extensions-plugins">Frontend Plugin Wiring</a>
				</p></div></section></section><section class="section" id="proc-converting-a-custom-plugin-into-a-dynamic-plugin_assembly-developing-and-deploying-plugins"><div class="titlepage"><div><div><h2 class="title">4. Convert a custom plugin into a dynamic plugin</h2></div></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
					Use the RHDH CLI to prepare the plugin you want to export. The following command uses the plugin files in the <code class="literal">dist</code> folder that was generated by the <code class="literal">yarn build:all</code> command, and creates a <code class="literal">dist-dynamic</code> folder containing a <code class="literal">dist-scalprum</code> sub-folder that contains the necessary configuration and source files to enable dynamic loading:
				</p><pre class="programlisting language-terminal">cd plugins/simple-example
npx @red-hat-developer-hub/cli@latest plugin export</pre><p class="simpara">
					When this command packages a frontend plugin, it uses a default Scalprum configuration if one is not found. The Scalprum configuration is used to specify the plugin entry point and exports, and then to build a <code class="literal">dist-scalprum</code> folder that contains the dynamic plugin. The default Scalprum configuration is suitable for most plugins.
				</p></li><li class="listitem"><p class="simpara">
					Package the plugin into a container image and publish it to Quay.io.
				</p><pre class="programlisting language-terminal">export QUAY_USER=_&lt;username&gt;_
export PLUGIN_NAME=simple-example
export VERSION=$(cat package.json | jq .version -r)
npx @red-hat-developer-hub/cli@latest plugin package --tag quay.io/$QUAY_USER/$PLUGIN_NAME:$VERSION</pre></li><li class="listitem"><p class="simpara">
					Push to Quay.io
				</p><pre class="programlisting language-terminal">podman push quay.io/$QUAY_USER/$PLUGIN_NAME:$VERSION</pre></li></ol></div><section class="section" id="using-the-dynamic-plugin-factory-to-convert-plugins-into-dynamic-plugins"><div class="titlepage"><div><div><h3 class="title">4.1. Using the Dynamic Plugin Factory to convert plugins into dynamic plugins</h3></div></div></div><p>
				You can automate the conversion and packaging of standard Backstage plugins into RHDH dynamic plugins by using the RHDH Dynamic Plugin Factory tool.
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					The Dynamic Plugin Factory is maintained as an open-source project by Red Hat, but is not supported or subject to any service level agreement (SLA).
				</p></div></div><p>
				The core function of the Dynamic Plugin Factory tool is to streamline the dynamic plugin build process, offering the following capabilities:
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Source Code Handling</span></dt><dd>
							Manages cloning, checking out, and applying custom patches to the plugin source.
						</dd><dt><span class="term">Dependency Management</span></dt><dd>
							Handles yarn installation and TypeScript compilation.
						</dd><dt><span class="term">Packaging</span></dt><dd>
							Uses the RHDH CLI to build, export, and package the final dynamic plugin.
						</dd><dt><span class="term">Deployment</span></dt><dd>
							Offers an option to push the resulting container image to registries like Quay or OpenShift.
						</dd></dl></div><p>
				The Dynamic Plugin Factory tool provides a simplified, reproducible method for developers and platform engineers to create and test dynamic plugins using a pre-configured <span class="emphasis"><em>dynamic plugin factory</em></span> container and documentation, significantly easing migration and testing.
			</p><p>
				For more information, see <a class="link" href="https://github.com/redhat-developer/rhdh-dynamic-plugin-factory/blob/main/README.md">RHDH Dynamic Plugin Factory</a>.
			</p></section></section><section class="section" id="deployment-configurations"><div class="titlepage"><div><div><h2 class="title">5. Deployment configurations</h2></div></div></div><section class="section" id="proc-adding-a-dynamic-plugin"><div class="titlepage"><div><div><h3 class="title">5.1. Adding a dynamic plugin to Red Hat Developer Hub</h3></div></div></div><p>
				To add a custom dynamic plugin to Red Hat Developer Hub, you must update the <code class="literal">dynamic-plugins.yaml</code> file by using the following configuration that is generated from the <code class="literal">npx @red-hat-developer-hub/cli@latest plugin package</code> command:
			</p><pre class="programlisting language-yaml">plugins:
  - package: oci://quay.io/<span class="emphasis"><em>&lt;account-name&gt;</em></span>/<span class="emphasis"><em>&lt;image-name&gt;</em></span>:_&lt;tag&gt;_!<span class="emphasis"><em>&lt;plugin-name&gt;</em></span>
    disabled: false
    pluginConfig: {}</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					If you are using RHDH Local for development and testing, use the <code class="literal">dynamic-plugins.override.yaml</code> file instead.
				</p></div></div><p>
				The following example integrates a plugin named <code class="literal">simple-example</code> with RHDH and includes the <code class="literal">plugin-config</code> that you must add to display a frontend plugin:
			</p><div class="formalpara"><p class="title"><strong>Procedure</strong></p><p>
					
<pre class="programlisting language-yaml">plugins:
  # Option 1: Load from an OCI image
  - package: oci://quay.io/&lt;namespace&gt;/simple-example:v0.1.0!backstage-plugin-simple-example
    disabled: false
    pluginConfig:
      dynamicPlugins:
        frontend:
          # The package name must match package.json (usually internal.backstage-plugin-&lt;id&gt;)
          internal.backstage-plugin-simple-example:
            dynamicRoutes:
              - path: /simple-example
                # Must match the export in src/index.ts
                importName: SimpleExamplePage
                menuItem:
                  icon: extension
                  text: Simple Example
            mountPoints:
              - mountPoint: entity.page.overview/cards
                # Must match the export in src/index.ts
                importName: ExampleCard
                config:
                  layout:
                    gridColumnEnd: 'span 4'
                  if:
                    allOf:
                      - isKind: component

  # Option 2: Load from local directory (for local RHDH testing)
  # - package: ./local-plugins/simple-example
  #   disabled: false
  #   pluginConfig: ... (same as above)</pre>
				</p></div><p>
				where
			</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">frontend:dynamic-routes</span></dt><dd>
							Contains the sidebar menu item and the plugin route.
						</dd><dt><span class="term">frontend:mountPoints</span></dt><dd>
							Defines the configuration to mount components exposed by the plugin.
						</dd></dl></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
					Ensure that your container images are publicly accessible, or that you have configured a pull secret in your environment. A pull secret provides Red Hat Developer Hub with credentials to authenticate pulling your plugin container images from a container registry. For more details, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/latest/html-single/installing_and_viewing_plugins_in_red_hat_developer_hub/index#proc-load-plugin-oci-image_assembly-install-third-party-plugins-rhdh">Loading a plugin packaged as an OCI image</a>.
				</p></div></div></section></section><section class="section" id="con-testing-with-rhdh-local_assembly-developing-and-deploying-plugins"><div class="titlepage"><div><div><h2 class="title">6. Verify plugins locally</h2></div></div></div><p>
			RHDH Local enables you to test a dynamic plugin that you have built <span class="strong strong"><strong>before</strong></span> publishing it to a registry.
		</p><p>
			During boot, the install-dynamic-plugins container reads the contents of the plugin configuration file and activates, configures, or downloads any plugins listed. RHDH Local supports two ways of specifying dynamic plugin configuration:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Default path: <code class="literal">configs/dynamic-plugins/dynamic-plugins.yaml</code>
				</li><li class="listitem">
					User override path: <code class="literal">configs/dynamic-plugins/dynamic-plugins.override.yaml</code>
				</li></ul></div><p>
			The <code class="literal">dynamic-plugins.override.yaml</code> configuration takes precedence over the <code class="literal">dynamic-plugins.yaml</code> configuration. You should not modify the default <code class="literal">dynamic-plugins.yaml</code> file, use the <code class="literal">dynamic-plugins.override.yaml</code> to override the default file settings.
		</p><p>
			In addition, the local-plugins directory is mounted into the install-dynamic-plugins container at <code class="literal">/opt/app-root/src/local-plugins</code>. Any plugins placed there can be activated or configured the same way without downloading.
		</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					You have exported a custom plugin by using the <code class="literal">npx @red-hat-developer-hub/cli@latest plugin export</code> command that has generated a <code class="literal">dist-dynamic</code> directory containing the following:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							dist-scalprum: A directory that contains the Webpack federated modules.
						</li><li class="listitem">
							package.json: A modified version of your <code class="literal">package.json</code> file optimized for dynamic loading.
						</li></ul></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
					Copy the <code class="literal">dist-dynamic</code> directory directly into the <code class="literal">local-plugins</code> folder, for example:
				</p><pre class="programlisting language-terminal"># Copy the dynamic distribution to RHDH Local
$ cp -r dist-dynamic/ &lt;RHDH_LOCAL_PATH&gt;/local-plugins/example-plugin</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						The <code class="literal">local-plugins/simple-example/</code> directory in your RHDH Local installation should contain the plugin files from <code class="literal">dist-dynamic</code> directory, including the <code class="literal">dist-scalprum</code> directory and the <code class="literal">package.json</code> file
					</p></div></div></li><li class="listitem">
					Ensure that permissions allow the container to read the files.
				</li><li class="listitem">
					Configure your plugin in the <code class="literal">configs/dynamic-plugins/dynamic-plugins.override.yaml</code> file.
				</li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
					See <a class="link" href="https://github.com/redhat-developer/rhdh-local/blob/main/docs/rhdh-local-guide/configuration.md">RHDH Local Configuration</a> for more information about updating and reloading configurations.
				</li></ul></div></section><div><div xml:lang="en-US" class="legalnotice" id="idm45848152082736"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"/>© 2026 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></section></div></div><script type="text/javascript">
                        jQuery(document).ready(function() {
                            initSwitchery();
                            jQuery('pre[class*="language-"]').each(function(i, block){hljs.highlightBlock(block);});
                        });
                    </script></body></html>