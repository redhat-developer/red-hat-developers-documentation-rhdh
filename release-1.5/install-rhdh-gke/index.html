<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="chrometwo"><head><title>Installing Red Hat Developer Hub on Google Kubernetes Engine</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css"/><meta name="generator" content="publican v4.3.2"/><meta name="description" content="Platform administrators can configure roles, permissions, and other settings to enable other authorized users to deploy a Developer Hub instance on Google Kubernetes Engine (GKE) using either the Operator or Helm chart."/><link rel="next" href="#proc-rhdh-deploy-gke-operator.adoc_title-install-rhdh-gke" title="1. Installing the Developer Hub Operator with the OLM framework"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><script type="text/javascript" src="Common_Content/scripts/jquery-1.7.1.min.js"> </script><script type="text/javascript" src="Common_Content/scripts/utils.js"> </script><script type="text/javascript" src="Common_Content/scripts/highlight.js/highlight.pack.js"> </script></head><body><div id="chrometwo"><div id="main"><section xml:lang="en-US" class="article" id="idm46472595809824"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Developer Hub</span> <span class="productnumber">1.5</span></div><div><h1 class="title">Installing Red Hat Developer Hub on Google Kubernetes Engine</h1></div><div><h3 class="subtitle"><em>Running Red Hat Developer Hub on Google Kubernetes Engine (GKE) by using either the Operator or Helm chart. </em></h3></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat Customer Content Services</span></div></div><div><a href="#idm46472585073008">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				Platform administrators can configure roles, permissions, and other settings to enable other authorized users to deploy a Developer Hub instance on Google Kubernetes Engine (GKE) using either the Operator or Helm chart.
			</div></div></div></div><hr/></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#proc-rhdh-deploy-gke-operator.adoc_title-install-rhdh-gke">1. Installing the Developer Hub Operator with the OLM framework</a></span><ul><li><span class="section"><a href="#proc-deploy-rhdh-instance-gke.adoc_title-install-rhdh-gke">1.1. Deploying the Developer Hub instance on GKE with the Operator</a></span></li></ul></li><li><span class="section"><a href="#proc-rhdh-deploy-gke-helm_title-install-rhdh-gke">2. Installing Developer Hub on GKE with the Helm chart</a></span></li></ul></div><p>
		You can install Red Hat Developer Hub on Google Kubernetes Engine (GKE) using one of the following methods:
	</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
				The Red Hat Developer Hub Operator
			</li><li class="listitem">
				The Red Hat Developer Hub Helm chart
			</li></ul></div><section class="section" id="proc-rhdh-deploy-gke-operator.adoc_title-install-rhdh-gke"><div class="titlepage"><div><div><h2 class="title">1. Installing the Developer Hub Operator with the OLM framework</h2></div></div></div><p>
			You can install the Developer Hub Operator on GKE using the <a class="link" href="https://olm.operatorframework.io">Operator Lifecycle Manager (OLM) framework</a>. Following that, you can proceed to deploy your Developer Hub instance in GKE.
		</p><p>
			For information about the OLM, see <a class="link" href="https://olm.operatorframework.io/docs/">Operator Lifecycle Manager(OLM)</a> documentation.
		</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
					You have subscribed to <code class="literal">registry.redhat.io</code>. For more information, see <a class="link" href="https://access.redhat.com/RegistryAuthentication">Red Hat Container Registry Authentication</a>.
				</li><li class="listitem">
					You have installed the Operator Lifecycle Manager (OLM). For more information about installation and troubleshooting, see <a class="link" href="https://operatorhub.io/how-to-install-an-operator#How-do-I-get-Operator-Lifecycle-Manager?">How do I get Operator Lifecycle Manager?</a>
				</li><li class="listitem">
					You have installed <code class="literal">kubectl</code>. For more information, see <a class="link" href="https://kubernetes.io/docs/tasks/tools/#kubectl">Install kubetl</a>.
				</li><li class="listitem">
					You have installed the Google Cloud CLI. For more information, see <a class="link" href="https://cloud.google.com/sdk/docs/install">Install the gcloud CLI</a>.
				</li><li class="listitem">
					You have logged in to your Google account and created a <a class="link" href="https://cloud.google.com/kubernetes-engine/docs/how-to/creating-an-autopilot-cluster">GKE Autopilot</a> or <a class="link" href="https://cloud.google.com/kubernetes-engine/docs/how-to/creating-a-zonal-cluster">GKE Standard</a> cluster.
				</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
					Connect to your GKE cluster using the following command:
				</p><pre class="programlisting language-terminal">gcloud container clusters get-credentials &lt;cluster-name&gt; \ <span id="CO1-1"/><span class="callout">1</span>
    --location=&lt;cluster-location&gt; <span id="CO1-2"/><span class="callout">2</span></pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO1-1"><span class="callout">1</span></a> </dt><dd><div class="para">
							Enter your GKE cluster name.
						</div></dd><dt><a href="#CO1-2"><span class="callout">2</span></a> </dt><dd><div class="para">
							Enter your GKE cluster location.
						</div></dd></dl></div><p class="simpara">
					This command configures your Kubernetes client to point to your GKE cluster.
				</p></li><li class="listitem"><p class="simpara">
					Run the following command in your terminal to create the <code class="literal">rhdh-operator</code> namespace where the Operator is installed:
				</p><pre class="programlisting language-terminal">kubectl create namespace rhdh-operator</pre></li><li class="listitem"><p class="simpara">
					Create a pull secret using the following command:
				</p><pre class="programlisting language-terminal">kubectl -n rhdh-operator create secret docker-registry rhdh-pull-secret \
    --docker-server=registry.redhat.io \
    --docker-username=&lt;user_name&gt; \ <span id="CO2-1"/><span class="callout">1</span>
    --docker-password=&lt;password&gt; \ <span id="CO2-2"/><span class="callout">2</span>
    --docker-email=&lt;email&gt; <span id="CO2-3"/><span class="callout">3</span></pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO2-1"><span class="callout">1</span></a> </dt><dd><div class="para">
							Enter your username in the command.
						</div></dd><dt><a href="#CO2-2"><span class="callout">2</span></a> </dt><dd><div class="para">
							Enter your password in the command.
						</div></dd><dt><a href="#CO2-3"><span class="callout">3</span></a> </dt><dd><div class="para">
							Enter your email address in the command.
						</div></dd></dl></div><p class="simpara">
					The created pull secret is used to pull the Developer Hub images from the Red Hat Ecosystem.
				</p></li><li class="listitem"><p class="simpara">
					Create a <code class="literal">CatalogSource</code> resource that contains the Operator from the Red Hat Ecosystem:
				</p><div class="formalpara"><p class="title"><strong>Example <code class="literal">CatalogSource</code> resource</strong></p><p>
						
<pre class="programlisting language-terminal">cat &lt;&lt;EOF | kubectl -n rhdh-operator apply -f -
apiVersion: operators.coreos.com/v1alpha1
kind: CatalogSource
metadata:
  name: redhat-catalog
spec:
  sourceType: grpc
  image: registry.redhat.io/redhat/redhat-operator-index:v4.18
  secrets:
  - "rhdh-pull-secret"
  displayName: Red Hat Operators
EOF</pre>
					</p></div></li><li class="listitem"><p class="simpara">
					Create an <code class="literal">OperatorGroup</code> resource as follows:
				</p><div class="formalpara"><p class="title"><strong>Example <code class="literal">OperatorGroup</code> resource</strong></p><p>
						
<pre class="programlisting language-terminal">cat &lt;&lt;EOF | kubectl apply -n rhdh-operator -f -
apiVersion: operators.coreos.com/v1
kind: OperatorGroup
metadata:
  name: rhdh-operator-group
EOF</pre>
					</p></div></li><li class="listitem"><p class="simpara">
					Create a <code class="literal">Subscription</code> resource using the following code:
				</p><div class="formalpara"><p class="title"><strong>Example <code class="literal">Subscription</code> resource</strong></p><p>
						
<pre class="programlisting language-terminal">cat &lt;&lt;EOF | kubectl apply -n rhdh-operator -f -
apiVersion: operators.coreos.com/v1alpha1
kind: Subscription
metadata:
  name: rhdh
  namespace: rhdh-operator
spec:
  channel: fast
  installPlanApproval: Automatic
  name: rhdh
  source: redhat-catalog
  sourceNamespace: rhdh-operator
  startingCSV: rhdh-operator.v1.5.0
EOF</pre>
					</p></div></li><li class="listitem"><p class="simpara">
					Run the following command to verify that the created Operator is running:
				</p><pre class="programlisting language-terminal">kubectl -n rhdh-operator get pods -w</pre><p class="simpara">
					If the Operator pod shows <code class="literal">ImagePullBackOff</code> status, you might need permission to pull the image directly within the Operator deployment’s manifest.
				</p><div class="admonition tip"><div class="admonition_header">Tip</div><div><p>
					You can include the required secret name in the <code class="literal">deployment.spec.template.spec.imagePullSecrets</code> list and verify the deployment name using <code class="literal">kubectl get deployment -n rhdh-operator</code> command. For example:
				</p><pre class="programlisting language-terminal">kubectl -n rhdh-operator patch deployment \
    rhdh.fast --patch '{"spec":{"template":{"spec":{"imagePullSecrets":[{"name":"rhdh-pull-secret"}]}}}}' \
    --type=merge</pre></div></div></li><li class="listitem"><p class="simpara">
					Update the default configuration of the Operator to ensure that Developer Hub resources can start correctly in GKE using the following steps:
				</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
							Edit the <code class="literal">backstage-default-config</code> ConfigMap in the <code class="literal">rhdh-operator</code> namespace using the following command:
						</p><pre class="programlisting language-terminal">kubectl -n rhdh-operator edit configmap backstage-default-config</pre></li><li class="listitem"><p class="simpara">
							Locate the <code class="literal">db-statefulset.yaml</code> string and add the <code class="literal">fsGroup</code> to its <code class="literal">spec.template.spec.securityContext</code>, as shown in the following example:
						</p><div class="formalpara"><p class="title"><strong><code class="literal">db-statefulset.yaml</code> fragment</strong></p><p>
								
<pre class="programlisting language-yaml">  db-statefulset.yaml: |
    apiVersion: apps/v1
    kind: StatefulSet
--- TRUNCATED ---
    spec:
    --- TRUNCATED ---
      restartPolicy: Always
      securityContext:
      # You can assign any random value as fsGroup
        fsGroup: 2000
      serviceAccount: default
      serviceAccountName: default
--- TRUNCATED ---</pre>
							</p></div></li><li class="listitem"><p class="simpara">
							Locate the <code class="literal">deployment.yaml</code> string and add the <code class="literal">fsGroup</code> to its specification, as shown in the following example:
						</p><div class="formalpara"><p class="title"><strong><code class="literal">deployment.yaml</code> fragment</strong></p><p>
								
<pre class="programlisting language-yaml">  deployment.yaml: |
    apiVersion: apps/v1
    kind: Deployment
--- TRUNCATED ---
    spec:
      securityContext:
        # You can assign any random value as fsGroup
        fsGroup: 3000
      automountServiceAccountToken: false
--- TRUNCATED ---</pre>
							</p></div></li><li class="listitem"><p class="simpara">
							Locate the <code class="literal">service.yaml</code> string and change the <code class="literal">type</code> to <code class="literal">NodePort</code> as follows:
						</p><div class="formalpara"><p class="title"><strong><code class="literal">service.yaml</code> fragment</strong></p><p>
								
<pre class="programlisting language-yaml">  service.yaml: |
    apiVersion: v1
    kind: Service
    spec:
     # NodePort is required for the ALB to route to the Service
      type: NodePort
--- TRUNCATED ---</pre>
							</p></div></li><li class="listitem"><p class="simpara">
							Save and exit.
						</p><p class="simpara">
							Wait until the changes are automatically applied to the Operator pods.
						</p></li></ol></div></li></ol></div><section class="section" id="proc-deploy-rhdh-instance-gke.adoc_title-install-rhdh-gke"><div class="titlepage"><div><div><h3 class="title">1.1. Deploying the Developer Hub instance on GKE with the Operator</h3></div></div></div><p>
				You can deploy your Developer Hub instance in GKE using the Operator.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						A cluster administrator has installed the Red Hat Developer Hub Operator.
					</li><li class="listitem">
						You have subscribed to <code class="literal">registry.redhat.io</code>. For more information, see <a class="link" href="https://access.redhat.com/RegistryAuthentication">Red Hat Container Registry Authentication</a>.
					</li><li class="listitem">
						You have installed <code class="literal">kubectl</code>. For more information, see <a class="link" href="https://kubernetes.io/docs/tasks/tools/#kubectl">Install kubetl</a>.
					</li><li class="listitem">
						You have configured a domain name for your Developer Hub instance.
					</li><li class="listitem">
						You have reserved a static external Premium IPv4 Global IP address that is not attached to any virtual machine (VM). For more information see <a class="link" href="https://cloud.google.com/vpc/docs/reserve-static-external-ip-address#reserve_new_static">Reserve a new static external IP address</a>
					</li><li class="listitem"><p class="simpara">
						You have configured the DNS records for your domain name to point to the IP address that has been reserved.
					</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
							You need to create an <code class="literal">A</code> record with the value equal to the IP address. This process can take up to one hour to propagate.
						</p></div></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Create a ConfigMap named <code class="literal">app-config-rhdh</code> containing the Developer Hub configuration using the following template:
					</p><div class="formalpara"><p class="title"><strong><code class="literal">app-config-rhdh.yaml</code> fragment</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: v1
kind: ConfigMap
metadata:
  name: app-config-rhdh
data:
  "app-config-rhdh.yaml": |
    app:
      title: Red Hat Developer Hub
      baseUrl: https://&lt;rhdh_domain_name&gt;
    backend:
      auth:
        externalAccess:
            - type: legacy
              options:
                subject: legacy-default-config
                secret: "${BACKEND_SECRET}"
      baseUrl: https://&lt;rhdh_domain_name&gt;
      cors:
        origin: https://&lt;rhdh_domain_name&gt;</pre>
						</p></div></li><li class="listitem"><p class="simpara">
						Create a Secret named <code class="literal">my-rhdh-secrets</code> and add a key named <code class="literal">BACKEND_SECRET</code> with a <code class="literal">Base64-encoded</code> string as value:
					</p><div class="formalpara"><p class="title"><strong><code class="literal">my-rhdh-secrets</code> fragment</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: v1
kind: Secret
metadata:
  name: my-rhdh-secrets
stringData:
  # TODO: See https://backstage.io/docs/auth/service-to-service-auth/#setup
  BACKEND_SECRET: "xxx"</pre>
						</p></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
							Ensure that you use a unique value of <code class="literal">BACKEND_SECRET</code> for each Developer Hub instance.
						</p></div></div><p class="simpara">
						You can use the following command to generate a key:
					</p><pre class="programlisting language-terminal">node-p'require("crypto").randomBytes(24).toString("base64")'</pre></li><li class="listitem"><p class="simpara">
						To enable pulling the PostgreSQL image from the Red Hat Ecosystem Catalog, add the image pull secret in the default service account within the namespace where the Developer Hub instance is being deployed:
					</p><pre class="programlisting language-terminal">kubectl patch serviceaccount default \
    -p '{"imagePullSecrets": [{"name": "rhdh-pull-secret"}]}' \
    -n &lt;your_namespace&gt;</pre></li><li class="listitem"><p class="simpara">
						Create your <code class="literal">Backstage</code> custom resource (CR) file using the following template:
					</p><div class="formalpara"><p class="title"><strong>Custom resource fragment</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: rhdh.redhat.com/v1alpha3
kind: Backstage
metadata:
  # This is the name of your Developer Hub instance
  name: my-rhdh
spec:
  application:
    imagePullSecrets:
    - "rhdh-pull-secret"
    route:
      enabled: false
    appConfig:
      configMaps:
        - name: "app-config-rhdh"
    extraEnvs:
      secrets:
        - name: "my-rhdh-secrets"</pre>
						</p></div></li><li class="listitem"><p class="simpara">
						Set up a Google-managed certificate by creating a <code class="literal">ManagedCertificate</code> object which you must attach to the Ingress.
					</p><div class="formalpara"><p class="title"><strong>Example of a <code class="literal">ManagedCertificate</code> object</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: networking.gke.io/v1
kind: ManagedCertificate
metadata:
  name: &lt;rhdh_certificate_name&gt;
spec:
  domains:
    - &lt;rhdh_domain_name&gt;</pre>
						</p></div><p class="simpara">
						For more information about setting up a Google-managed certificate, see <a class="link" href="https://cloud.google.com/kubernetes-engine/docs/how-to/managed-certs?hl=en#setting_up_a_google-managed_certificate">Setting up a Google-managed certificate</a>.
					</p></li><li class="listitem"><p class="simpara">
						Create a <code class="literal">FrontendConfig</code> object to set a policy for redirecting to HTTPS. You must attach this policy to the Ingress.
					</p><div class="formalpara"><p class="title"><strong>Example of a <code class="literal">FrontendConfig</code> object</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: networking.gke.io/v1beta1
kind: FrontendConfig
metadata:
  name: &lt;ingress_security_config&gt;
spec:
  sslPolicy: gke-ingress-ssl-policy-https
  redirectToHttps:
    enabled: true</pre>
						</p></div><p class="simpara">
						For more information about setting a policy to redirect to HTTPS, see <a class="link" href="https://cloud.google.com/kubernetes-engine/docs/how-to/ingress-configuration?hl=en#https_redirect">HTTP to HTTPS redirects</a>.
					</p></li><li class="listitem"><p class="simpara">
						Create an ingress resource using the following template, customizing the names as needed:
					</p><div class="formalpara"><p class="title"><strong>Example of an ingress resource configuration</strong></p><p>
							
<pre class="programlisting language-yaml">apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  # TODO: this the name of your Developer Hub Ingress
  name: my-rhdh
  annotations:
    # If the class annotation is not specified it defaults to "gce".
    kubernetes.io/ingress.class: "gce"
    kubernetes.io/ingress.global-static-ip-name: &lt;ADDRESS_NAME&gt;
    networking.gke.io/managed-certificates: &lt;rhdh_certificate_name&gt;
    networking.gke.io/v1beta1.FrontendConfig: &lt;ingress_security_config&gt;
spec:
  ingressClassName: gce
  rules:
    # TODO: Set your application domain name.
    - host: &lt;rhdh_domain_name&gt;
      http:
        paths:
        - path: /
          pathType: Prefix
          backend:
            service:
              # TODO: my-rhdh is the name of your `Backstage` custom resource.
              # Adjust if you changed it!
              name: backstage-my-rhdh
              port:
                name: http-backend</pre>
						</p></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						Wait for the <code class="literal">ManagedCertificate</code> to be provisioned. This process can take a couple of hours.
					</li><li class="listitem">
						Access RHDH with <code class="literal"><a class="link" href="https://&lt;rhdh_domain_name&gt;">https://&lt;rhdh_domain_name&gt;</a></code>
					</li></ul></div><div class="formalpara"><p class="title"><strong>Additional information</strong></p><p>
					For more information on setting up GKE using Ingress with TLS, see <a class="link" href="https://github.com/GoogleCloudPlatform/gke-networking-recipes/tree/main/ingress/single-cluster/ingress-https">Secure GKE Ingress</a>.
				</p></div></section></section><section class="section" id="proc-rhdh-deploy-gke-helm_title-install-rhdh-gke"><div class="titlepage"><div><div><h2 class="title">2. Installing Developer Hub on GKE with the Helm chart</h2></div></div></div><p>
			When you install the Developer Hub Helm chart in Google Kubernetes Engine (GKE), it orchestrates the deployment of a Developer Hub instance, which provides a robust developer platform within the GKE ecosystem.
		</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
					You have subscribed to <code class="literal">registry.redhat.io</code>. For more information, see <a class="link" href="https://access.redhat.com/RegistryAuthentication">Red Hat Container Registry Authentication</a>.
				</li><li class="listitem">
					You have installed <code class="literal">kubectl</code>. For more information, see <a class="link" href="https://kubernetes.io/docs/tasks/tools/#kubectl">Install kubetl</a>.
				</li><li class="listitem">
					You have installed the Google Cloud CLI. For more information, see <a class="link" href="https://cloud.google.com/sdk/docs/install">Install the gcloud CLI</a>.
				</li><li class="listitem">
					You have logged in to your Google account and created a <a class="link" href="https://cloud.google.com/kubernetes-engine/docs/how-to/creating-an-autopilot-cluster">GKE Autopilot</a> or <a class="link" href="https://cloud.google.com/kubernetes-engine/docs/how-to/creating-a-zonal-cluster">GKE Standard</a> cluster.
				</li><li class="listitem">
					You have configured a domain name for your Developer Hub instance.
				</li><li class="listitem">
					You have reserved a static external Premium IPv4 Global IP address that is not attached to any VM. For more information see <a class="link" href="https://cloud.google.com/vpc/docs/reserve-static-external-ip-address#reserve_new_static">Reserve a new static external IP address</a>
				</li><li class="listitem"><p class="simpara">
					You have configured the DNS records for your domain name to point to the IP address that has been reserved.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						You need to create an <code class="literal">A</code> record with the value equal to the IP address. This process can take up to one hour to propagate.
					</p></div></div></li><li class="listitem">
					You have installed Helm 3 or the latest. For more information, see <a class="link" href="https://helm.sh/docs/intro/install">Installing Helm</a>.
				</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
					Go to your terminal and run the following command to add the Helm chart repository containing the Developer Hub chart to your local Helm registry:
				</p><pre class="programlisting language-terminal">helm repo add openshift-helm-charts https://charts.openshift.io/</pre></li><li class="listitem"><p class="simpara">
					Create a pull secret using the following command:
				</p><pre class="programlisting language-terminal">kubectl -n &lt;your-namespace&gt; create secret docker-registry rhdh-pull-secret \ <span id="CO3-1"/><span class="callout">1</span>
    --docker-server=registry.redhat.io \
    --docker-username=&lt;user_name&gt; \ <span id="CO3-2"/><span class="callout">2</span>
    --docker-password=&lt;password&gt; \ <span id="CO3-3"/><span class="callout">3</span>
    --docker-email=&lt;email&gt; <span id="CO3-4"/><span class="callout">4</span></pre><div class="calloutlist"><dl class="calloutlist"><dt><a href="#CO3-1"><span class="callout">1</span></a> </dt><dd><div class="para">
							Enter your GKE namespace in the command.
						</div></dd><dt><a href="#CO3-2"><span class="callout">2</span></a> </dt><dd><div class="para">
							Enter your username in the command.
						</div></dd><dt><a href="#CO3-3"><span class="callout">3</span></a> </dt><dd><div class="para">
							Enter your password in the command.
						</div></dd><dt><a href="#CO3-4"><span class="callout">4</span></a> </dt><dd><div class="para">
							Enter your email address in the command.
						</div></dd></dl></div><p class="simpara">
					The created pull secret is used to pull the Developer Hub images from the Red Hat Ecosystem.
				</p></li><li class="listitem"><p class="simpara">
					Set up a Google-managed certificate by creating a <code class="literal">ManagedCertificate</code> object that you must attach to the ingress.
				</p><div class="formalpara"><p class="title"><strong>Example of attaching a <code class="literal">ManagedCertificate</code> object to the ingress</strong></p><p>
						
<pre class="programlisting language-yaml">apiVersion: networking.gke.io/v1
kind: ManagedCertificate
metadata:
  name: &lt;rhdh_certificate_name&gt;
spec:
  domains:
    - &lt;rhdh_domain_name&gt;</pre>
					</p></div><p class="simpara">
					For more information about setting up a Google-managed certificate, see <a class="link" href="https://cloud.google.com/kubernetes-engine/docs/how-to/managed-certs?hl=en#setting_up_a_google-managed_certificate">Setting up a Google-managed certificate</a>.
				</p></li><li class="listitem"><p class="simpara">
					Create a <code class="literal">FrontendConfig</code> object to set a policy for redirecting to HTTPS. You must attach this policy to the ingress.
				</p><div class="formalpara"><p class="title"><strong>Example of attaching a <code class="literal">FrontendConfig</code> object to the ingress</strong></p><p>
						
<pre class="programlisting language-yaml">apiVersion: networking.gke.io/v1beta1
kind: FrontendConfig
metadata:
  name: &lt;ingress_security_config&gt;
spec:
  sslPolicy: gke-ingress-ssl-policy-https
  redirectToHttps:
    enabled: true</pre>
					</p></div><p class="simpara">
					For more information about setting a policy to redirect to HTTPS, see <a class="link" href="https://cloud.google.com/kubernetes-engine/docs/how-to/ingress-configuration?hl=en#https_redirect">HTTP to HTTPS redirects</a>.
				</p></li><li class="listitem"><p class="simpara">
					Create a file named <code class="literal">values.yaml</code> using the following template:
				</p><div class="formalpara"><p class="title"><strong>Example <code class="literal">values.yaml</code> file</strong></p><p>
						
<pre class="programlisting language-yaml">global:
  host: &lt;rhdh_domain_name&gt;
route:
  enabled: false
upstream:
  service:
    type: NodePort
  ingress:
    enabled: true
    annotations:
      kubernetes.io/ingress.class: gce
      kubernetes.io/ingress.global-static-ip-name: &lt;ADDRESS_NAME&gt;
      networking.gke.io/managed-certificates: &lt;rhdh_certificate_name&gt;
      networking.gke.io/v1beta1.FrontendConfig: &lt;ingress_security_config&gt;
    className: gce
  backstage:
    image:
      pullSecrets:
      - rhdh-pull-secret
    podSecurityContext:
      fsGroup: 2000
  postgresql:
    image:
      pullSecrets:
      - rhdh-pull-secret
    primary:
      podSecurityContext:
        enabled: true
        fsGroup: 3000
  volumePermissions:
    enabled: true</pre>
					</p></div></li><li class="listitem"><p class="simpara">
					Run the following command in your terminal to deploy Developer Hub using the latest version of Helm Chart and using the <code class="literal">values.yaml</code> file:
				</p><pre class="programlisting language-terminal">helm -n &lt;your_namespace&gt; install -f values.yaml &lt;your_deploy_name&gt; \
  openshift-helm-charts/redhat-developer-hub \
  --version 1.5.0</pre><p class="simpara">
					For the latest Helm Chart version, see this <a class="link" href="https://github.com/openshift-helm-charts/charts/tree/main/charts/redhat/redhat/redhat-developer-hub">Helm Charts</a> repository.
				</p></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					Confirm that the deployment is complete.
				</p><pre class="programlisting language-terminal">kubectl get deploy &lt;you_deploy_name&gt;-developer-hub -n &lt;your_namespace&gt;</pre></li><li class="listitem"><p class="simpara">
					Verify that the service and ingress were created.
				</p><pre class="programlisting language-terminal">kubectl get service -n &lt;your_namespace&gt;
kubectl get ingress -n &lt;your_namespace&gt;</pre><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						Wait for the <code class="literal">ManagedCertificate</code> to be provisioned. This process can take a couple of hours.
					</p></div></div></li><li class="listitem">
					Access RHDH with <code class="literal"><a class="link" href="https://&lt;rhdh_domain_name&gt;">https://&lt;rhdh_domain_name&gt;</a></code>
				</li><li class="listitem"><p class="simpara">
					To upgrade your deployment, use the following command:
				</p><pre class="programlisting language-terminal">helm -n &lt;your_namespace&gt; upgrade -f values.yaml &lt;your_deploy_name&gt; openshift-helm-charts/redhat-developer-hub --version &lt;UPGRADE_CHART_VERSION&gt;</pre></li><li class="listitem"><p class="simpara">
					To delete your deployment, use the following command:
				</p><pre class="programlisting language-terminal">helm -n &lt;your_namespace&gt; delete &lt;your_deploy_name&gt;</pre></li></ul></div></section><div><div xml:lang="en-US" class="legalnotice" id="idm46472585073008"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"/>© 2025 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></section></div></div><script type="text/javascript">
                        jQuery(document).ready(function() {
                            initSwitchery();
                            jQuery('pre[class*="language-"]').each(function(i, block){hljs.highlightBlock(block);});
                        });
                    </script></body></html>