<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="chrometwo"><head><title>Installing and viewing dynamic plugins</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css"/><meta name="generator" content="publican v4.3.2"/><meta name="description" content="Administrative users can install and configure plugins to enable other users to use plugins to extend RHDH functionality."/><link rel="next" href="#idm46253380509072" title="Preface"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><script type="text/javascript" src="Common_Content/scripts/jquery-1.7.1.min.js"> </script><script type="text/javascript" src="Common_Content/scripts/utils.js"> </script><script type="text/javascript" src="Common_Content/scripts/highlight.js/highlight.pack.js"> </script></head><body><div id="chrometwo"><div id="main"><div xml:lang="en-US" class="book" id="idm46253381949216"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Developer Hub</span> <span class="productnumber">1.3</span></div><div><h1 class="title">Installing and viewing dynamic plugins</h1></div><div><h2 class="subtitle"/></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat Customer Content Services</span></div></div><div><a href="#idm46253366322432">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				Administrative users can install and configure plugins to enable other users to use plugins to extend RHDH functionality.
			</div></div></div></div><hr/></div><div class="toc"><ul class="toc"><li><span class="preface"><a href="#idm46253380509072">Preface</a></span></li><li><span class="chapter"><a href="#proc-config-dynamic-plugins-rhdh-operator_title-plugins-rhdh-about">1. Installing dynamic plugins with the Red Hat Developer Hub Operator</a></span></li><li><span class="chapter"><a href="#con-install-dynamic-plugin-helm_title-plugins-rhdh-about">2. Installing dynamic plugins using the Helm chart</a></span><ul><li><span class="section"><a href="#proc-obtaining-integrity-checksum">2.1. Obtaining the integrity checksum</a></span></li><li><span class="section"><a href="#ref-example-dynamic-plugin-helm-installations">2.2. Example Helm chart configurations for dynamic plugin installations</a></span></li><li><span class="section"><a href="#proc-install-external-dynamic-plugins-helm">2.3. Installing external dynamic plugins using a Helm chart</a></span></li></ul></li><li><span class="chapter"><a href="#proc-using-custom-npm-registry">3. Installing dynamic plugins in an air-gapped environment</a></span></li><li><span class="chapter"><a href="#proc-viewing-installed-plugins_title-plugins-rhdh-about">4. Viewing installed plugins</a></span></li></ul></div><section class="preface" id="idm46253380509072"><div class="titlepage"><div><div><h1 class="title">Preface</h1></div></div></div><p>
			The dynamic plugin support is based on the backend plugin manager package, which is a service that scans a configured root directory (<code class="literal">dynamicPlugins.rootDirectory</code> in the <code class="literal">app-config.yaml</code> file) for dynamic plugin packages and loads them dynamically.
		</p><p>
			You can use the dynamic plugins that come preinstalled with Red Hat Developer Hub or install external dynamic plugins from a public NPM registry.
		</p></section><section class="chapter" id="proc-config-dynamic-plugins-rhdh-operator_title-plugins-rhdh-about"><div class="titlepage"><div><div><h1 class="title">Chapter 1. Installing dynamic plugins with the Red Hat Developer Hub Operator</h1></div></div></div><p>
			You can store the configuration for dynamic plugins in a <code class="literal">ConfigMap</code> object that your <code class="literal">Backstage</code> custom resource (CR) can reference.
		</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
				If the <code class="literal">pluginConfig</code> field references environment variables, you must define the variables in your <code class="literal">secrets-rhdh</code> secret.
			</p></div></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
					From the OpenShift Container Platform web console, select the <span class="strong strong"><strong>ConfigMaps</strong></span> tab.
				</li><li class="listitem">
					Click <span class="strong strong"><strong>Create ConfigMap</strong></span>.
				</li><li class="listitem"><p class="simpara">
					From the <span class="strong strong"><strong>Create ConfigMap</strong></span> page, select the <span class="strong strong"><strong>YAML view</strong></span> option in <span class="strong strong"><strong>Configure via</strong></span> and edit the file, if needed.
				</p><div class="formalpara"><p class="title"><strong>Example <code class="literal">ConfigMap</code> object using the GitHub dynamic plugin</strong></p><p>
						
<pre class="programlisting language-yaml">kind: ConfigMap
apiVersion: v1
metadata:
  name: dynamic-plugins-rhdh
data:
  dynamic-plugins.yaml: |
    includes:
      - dynamic-plugins.default.yaml
    plugins:
      - package: './dynamic-plugins/dist/backstage-plugin-catalog-backend-module-github-dynamic'
        disabled: false
        pluginConfig:
          catalog:
            providers:
              github:
                organization: "${GITHUB_ORG}"
                schedule:
                  frequency: { minutes: 1 }
                  timeout: { minutes: 1 }
                  initialDelay: { seconds: 100 }</pre>
					</p></div></li><li class="listitem">
					Click <span class="strong strong"><strong>Create</strong></span>.
				</li><li class="listitem">
					Go to the <span class="strong strong"><strong>Topology</strong></span> view.
				</li><li class="listitem"><p class="simpara">
					Click on the overflow menu for the Red Hat Developer Hub instance that you want to use and select <span class="strong strong"><strong>Edit Backstage</strong></span> to load the YAML view of the Red Hat Developer Hub instance.
				</p><div class="informalfigure"><div class="mediaobject"><img src="images/rhdh/operator-install-2.png" alt="operator install 2"/></div></div></li><li class="listitem"><p class="simpara">
					Add the <code class="literal">dynamicPluginsConfigMapName</code> field to your <code class="literal">Backstage</code> CR. For example:
				</p><pre class="programlisting language-yaml">apiVersion: rhdh.redhat.com/v1alpha1
kind: Backstage
metadata:
  name: my-rhdh
spec:
  application:
# ...
    dynamicPluginsConfigMapName: dynamic-plugins-rhdh
# ...</pre></li><li class="listitem">
					Click <span class="strong strong"><strong>Save</strong></span>.
				</li><li class="listitem">
					Navigate back to the <span class="strong strong"><strong>Topology</strong></span> view and wait for the Red Hat Developer Hub pod to start.
				</li><li class="listitem">
					Click the <span class="strong strong"><strong>Open URL</strong></span> icon to start using the Red Hat Developer Hub platform with the new configuration changes.
				</li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					Ensure that the dynamic plugins configuration has been loaded, by appending <code class="literal">/api/dynamic-plugins-info/loaded-plugins</code> to your Red Hat Developer Hub root URL and checking the list of plugins:
				</p><div class="formalpara"><p class="title"><strong>Example list of plugins</strong></p><p>
						
<pre class="programlisting language-json">[
  {
    "name": "backstage-plugin-catalog-backend-module-github-dynamic",
    "version": "0.5.2",
    "platform": "node",
    "role": "backend-plugin-module"
  },
  {
    "name": "backstage-plugin-techdocs",
    "version": "1.10.0",
    "role": "frontend-plugin",
    "platform": "web"
  },
  {
    "name": "backstage-plugin-techdocs-backend-dynamic",
    "version": "1.9.5",
    "platform": "node",
    "role": "backend-plugin"
  },
]</pre>
					</p></div></li></ul></div></section><section class="chapter" id="con-install-dynamic-plugin-helm_title-plugins-rhdh-about"><div class="titlepage"><div><div><h1 class="title">Chapter 2. Installing dynamic plugins using the Helm chart</h1></div></div></div><p>
			You can deploy a Developer Hub instance using a Helm chart, which is a flexible installation method. With the Helm chart, you can sideload dynamic plugins into your Developer Hub instance without having to recompile your code or rebuild the container.
		</p><p>
			To install dynamic plugins in Developer Hub using Helm, add the following <code class="literal">global.dynamic</code> parameters in your Helm chart:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					<code class="literal">plugins</code>: the dynamic plugins list intended for installation. By default, the list is empty. You can populate the plugins list with the following fields:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
							<code class="literal">package</code>: a package specification for the dynamic plugin package that you want to install. You can use a package for either a local or an external dynamic plugin installation. For a local installation, use a path to the local folder containing the dynamic plugin. For an external installation, use a package specification from a public NPM repository.
						</li><li class="listitem">
							<code class="literal">integrity</code> (required for external packages): an integrity checksum in the form of <code class="literal">&lt;alg&gt;-&lt;digest&gt;</code> specific to the package. Supported algorithms include <code class="literal">sha256</code>, <code class="literal">sha384</code> and <code class="literal">sha512</code>.
						</li><li class="listitem">
							<code class="literal">pluginConfig</code>: an optional plugin-specific <code class="literal">app-config</code> YAML fragment. See plugin configuration for more information.
						</li><li class="listitem">
							<code class="literal">disabled</code>: disables the dynamic plugin if set to <code class="literal">true</code>. Default: <code class="literal">false</code>.
						</li></ul></div></li><li class="listitem">
					<code class="literal">includes</code>: a list of YAML files utilizing the same syntax.
				</li></ul></div><div class="admonition note"><div class="admonition_header">Note</div><div><p>
				The <code class="literal">plugins</code> list in the <code class="literal">includes</code> file is merged with the <code class="literal">plugins</code> list in the main Helm values. If a plugin package is mentioned in both <code class="literal">plugins</code> lists, the <code class="literal">plugins</code> fields in the main Helm values override the <code class="literal">plugins</code> fields in the <code class="literal">includes</code> file. The default configuration includes the <code class="literal">dynamic-plugins.default.yaml</code> file, which contains all of the dynamic plugins preinstalled in Developer Hub, whether enabled or disabled by default.
			</p></div></div><section class="section" id="proc-obtaining-integrity-checksum"><div class="titlepage"><div><div><h2 class="title">2.1. Obtaining the integrity checksum</h2></div></div></div><p>
				To obtain the integrity checksum, enter the following command:
			</p><pre class="screen">npm view &lt;package name&gt;@&lt;version&gt; dist.integrity</pre></section><section class="section" id="ref-example-dynamic-plugin-helm-installations"><div class="titlepage"><div><div><h2 class="title">2.2. Example Helm chart configurations for dynamic plugin installations</h2></div></div></div><p>
				The following examples demonstrate how to configure the Helm chart for specific types of dynamic plugin installations.
			</p><div class="formalpara"><p class="title"><strong>Configuring a local plugin and an external plugin when the external plugin requires a specific app-config</strong></p><p>
					
<pre class="programlisting language-yaml">global:
  dynamic:
    plugins:
      - package: &lt;alocal package-spec used by npm pack&gt;
      - package: &lt;external package-spec used by npm pack&gt;
        integrity: sha512-&lt;some hash&gt;
        pluginConfig: ...</pre>
				</p></div><div class="formalpara"><p class="title"><strong>Disabling a plugin from an included file</strong></p><p>
					
<pre class="programlisting language-yaml">global:
  dynamic:
    includes:
      - dynamic-plugins.default.yaml
    plugins:
      - package: &lt;some imported plugins listed in dynamic-plugins.default.yaml&gt;
        disabled: true</pre>
				</p></div><div class="formalpara"><p class="title"><strong>Enabling a plugin from an included file</strong></p><p>
					
<pre class="programlisting language-yaml">global:
  dynamic:
    includes:
      - dynamic-plugins.default.yaml
    plugins:
      - package: &lt;some imported plugins listed in dynamic-plugins.custom.yaml&gt;
        disabled: false</pre>
				</p></div><div class="formalpara"><p class="title"><strong>Enabling a plugin that is disabled in an included file</strong></p><p>
					
<pre class="programlisting language-yaml">global:
  dynamic:
    includes:
      - dynamic-plugins.default.yaml
    plugins:
      - package: &lt;some imported plugins listed in dynamic-plugins.custom.yaml&gt;
        disabled: false</pre>
				</p></div></section><section class="section" id="proc-install-external-dynamic-plugins-helm"><div class="titlepage"><div><div><h2 class="title">2.3. Installing external dynamic plugins using a Helm chart</h2></div></div></div><p>
				The NPM registry contains external dynamic plugins that you can use for demonstration purposes. For example, the following community plugins are available in the <code class="literal">janus-idp</code> organization in the NPMJS repository:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Notifications (frontend and backend)
					</li><li class="listitem">
						Kubernetes actions (scaffolder actions)
					</li></ul></div><p>
				To install the Notifications and Kubernetes actions plugins, include them in the Helm chart values in the <code class="literal">global.dynamic.plugins</code> list as shown in the following example:
			</p><pre class="programlisting language-yaml">global:
  dynamic:
    plugins:
      - package: '@janus-idp/plugin-notifications-backend-dynamic@1.3.6'
        # Integrity can be found at https://registry.npmjs.org/@janus-idp/plugin-notifications-backend-dynamic
        integrity: 'sha512-Qd8pniy1yRx+x7LnwjzQ6k9zP+C1yex24MaCcx7dGDPT/XbTokwoSZr4baSSn8jUA6P45NUUevu1d629mG4JGQ=='
      - package: '@janus-idp/plugin-notifications@1.1.12'
        # https://registry.npmjs.org/@janus-idp/plugin-notifications
        integrity: 'sha512-GCdEuHRQek3ay428C8C4wWgxjNpNwCXgIdFbUUFGCLLkBFSaOEw+XaBvWaBGtQ5BLgE3jQEUxa+422uzSYC5oQ=='
        pluginConfig:
          dynamicPlugins:
            frontend:
              janus-idp.backstage-plugin-notifications:
                appIcons:
                  - name: notificationsIcon
                    module: NotificationsPlugin
                    importName: NotificationsActiveIcon
                dynamicRoutes:
                  - path: /notifications
                    importName: NotificationsPage
                    module: NotificationsPlugin
                    menuItem:
                      icon: notificationsIcon
                      text: Notifications
                    config:
                      pollingIntervalMs: 5000
      - package: '@janus-idp/backstage-scaffolder-backend-module-kubernetes-dynamic@1.3.5'
        # https://registry.npmjs.org/@janus-idp/backstage-scaffolder-backend-module-kubernetes-dynamic
        integrity: 'sha512-19ie+FM3QHxWYPyYzE0uNdI5K8M4vGZ0SPeeTw85XPROY1DrIY7rMm2G0XT85L0ZmntHVwc9qW+SbHolPg/qRA=='
          proxy:
            endpoints:
              /explore-backend-completed:
                target: 'http://localhost:7017'
      - package: '@dfatwork-pkgs/search-backend-module-explore-wrapped-dynamic@0.1.3-next.1'
        # https://registry.npmjs.org/@dfatwork-pkgs/search-backend-module-explore-wrapped-dynamic
        integrity: 'sha512-mv6LS8UOve+eumoMCVypGcd7b/L36lH2z11tGKVrt+m65VzQI4FgAJr9kNCrjUZPMyh36KVGIjYqsu9+kgzH5A=='
      - package: '@dfatwork-pkgs/plugin-catalog-backend-module-test-dynamic@0.0.0'
        # https://registry.npmjs.org/@dfatwork-pkgs/plugin-catalog-backend-module-test-dynamic
        integrity: 'sha512-YsrZMThxJk7cYJU9FtAcsTCx9lCChpytK254TfGb3iMAYQyVcZnr5AA/AU+hezFnXLsr6gj8PP7z/mCZieuuDA=='</pre></section></section><section class="chapter" id="proc-using-custom-npm-registry"><div class="titlepage"><div><div><h1 class="title">Chapter 3. Installing dynamic plugins in an air-gapped environment</h1></div></div></div><p>
			You can install external plugins in an air-gapped environment by setting up a custom NPM registry.
		</p><p>
			You can configure the NPM registry URL and authentication information for dynamic plugin packages using a Helm chart. For dynamic plugin packages obtained through <code class="literal">npm pack</code>, you can use a <code class="literal">.npmrc</code> file.
		</p><p>
			Using the Helm chart, add the <code class="literal">.npmrc</code> file to the NPM registry by creating a secret named <code class="literal">dynamic-plugins-npmrc</code> with the following content:
		</p><pre class="programlisting language-yaml">apiVersion: v1
kind: Secret
metadata:
  name: dynamic-plugins-npmrc
type: Opaque
stringData:
  .npmrc: |
    registry=&lt;registry-url&gt;
    //&lt;registry-url&gt;:_authToken=&lt;auth-token&gt;
          ...</pre></section><section class="chapter" id="proc-viewing-installed-plugins_title-plugins-rhdh-about"><div class="titlepage"><div><div><h1 class="title">Chapter 4. Viewing installed plugins</h1></div></div></div><p>
			Using the Dynamic Plugins Info front-end plugin, you can view plugins that are currently installed in your Red Hat Developer Hub application. This plugin is enabled by default.
		</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
					Open your Developer Hub application and click <span class="strong strong"><strong>Administration</strong></span>.
				</li><li class="listitem">
					Go to the <span class="strong strong"><strong>Plugins</strong></span> tab to view a list of installed plugins and related information.
				</li></ol></div></section><div><div xml:lang="en-US" class="legalnotice" id="idm46253366322432"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"/>© 2024 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></div></div></div><script type="text/javascript">
                        jQuery(document).ready(function() {
                            initSwitchery();
                            jQuery('pre[class*="language-"]').each(function(i, block){hljs.highlightBlock(block);});
                        });
                    </script></body></html>