<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="chrometwo"><head><title>Authentication in Red Hat Developer Hub</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css"/><meta name="generator" content="publican v4.3.2"/><meta name="description" content="As a Red Hat Developer Hub (RHDH) platform engineer, you can manage authentication of other users to meet the specific needs of your organization."/><link rel="next" href="#understanding-authentication-and-user-provisioning" title="1. Understanding authentication and user provisioning"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><script type="text/javascript" src="Common_Content/scripts/jquery-1.7.1.min.js"> </script><script type="text/javascript" src="Common_Content/scripts/utils.js"> </script><script type="text/javascript" src="Common_Content/scripts/highlight.js/highlight.pack.js"> </script></head><body><div id="chrometwo"><div id="main"><section xml:lang="en-US" class="article" id="idm45801350751456"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Developer Hub</span> <span class="productnumber">1.8</span></div><div><h1 class="title">Authentication in Red Hat Developer Hub</h1></div><div><h3 class="subtitle"><em>Configuring authentication to external services in Red Hat Developer Hub</em></h3></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat Customer Content Services</span></div></div><div><a href="#idm45801266300112">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				As a Red Hat Developer Hub (RHDH) platform engineer, you can manage authentication of other users to meet the specific needs of your organization.
			</div></div></div></div><hr/></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#understanding-authentication-and-user-provisioning">1. Understanding authentication and user provisioning</a></span></li><li><span class="section"><a href="#authenticating-with-the-guest-user_title-authentication">2. Authenticating with the Guest user</a></span><ul><li><span class="section"><a href="#authenticating-with-the-guest-user-on-an-operator-based-installation_title-authentication">2.1. Authenticating with the Guest user on an Operator-based installation</a></span></li><li><span class="section"><a href="#authenticating-with-the-guest-user-on-a-helm-based-installation_title-authentication">2.2. Authenticating with the Guest user on a Helm-based installation</a></span></li></ul></li><li><span class="section"><a href="#assembly-authenticating-with-rhbk">3. Authenticating with Red Hat Build of Keycloak (RHBK)</a></span><ul><li><span class="section"><a href="#enabling-user-authentication-with-rhbk">3.1. Enabling user authentication with Red Hat Build of Keycloak (RHBK)</a></span></li><li><span class="section"><a href="#creating-a-custom-transformer-to-provision-users-from-rhbk-to-the-software-catalog">3.2. Creating a custom transformer to provision users from Red Hat Build of Keycloak (RHBK) to the software catalog</a></span></li></ul></li><li><span class="section"><a href="#enabling-user-authentication-with-github">4. Enabling user authentication with GitHub</a></span></li><li><span class="section"><a href="#enabling-user-authentication-with-microsoft-azure">5. Enabling user authentication with Microsoft Azure</a></span></li></ul></div><section class="section" id="understanding-authentication-and-user-provisioning"><div class="titlepage"><div><div><h2 class="title">1. Understanding authentication and user provisioning</h2></div></div></div><p>
			Learn about the authentication process from creating user and group entities in the software catalog to user sign-in, and how authentication and catalog plugins enable each step. Understanding this process is essential for successfully configuring your Developer Hub instance, securing access through authorization, and enabling features that rely on synchronized user and group data.
		</p><p>
			To fully enable catalog features, provision user and group data from the Identity Provider to the Developer Hub software catalog. Catalog provider plugins handle this task asynchronously. These plugins query the Identity Provider (IdP) for relevant user and group information, and create or update corresponding entities in the Developer Hub catalog. Scheduled provisioning ensures that the catalog accurately reflects the users and groups in your organization.
		</p><p>
			When a user attempts to access Developer Hub, Developer Hub redirects them to a configured authentication provider, such as Red Hat Build of Keycloak (RHBK), GitHub, or Microsoft Azure. This external IdP is responsible for authenticating the user.
		</p><p>
			On successful authentication, the Developer Hub authentication plugin, configured in your <code class="literal">app-config.yaml</code> file, processes the response from the IdP, resolves the identity in the Developer Hub software catalog, and establishes a user session within Developer Hub.
		</p><p>
			Configuring authentication and user provisioning is critical for several reasons.
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					Securing your Developer Hub instance by ensuring only authenticated users can gain access.
				</li><li class="listitem">
					Enabling authorization by allowing you to define access controls based on user and group memberships synchronized from your IdP.
				</li><li class="listitem"><p class="simpara">
					Provisioning user and group data to the catalog is necessary for various catalog features that rely on understanding entity ownership and relationships between users, groups, and software components.
				</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
						Without this provisioning step, features such as displaying who owns a catalog entity might not function correctly.
					</p></div></div></li></ul></div><div class="admonition tip"><div class="admonition_header">Tip</div><div><p>
			To explore Developer Hub features in a non-production environment, you can:
		</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
					To use Developer Hub without external IdP, enable the guest user to skip configuring authentication and authorization, log in as the guest user, and access all Developer Hub features.
				</li><li class="listitem">
					To use Developer Hub without authorization policies and features relying on the software catalog, you can enable the <code class="literal">dangerouslyAllowSignInWithoutUserInCatalog</code> resolver option. This setting bypasses the check requiring a user to be in the catalog but still enforces authentication.
				</li></ul></div></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
				Developer Hub uses a one-way synchronization model, where user and group data flow from your Identity Provider to the Developer Hub software catalog. As a result, deleting users or groups manually through the Developer Hub Web UI or REST API might be ineffective or cause inconsistencies, since Developer Hub will create those entities again during the next import.
			</p></div></div></section><section class="section" id="authenticating-with-the-guest-user_title-authentication"><div class="titlepage"><div><div><h2 class="title">2. Authenticating with the Guest user</h2></div></div></div><p>
			For trial or non-production environments, you can enable guest access to skip configuring authentication and authorization and explore Developer Hub features.
		</p><section class="section" id="authenticating-with-the-guest-user-on-an-operator-based-installation_title-authentication"><div class="titlepage"><div><div><h3 class="title">2.1. Authenticating with the Guest user on an Operator-based installation</h3></div></div></div><p>
				For trial or non-production environments installed by using the Red Hat Developer Hub Operator, you can enable guest access to skip configuring authentication and authorization and explore Developer Hub features.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.8/html-single/configuring_red_hat_developer_hub/index">added a custom Developer Hub application configuration</a>, and have enough permissions to change it.
					</li><li class="listitem">
						You <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.8/html-single/configuring_red_hat_developer_hub/index#using-the-operator-to-run-rhdh-with-your-custom-configurationn">use the Red Hat Developer Hub Operator to run Developer Hub</a>.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Add the following content to the <code class="literal">app-config.yaml</code> file:
					</p><pre class="programlisting language-yaml">auth:
  environment: development
  providers:
    guest:
      dangerouslyAllowOutsideDevelopment: true</pre></li></ul></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Go to the Developer Hub login page.
					</li><li class="listitem">
						To log in with the Guest user account, click <span class="strong strong"><strong>Enter</strong></span> in the <span class="strong strong"><strong>Guest</strong></span> tile.
					</li><li class="listitem">
						In the Developer Hub <span class="strong strong"><strong>Settings</strong></span> page, your profile name is <span class="strong strong"><strong>Guest</strong></span>.
					</li><li class="listitem">
						You can use Developer Hub features.
					</li></ol></div></section><section class="section" id="authenticating-with-the-guest-user-on-a-helm-based-installation_title-authentication"><div class="titlepage"><div><div><h3 class="title">2.2. Authenticating with the Guest user on a Helm-based installation</h3></div></div></div><p>
				For trial or non-production environments installed by using the Red Hat Developer Hub Helm chart, you can enable guest access to skip configuring authentication and authorization and explore Developer Hub features.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.8/html-single/configuring_red_hat_developer_hub/index">added a custom Developer Hub application configuration</a>, and have enough permissions to change it.
					</li><li class="listitem">
						You <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.8/html-single/configuring_red_hat_developer_hub/index#using-the-helm-chart-to-run-rhdh-with-your-custom-configuration">use the Red Hat Developer Hub Helm chart to run Developer Hub</a>.
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>Procedure</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Add following content to your Red Hat Developer Hub Helm Chart:
					</p><pre class="programlisting language-yaml">upstream:
  backstage:
    appConfig:
      app:
        baseUrl: 'https://{{- include "janus-idp.hostname" . }}'
      auth:
        environment: development
        providers:
          guest:
            dangerouslyAllowOutsideDevelopment: true</pre></li></ul></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Go to the Developer Hub login page.
					</li><li class="listitem">
						To log in with the Guest user account, click <span class="strong strong"><strong>Enter</strong></span> in the <span class="strong strong"><strong>Guest</strong></span> tile.
					</li><li class="listitem">
						In the Developer Hub <span class="strong strong"><strong>Settings</strong></span> page, your profile name is <span class="strong strong"><strong>Guest</strong></span>.
					</li><li class="listitem">
						You can use Developer Hub features.
					</li></ol></div></section></section><section class="section" id="assembly-authenticating-with-rhbk"><div class="titlepage"><div><div><h2 class="title">3. Authenticating with Red Hat Build of Keycloak (RHBK)</h2></div></div></div><section class="section" id="enabling-user-authentication-with-rhbk"><div class="titlepage"><div><div><h3 class="title">3.1. Enabling user authentication with Red Hat Build of Keycloak (RHBK)</h3></div></div></div><p>
				Authenticate users with Red Hat Build of Keycloak (RHBK), by provisioning the users and groups from RHBK to the Developer Hub software catalog, and configuring the OpenID Connect (OIDC) authentication provider in Red Hat Developer Hub.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.8/html-single/configuring_red_hat_developer_hub/index">added a custom Developer Hub application configuration</a>, and have enough permissions to change it.
					</li><li class="listitem">
						You have enough permissions in RHSSO to create and manage a realm and a client. Alternatively, your RHBK administrator can prepare in RHBK the required realm and client for you.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To allow Developer Hub to authenticate with RHBK, complete the steps in RHBK, to <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_build_of_keycloak/26.0/html/getting_started_guide/getting-started-zip-#getting-started-zip-create-a-realm">create a realm and a user</a> and <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_build_of_keycloak/26.0/html/getting_started_guide/getting-started-zip-#getting-started-zip-secure-the-first-application">secure the first application</a>:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								Use an existing realm, or <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_build_of_keycloak/26.0/html/getting_started_guide/getting-started-zip-#getting-started-zip-create-a-realm">create a realm</a>, with a distinctive <span class="strong strong"><strong>Name</strong></span> such as <span class="emphasis"><em>&lt;my_realm&gt;</em></span>. Save the value for the next step:
							</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
										<span class="strong strong"><strong>RHBK realm base URL</strong></span>, such as: <span class="emphasis"><em>&lt;your_rhbk_URL&gt;</em></span>/realms/<span class="emphasis"><em>&lt;your_realm&gt;</em></span>.
									</li></ul></div></li><li class="listitem"><p class="simpara">
								To register your Developer Hub in RHBK, in the created realm, <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_build_of_keycloak/26.0/html-single/getting_started_guide/index#getting-started-zip-secure-the-first-application">secure the first application</a>, with:
							</p><div class="orderedlist"><ol class="orderedlist" type="i"><li class="listitem">
										<span class="strong strong"><strong>Client ID</strong></span>: A distinctive client ID, such as <span class="emphasis"><em>&lt;RHDH&gt;</em></span>.
									</li><li class="listitem">
										<span class="strong strong"><strong>Valid redirect URIs</strong></span>: Set to the OIDC handler URL: <code class="literal">https://<span class="emphasis"><em>&lt;my_developer_hub_domain&gt;</em></span>/api/auth/oidc/handler/frame</code>.
									</li><li class="listitem">
										Go to the <span class="strong strong"><strong>Credentials</strong></span> tab and copy the <span class="strong strong"><strong>Client secret</strong></span>.
									</li><li class="listitem"><p class="simpara">
										Save the values for the next step:
									</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
												<span class="strong strong"><strong>Client ID</strong></span>
											</li><li class="listitem">
												<span class="strong strong"><strong>Client Secret</strong></span>
											</li></ul></div></li></ol></div></li><li class="listitem">
								To prepare for the verification steps, in the same realm, get the credential information for an existing user or <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_build_of_keycloak/26.0/html-single/getting_started_guide/index#getting-started-zip-create-a-user">create a user</a>. Save the user credential information for the verification steps.
							</li></ol></div></li><li class="listitem"><p class="simpara">
						To add your RHSSO credentials to Developer Hub, add the following key/value pairs to <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.8/html-single/configuring_dynamic_plugins/index#provisioning-your-custom-configuration">your Developer Hub secrets</a>. You can use these secrets in the Developer Hub configuration files by using their environment variable name.
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">KEYCLOAK_CLIENT_ID</code></span></dt><dd>
									Enter the saved <span class="strong strong"><strong>Client ID</strong></span>.
								</dd><dt><span class="term"><code class="literal">KEYCLOAK_CLIENT_SECRET</code></span></dt><dd>
									Enter the saved <span class="strong strong"><strong>Client Secret</strong></span>.
								</dd><dt><span class="term"><code class="literal">KEYCLOAK_BASE_URL</code></span></dt><dd>
									Enter the saved <span class="strong strong"><strong>RHBK realm base URL</strong></span>.
								</dd></dl></div></li><li class="listitem"><p class="simpara">
						Enable the Keycloak organization plugin (<code class="literal">backstage-plugin-catalog-backend-module-keycloak-dynamic</code>) in your <code class="literal">dynamic-plugins.yaml</code> file. The plugin is named after RHBK upstream project. This plugin imports RHBK users and groups to the Developer Hub software catalog.
					</p><pre class="programlisting language-yaml">plugins:
  - package: './dynamic-plugins/dist/backstage-plugin-catalog-backend-module-keycloak-dynamic'
    disabled: false</pre></li><li class="listitem"><p class="simpara">
						To provision RHBK users and groups to the Developer Hub software catalog, add the <code class="literal">catalog.providers.keycloakOrg</code> section to your custom Developer Hub <code class="literal">app-config.yaml</code> configuration file:
					</p><pre class="programlisting language-yaml" id="keycloakOrgProviderId">catalog:
  providers:
    keycloakOrg:
      default:
        baseUrl: ${KEYCLOAK_BASE_URL}
        clientId: ${KEYCLOAK_CLIENT_ID}
        clientSecret: ${KEYCLOAK_CLIENT_SECRET}
        realm: master
        loginRealm: master</pre><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">baseUrl</code></span></dt><dd>
									Enter your RHBK server URL, defined earlier.
								</dd><dt><span class="term"><code class="literal">clientId</code></span></dt><dd>
									Enter your Developer Hub application client ID in RHBK, defined earlier.
								</dd><dt><span class="term"><code class="literal">clientSecret</code></span></dt><dd>
									Enter your Developer Hub application client secret in RHBK, defined earlier.
								</dd><dt><span class="term"><code class="literal">realm</code></span></dt><dd>
									Enter the realm name to provision users, such as <code class="literal">master</code>.
								</dd><dt><span class="term"><code class="literal">loginRealm</code></span></dt><dd><p class="simpara">
									Enter the realm name to authenticate users, such as <code class="literal">master</code>.
								</p><p class="simpara">
									Optional: Add optional fields.
								</p></dd><dt><span class="term"><code class="literal">userQuerySize</code></span></dt><dd><p class="simpara">
									Enter the user count to query simultaneously. Default value: <code class="literal">100</code>.
								</p><pre class="programlisting language-yaml">catalog:
  providers:
    keycloakOrg:
      default:
        userQuerySize: 100</pre></dd><dt><span class="term"><code class="literal">groupQuerySize</code></span></dt><dd><p class="simpara">
									Enter the group count to query simultaneously. Default value: <code class="literal">100</code>.
								</p><pre class="programlisting language-yaml">catalog:
  providers:
    keycloakOrg:
      default:
        groupQuerySize: 100</pre></dd><dt><span class="term"><code class="literal">schedule.frequency</code></span></dt><dd><p class="simpara">
									Enter the schedule frequency. Supports cron, ISO duration, and "human duration" as used in code.
								</p><pre class="programlisting language-yaml">catalog:
  providers:
    keycloakOrg:
      default:
        schedule:
          frequency: { hours: 1 }</pre></dd><dt><span class="term"><code class="literal">schedule.timeout</code></span></dt><dd><p class="simpara">
									Enter the timeout for the user provisioning job. Supports ISO duration and "human duration" as used in code.
								</p><pre class="programlisting language-yaml">catalog:
  providers:
    keycloakOrg:
      default:
        schedule:
          timeout: { minutes: 50 }</pre></dd><dt><span class="term"><code class="literal">schedule.initialDelay</code></span></dt><dd><p class="simpara">
									Enter the initial delay to wait for before starting the user provisioning job. Supports ISO duration and "human duration" as used in code.
								</p><pre class="programlisting language-yaml">catalog:
  providers:
    keycloakOrg:
      default:
        schedule:
          initialDelay: { seconds: 15}</pre></dd></dl></div></li><li class="listitem"><p class="simpara">
						To set up the RHBK authentication provider in your Developer Hub custom configuration, edit your custom Developer Hub ConfigMap such as <code class="literal">app-config-rhdh</code>, and add the following lines to the <code class="literal">app-config.yaml</code> content:
					</p><pre class="programlisting language-yaml">auth:
  environment: production
  providers:
    oidc:
      production:
        metadataUrl: ${KEYCLOAK_BASE_URL}
        clientId: ${KEYCLOAK_CLIENT_ID}
        clientSecret: ${KEYCLOAK_CLIENT_SECRET}
        prompt: auto
signInPage: oidc</pre><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">environment: production</code></span></dt><dd>
									Mark the environment as <code class="literal">production</code> to hide the Guest login in the Developer Hub home page.
								</dd><dt><span class="term"><code class="literal">metadataUrl</code>, <code class="literal">clientId</code>, <code class="literal">clientSecret</code></span></dt><dd>
									To configure the OIDC provider with your secrets.
								</dd><dt><span class="term"><code class="literal">sigInPage: oidc</code></span></dt><dd>
									To enable the OIDC provider as default sign-in provider.
								</dd><dt><span class="term"><code class="literal">prompt: auto</code></span></dt><dd><p class="simpara">
									To allow the identity provider to automatically determine whether to prompt for credentials or bypass the login redirect if an active RHSSO session exists.
								</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
										If <code class="literal">prompt: auto</code> is not set, the identity provider defaults to <code class="literal">prompt: none</code>, which assumes that you are already logged in and rejects sign-in requests without an active session.
									</p></div></div><p class="simpara">
									Optional: Add optional fields.
								</p></dd><dt><span class="term"><code class="literal">callbackUrl</code></span></dt><dd><p class="simpara">
									RHBK callback URL.
								</p><pre class="programlisting language-yaml">auth:
  providers:
    oidc:
      production:
        callbackUrl: ${KEYCLOAK_CALLBACK_URL}</pre></dd><dt><span class="term"><code class="literal">tokenEndpointAuthMethod</code></span></dt><dd><p class="simpara">
									Token endpoint authentication method.
								</p><pre class="programlisting language-yaml">auth:
  providers:
    oidc:
      production:
        tokenEndpointAuthMethod: ${KEYCLOAK_TOKEN_ENDPOINT_METHOD}</pre></dd><dt><span class="term"><code class="literal">tokenSignedResponseAlg</code></span></dt><dd><p class="simpara">
									Token signed response algorithm.
								</p><pre class="programlisting language-yaml">auth:
  providers:
    oidc:
      production:
        tokenSignedResponseAlg: ${KEYCLOAK_SIGNED_RESPONSE_ALG}</pre></dd><dt><span class="term"><code class="literal">additionalScopes</code></span></dt><dd><p class="simpara">
									Enter additional RHBK scopes to request for during the authentication flow.
								</p><pre class="programlisting language-yaml">auth:
  providers:
    oidc:
      production:
        additionalScopes: ${KEYCLOAK_SCOPE}</pre></dd><dt><span class="term"><code class="literal">signIn</code></span></dt><dd><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">resolvers</code></span></dt><dd><p class="simpara">
												After successful authentication, the user signing in must be resolved to an existing user in the Developer Hub catalog. To best match users securely for your use case, consider configuring a specific resolver.
											</p><p class="simpara">
												Enter the resolver list to override the default resolver: <code class="literal">oidcSubClaimMatchingKeycloakUserId</code>.
											</p><p class="simpara">
												Available values:
											</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">oidcSubClaimMatchingKeycloakUserId</code></span></dt><dd>
															Matches the user with the immutable <code class="literal">sub</code> parameter from OIDC to the RHBK user ID. Consider using this resolver for enhanced security.
														</dd><dt><span class="term"><code class="literal">emailLocalPartMatchingUserEntityName</code></span></dt><dd>
															Matches the email local part with the user entity name.
														</dd><dt><span class="term"><code class="literal">emailMatchingUserEntityProfileEmail</code></span></dt><dd>
															Matches the email with the user entity profile email.
														</dd><dt><span class="term"><code class="literal">preferredUsernameMatchingUserEntityName</code></span></dt><dd><p class="simpara">
															Matches the preferred username with the user entity name.
														</p><p class="simpara">
															The authentication provider tries each sign-in resolver in order until it succeeds, and fails if none succeed.
														</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
																In production mode, only configure one resolver to ensure users are securely matched.
															</p></div></div><pre class="programlisting language-yaml">auth:
  providers:
    oidc:
      production:
        signIn:
          resolvers:
            - resolver: oidcSubClaimMatchingKeycloakUserId
            - resolver: preferredUsernameMatchingUserEntityName
            - resolver: emailMatchingUserEntityProfileEmail
            - resolver: emailLocalPartMatchingUserEntityName</pre></dd><dt><span class="term"><code class="literal">dangerouslyAllowSignInWithoutUserInCatalog: true</code></span></dt><dd><p class="simpara">
															Configure the sign-in resolver to bypass the user provisioning requirement in the Developer Hub software catalog.
														</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
																Use this option to explore Developer Hub features, but do not use it in production.
															</p></div></div><pre class="programlisting language-yaml">auth:
  environment: production
  providers:
    oidc:
      production:
        metadataUrl: ${KEYCLOAK_BASE_URL}
        clientId: ${KEYCLOAK_CLIENT_ID}
        clientSecret: ${KEYCLOAK_CLIENT_SECRET}
        signIn:
          resolvers:
            - resolver: oidcSubClaimMatchingKeycloakUserID
              dangerouslyAllowSignInWithoutUserInCatalog: true
signInPage: oidc</pre></dd></dl></div></dd></dl></div></dd><dt><span class="term"><code class="literal">sessionDuration</code></span></dt><dd><p class="simpara">
									Lifespan of the user session. Enter a duration in <code class="literal">ms</code> library format (such as '24h', '2 days'), ISO duration, or "human duration" as used in code.
								</p><pre class="programlisting language-yaml">auth:
  providers:
    github:
      production:
        sessionDuration: { hours: 24 }</pre></dd><dt><span class="term"><code class="literal">auth</code></span></dt><dd><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">backstageTokenExpiration</code></span></dt><dd>
												To modify the Developer Hub token expiration from its default value of one hour, note that this refers to the validity of short-term cryptographic tokens, not the session duration. The expiration value must be set between 10 minutes and 24 hours.
											</dd></dl></div><pre class="programlisting language-yaml">auth:
  backstageTokenExpiration: { minutes: <span class="emphasis"><em>&lt;user_defined_value&gt;</em></span> }</pre><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
										For security, consider that if multiple valid refresh tokens are issued due to frequent refresh token requests, older tokens will remain valid until they expire. To enhance security and prevent potential misuse of older tokens, enable a refresh token rotation strategy in your RHBK realm.
									</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
												From the <span class="strong strong"><strong>Configure</strong></span> section of the navigation menu, click <span class="strong strong"><strong>Realm Settings</strong></span>.
											</li><li class="listitem">
												From the <span class="strong strong"><strong>Realm Settings</strong></span> page, click the <span class="strong strong"><strong>Tokens</strong></span> tab.
											</li><li class="listitem">
												From the <span class="strong strong"><strong>Refresh tokens</strong></span> section of the <span class="strong strong"><strong>Tokens</strong></span> tab, toggle the <span class="strong strong"><strong>Revoke Refresh Token</strong></span> to the <span class="strong strong"><strong>Enabled</strong></span> position.
											</li></ol></div></div></div></dd></dl></div></li></ol></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						To verify user and group provisioning, check the console logs.
					</p><p class="simpara">
						Successful synchronization example:
					</p><pre class="screen">2025-06-27T16:02:34.647Z catalog info Read 5 Keycloak users and 3 Keycloak groups in 0.4 seconds. Committing... class="KeycloakOrgEntityProvider" taskId="KeycloakOrgEntityProvider:default:refresh" taskInstanceId="db55c34b-46b3-402b-b12f-2fbc48498e82" trace_id="606f80a9ce00d1c86800718c4522f7c6" span_id="7ebc2a254a546e90" trace_flags="01"

2025-06-27T16:02:34.650Z catalog info Committed 5 Keycloak users and 3 Keycloak groups in 0.0 seconds. class="KeycloakOrgEntityProvider" taskId="KeycloakOrgEntityProvider:default:refresh" taskInstanceId="db55c34b-46b3-402b-b12f-2fbc48498e82" trace_id="606f80a9ce00d1c86800718c4522f7c6" span_id="7ebc2a254a546e90" trace_flags="01"</pre></li><li class="listitem"><p class="simpara">
						To verify RHBK user authentication:
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
								Go to the Developer Hub login page.
							</li><li class="listitem">
								Your Developer Hub sign-in page displays <span class="strong strong"><strong>Sign in using OIDC</strong></span> and the Guest user sign-in is disabled.
							</li><li class="listitem">
								Log in with OIDC by using the saved <span class="strong strong"><strong>Username</strong></span> and <span class="strong strong"><strong>Password</strong></span> values.
							</li></ol></div></li></ol></div></section><section class="section" id="creating-a-custom-transformer-to-provision-users-from-rhbk-to-the-software-catalog"><div class="titlepage"><div><div><h3 class="title">3.2. Creating a custom transformer to provision users from Red Hat Build of Keycloak (RHBK) to the software catalog</h3></div></div></div><p>
				Customize how Red Hat Developer Hub provisions users and groups to Red Hat Developer Hub software catalog entities, by creating a backend module that uses the <code class="literal">keycloakTransformerExtensionPoint</code> to offer custom user and group transformers for the Keycloak backend.
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
						You have <a class="link" href="#enabling-user-authentication-with-rhbk" title="3.1. Enabling user authentication with Red Hat Build of Keycloak (RHBK)">enabled provisioning users from Red Hat Build of Keycloak (RHBK) to the software catalog</a>.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem">
						Create a new backend module with the <code class="literal">yarn new</code> command.
					</li><li class="listitem"><p class="simpara">
						Add your custom user and group transformers to the <code class="literal">keycloakTransformerExtensionPoint</code>.
					</p><p class="simpara">
						The following is an example <code class="literal">plugins/<span class="emphasis"><em>&lt;module_name&gt;</em></span>/src/module.ts</code> file defining the backend module:
					</p><pre class="programlisting language-javascript">import {
  GroupTransformer,
  keycloakTransformerExtensionPoint,
  UserTransformer,
} from '@backstage-community/plugin-catalog-backend-module-keycloak';

const customGroupTransformer: GroupTransformer = async (
  entity, // entity output from default parser
  realm, // Keycloak realm name
  groups, // Keycloak group representation
) =&gt; {
  /* apply transformations */
  return entity;
};
const customUserTransformer: UserTransformer = async (
  entity, // entity output from default parser
  user, // Keycloak user representation
  realm, // Keycloak realm name
  groups, // Keycloak group representation
) =&gt; {
  /* apply transformations */
  return entity;
};

export const keycloakBackendModuleTransformer = createBackendModule({
  pluginId: 'catalog',
  moduleId: 'keycloak-transformer',
  register(reg) {
    reg.registerInit({
      deps: {
        keycloak: keycloakTransformerExtensionPoint,
      },
      async init({ keycloak }) {
        keycloak.setUserTransformer(customUserTransformer);
        keycloak.setGroupTransformer(customGroupTransformer);
        /* highlight-add-end */
      },
    });
  },
});</pre><div class="admonition important"><div class="admonition_header">Important</div><div><p>
							Set the module’s <code class="literal">pluginId</code> to <code class="literal">catalog</code> to match the <code class="literal">pluginId</code> of the <code class="literal">keycloak-backend</code>; otherwise, the module fails to initialize.
						</p></div></div></li><li class="listitem"><p class="simpara">
						Install this new backend module into your Developer Hub backend.
					</p><pre class="programlisting language-javascript">backend.add(import(backstage-plugin-catalog-backend-module-keycloak-transformer))</pre></li></ol></div><div class="itemizedlist"><p class="title"><strong>Verification</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Developer Hub imports the users and groups each time when started. Check the console logs to verify the synchronization result.
					</p><p class="simpara">
						Successful synchronization example:
					</p><pre class="programlisting language-json">{"class":"KeycloakOrgEntityProvider","level":"info","message":"Read 3 Keycloak users and 2 Keycloak groups in 1.5 seconds. Committing...","plugin":"catalog","service":"backstage","taskId":"KeycloakOrgEntityProvider:default:refresh","taskInstanceId":"bf0467ff-8ac4-4702-911c-380270e44dea","timestamp":"2024-09-25 13:58:04"}
{"class":"KeycloakOrgEntityProvider","level":"info","message":"Committed 3 Keycloak users and 2 Keycloak groups in 0.0 seconds.","plugin":"catalog","service":"backstage","taskId":"KeycloakOrgEntityProvider:default:refresh","taskInstanceId":"bf0467ff-8ac4-4702-911c-380270e44dea","timestamp":"2024-09-25 13:58:04"}</pre></li><li class="listitem">
						After the first import is complete, go to the <span class="strong strong"><strong>Catalog</strong></span> page and select <span class="strong strong"><strong>User</strong></span> to view the list of users.
					</li><li class="listitem">
						When you select a user, you see the information imported from RHBK.
					</li><li class="listitem">
						You can select a group, view the list, and access or review the information imported from RHBK.
					</li><li class="listitem">
						You can log in with an RHBK account.
					</li></ul></div></section></section><section class="section" id="enabling-user-authentication-with-github"><div class="titlepage"><div><div><h2 class="title">4. Enabling user authentication with GitHub</h2></div></div></div><p>
			Authenticate users with GitHub by provisioning the users and groups from GitHub to the Developer Hub software catalog, and configuring the GitHub authentication provider in Red Hat Developer Hub.
		</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
					You <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.8/html-single/configuring_red_hat_developer_hub/index">added a custom Developer Hub application configuration</a>, and have enough permissions to change it.
				</li><li class="listitem">
					You have enough permissions in GitHub to create and manage a <a class="link" href="https://docs.github.com/en/apps/overview">GitHub App</a>. Alternatively, you can ask your GitHub administrator to prepare the required GitHub App.
				</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
					To allow Developer Hub to authenticate with GitHub, create a GitHub App. Opt for a GitHub App instead of an OAuth app to use fine-grained permissions and use short-lived tokens.
				</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
							<a class="link" href="https://docs.github.com/en/apps/creating-github-apps/registering-a-github-app/registering-a-github-app">Register a GitHub App</a> with the following configuration:
						</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">GitHub App name</span></dt><dd>
										Enter a unique name identifying your GitHub App, such as <code class="literal">authenticating-with-rhdh-<span class="emphasis"><em>&lt;GUID&gt;</em></span></code>.
									</dd><dt><span class="term">Homepage URL</span></dt><dd>
										Enter your Developer Hub URL: <code class="literal">https://<span class="emphasis"><em>&lt;my_developer_hub_domain&gt;</em></span></code>.
									</dd><dt><span class="term">Authorization callback URL</span></dt><dd>
										Enter your Developer Hub authentication backend URL: <code class="literal">https://<span class="emphasis"><em>&lt;my_developer_hub_domain&gt;</em></span>/api/auth/github/handler/frame</code>.
									</dd><dt><span class="term">Webhook</span></dt><dd>
										Clear "Active", as this is not needed for authentication and catalog providers.
									</dd><dt><span class="term">Organization permissions</span></dt><dd>
										Enable <code class="literal">Read-only</code> access to <span class="strong strong"><strong>Members</strong></span>.
									</dd><dt><span class="term">Where can this GitHub App be installed?</span></dt><dd>
										Select <code class="literal">Only on this account</code>.
									</dd></dl></div></li><li class="listitem">
							In the <span class="strong strong"><strong>General</strong></span> → <span class="strong strong"><strong>Clients secrets</strong></span> section, click <span class="strong strong"><strong>Generate a new client secret</strong></span>.
						</li><li class="listitem">
							In the <span class="strong strong"><strong>Install App</strong></span> tab, choose an account to install your GitHub App on.
						</li><li class="listitem"><p class="simpara">
							Save the following values for the next step:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Client ID</strong></span>
								</li><li class="listitem">
									<span class="strong strong"><strong>Client secret</strong></span>
								</li></ul></div></li></ol></div></li><li class="listitem"><p class="simpara">
					To add your GitHub credentials to Developer Hub, add the following key/value pairs to <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.8/html-single/configuring_red_hat_developer_hub/index#provisioning-your-custom-configuration">your Developer Hub secrets</a>. You can use these secrets in the Developer Hub configuration files by using their environment variable name.
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">GITHUB_CLIENT_ID</code></span></dt><dd>
								Enter the saved <span class="strong strong"><strong>Client ID</strong></span>.
							</dd><dt><span class="term"><code class="literal">GITHUB_CLIENT_SECRET</code></span></dt><dd>
								Enter the saved <span class="strong strong"><strong>Client Secret</strong></span>.
							</dd><dt><span class="term"><code class="literal">GITHUB_URL</code></span></dt><dd>
								Enter the GitHub host domain: <code class="literal">github.com</code>.
							</dd><dt><span class="term"><code class="literal">GITHUB_ORG</code></span></dt><dd>
								Enter your GitHub organization name, such as <code class="literal"><span class="emphasis"><em>&lt;your_github_organization_name&gt;</em></span></code>.
							</dd></dl></div></li><li class="listitem"><p class="simpara">
					Enable the GitHub organization provisioning plugin (<code class="literal">backstage-plugin-catalog-backend-module-github-org</code>). This plugin imports GitHub users and groups to the Developer Hub software catalog.
				</p><p class="simpara">
					<code class="literal">dynamic-plugins.yaml</code> file fragment:
				</p><pre class="programlisting language-yaml">plugins:
  - package: './dynamic-plugins/dist/backstage-plugin-catalog-backend-module-github-org'
    disabled: false</pre></li><li class="listitem"><p class="simpara">
					Provision GitHub users and groups to the Developer Hub software catalog by adding the <code class="literal">catalog.providers.githubOrg</code> section to your custom Developer Hub <code class="literal">app-config.yaml</code> configuration file:
				</p><pre class="programlisting language-yaml" id="githubProviderId">catalog:
  providers:
    githubOrg:
      id: githuborg
      githubUrl: "${GITHUB_URL}"
      orgs: [ "${GITHUB_ORG}" ]
      schedule:
        frequency:
          minutes: 30
        initialDelay:
          seconds: 15
        timeout:
          minutes: 15</pre><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">id</code></span></dt><dd>
								Enter a stable identifier for this provider, such as <code class="literal">githuborg</code>. Entities from this provider are associated with this identifier, therefore you must take care not to change it over time since that might lead to orphaned entities or conflicts.
							</dd><dt><span class="term"><code class="literal">githubUrl</code></span></dt><dd>
								Enter the configured secret variable name: <code class="literal">${GITHUB_URL}</code>.
							</dd><dt><span class="term"><code class="literal">orgs</code></span></dt><dd>
								Enter the configured secret variable name: <code class="literal">${GITHUB_ORG}</code>.
							</dd><dt><span class="term"><code class="literal">schedule.frequency</code></span></dt><dd>
								Enter your schedule frequency, in the cron, ISO duration, or "human duration" format.
							</dd><dt><span class="term"><code class="literal">schedule.timeout</code></span></dt><dd>
								Enter your schedule timeout, in the ISO duration or "human duration" format.
							</dd><dt><span class="term"><code class="literal">schedule.initialDelay</code></span></dt><dd>
								Enter your schedule initial delay, in the ISO duration or "human duration" format.
							</dd></dl></div></li><li class="listitem"><p class="simpara">
					To set up the GitHub authentication provider, add the <code class="literal">auth.providers.github</code> section to your <code class="literal">app-config.yaml</code> file:
				</p><pre class="programlisting language-yaml">auth:
  environment: production
  providers:
    github:
      production:
        clientId: ${GITHUB_CLIENT_ID}
        clientSecret: ${GITHUB_CLIENT_SECRET}
signInPage: github</pre><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">environment</code></span></dt><dd>
								Enter <code class="literal">production</code> to disable the Guest login option in the Developer Hub login page.
							</dd><dt><span class="term"><code class="literal">clientId</code></span></dt><dd>
								Enter the configured secret variable name: <code class="literal">${GITHUB_CLIENT_ID}</code>.
							</dd><dt><span class="term"><code class="literal">clientSecret</code></span></dt><dd>
								Enter the configured secret variable name: <code class="literal">${GITHUB_CLIENT_SECRET}</code>.
							</dd><dt><span class="term"><code class="literal">signInPage</code></span></dt><dd><p class="simpara">
								Enter <code class="literal">github</code> to enable the GitHub provider as your Developer Hub sign-in provider.
							</p><p class="simpara">
								Optional: Consider adding optional fields.
							</p></dd></dl></div></li></ol></div><pre class="screen">auth:
  environment: production
  providers:
    github:
      production:
        clientId: ${GITHUB_CLIENT_ID}
        clientSecret: ${GITHUB_CLIENT_SECRET}
        callbackUrl: __&lt;your_intermediate_service_url/handler&gt;__
        sessionDuration: { hours: 24 }
        signIn:
          resolvers:
            - resolver: usernameMatchingUserEntityName
              dangerouslyAllowSignInWithoutUserInCatalog: true
signInPage: github</pre><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">callbackUrl</code></span></dt><dd>
						Enter the callback URL that GitHub uses when initiating an OAuth flow, such as: <span class="emphasis"><em>&lt;your_intermediate_service_url/handler&gt;</em></span>. Define it when Developer Hub is not the immediate receiver, such as in cases when you use one OAuth app for many Developer Hub instances.
					</dd><dt><span class="term"><code class="literal">sessionDuration</code></span></dt><dd>
						Enter the user session lifespan, in <code class="literal">ms</code> library format (such as '24h', '2 days'), ISO duration, or "human duration".
					</dd><dt><span class="term"><code class="literal">signIn</code></span></dt><dd><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">resolvers</code></span></dt><dd>
									After successful authentication, Developer Hub resolves the user signing in to an existing user in the Developer Hub catalog. To best match users securely for your use case, consider configuring a specific resolver.
								</dd></dl></div><p class="simpara">
						Enter the resolver list to override the default resolver: <code class="literal">usernameMatchingUserEntityName</code>.
					</p><p class="simpara">
						The authentication provider tries each sign-in resolver in order until it succeeds, and fails if none succeed.
					</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
							Make sure users are securely matched in production mode, by configuring only one resolver.
						</p></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">resolver</code></span></dt><dd><p class="simpara">
									Enter the sign-in resolver name. Available resolvers:
								</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
											<code class="literal">usernameMatchingUserEntityName</code>
										</li><li class="listitem">
											<code class="literal">preferredUsernameMatchingUserEntityName</code>
										</li><li class="listitem">
											<code class="literal">emailMatchingUserEntityProfileEmail</code>
										</li></ul></div></dd><dt><span class="term"><code class="literal">dangerouslyAllowSignInWithoutUserInCatalog: true</code></span></dt><dd><p class="simpara">
									Configure the sign-in resolver to bypass the user provisioning requirement in the Developer Hub software catalog.
								</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
										Do not use <code class="literal">dangerouslyAllowSignInWithoutUserInCatalog</code> in production. Use this configuration only to explore Developer Hub features.
									</p></div></div></dd></dl></div></dd></dl></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
					Verify user and group provisioning by checking the console logs.
				</p><p class="simpara">
					Successful synchronization example:
				</p><pre class="programlisting language-json">{"class":"GithubMultiOrgEntityProvider","level":"info","message":"Reading GitHub users and teams for org: rhdh-dast","plugin":"catalog","service":"backstage","target":"https://github.com","taskId":"GithubMultiOrgEntityProvider:githuborg:refresh","taskInstanceId":"801b3c6c-167f-473b-b43e-e0b4b780c384","timestamp":"2024-09-09 23:55:58"}
{"class":"GithubMultiOrgEntityProvider","level":"info","message":"Read 7 GitHub users and 2 GitHub groups in 0.4 seconds. Committing...","plugin":"catalog","service":"backstage","target":"https://github.com","taskId":"GithubMultiOrgEntityProvider:githuborg:refresh","taskInstanceId":"801b3c6c-167f-473b-b43e-e0b4b780c384","timestamp":"2024-09-09 23:55:59"}</pre></li><li class="listitem"><p class="simpara">
					To verify GitHub authentication:
				</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
							Go to the Developer Hub login page.
						</li><li class="listitem">
							Your Developer Hub sign-in page displays <span class="strong strong"><strong>Sign in using GitHub</strong></span> and the Guest user sign-in is disabled.
						</li><li class="listitem">
							Log in with a GitHub account.
						</li></ol></div></li></ol></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
					<a class="link" href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.8/html-single/integrating_red_hat_developer_hub_with_github/index">Integrating Red Hat Developer Hub with GitHub</a>
				</li></ul></div></section><section class="section" id="enabling-user-authentication-with-microsoft-azure"><div class="titlepage"><div><div><h2 class="title">5. Enabling user authentication with Microsoft Azure</h2></div></div></div><p>
			Authenticate users with Microsoft Azure by provisioning the users and groups from Azure to the Developer Hub software catalog, and configuring the Azure authentication provider in Red Hat Developer Hub.
		</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem">
					You have the permission to register an application in Azure. Alternatively, you can ask your Azure administrator to prepare the required Azure application.
				</li><li class="listitem">
					You <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.8/html-single/configuring_red_hat_developer_hub/index">added a custom Developer Hub application configuration</a>, and have enough permissions to change it.
				</li><li class="listitem"><p class="simpara">
					Your Developer Hub backend can access the following hosts:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">login.microsoftonline.com</code></span></dt><dd>
								The Microsoft Azure authorization server, which enables the authentication flow.
							</dd><dt><span class="term"><code class="literal">graph.microsoft.com</code></span></dt><dd>
								The server for retrieving organization data, including user and group data, to import into the Developer Hub catalog.
							</dd></dl></div></li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
					To allow Developer Hub to authenticate with Azure, <a class="link" href="https://learn.microsoft.com/en-us/entra/identity-platform/scenario-web-app-sign-user-app-registration?tabs=aspnetcore#register-an-app-by-using-the-azure-portal">Register an app by using the Azure portal</a>.
				</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
							Sign in to the <a class="link" href="https://entra.microsoft.com/">Microsoft Entra admin center</a>.
						</li><li class="listitem">
							Optional: If you have access to many tenants, use the <span class="strong strong"><strong>Settings</strong></span> icon in the top menu to switch to the tenant in which you want to register the application from the <span class="strong strong"><strong>Directories + subscriptions</strong></span> menu.
						</li><li class="listitem"><p class="simpara">
							Browse to <span class="strong strong"><strong>Applications &gt; App registrations</strong></span>, and create a <span class="strong strong"><strong>New registration</strong></span> with the configuration:
						</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Name</span></dt><dd>
										Enter a name to identify your application in Azure, such as <span class="emphasis"><em>&lt;Authenticating with Developer Hub&gt;</em></span>.
									</dd><dt><span class="term">Supported account types</span></dt><dd>
										Select <span class="strong strong"><strong>Accounts in this organizational directory only</strong></span>.
									</dd><dt><span class="term">Redirect URI</span></dt><dd><div class="variablelist"><dl class="variablelist"><dt><span class="term">Select a platform</span></dt><dd>
													Select <span class="strong strong"><strong>Web</strong></span>.
												</dd><dt><span class="term">URL</span></dt><dd>
													Enter the backend authentication URI set in Developer Hub: <code class="literal">https://<span class="emphasis"><em>&lt;my_developer_hub_domain&gt;</em></span>/api/auth/microsoft/handler/frame</code>
												</dd></dl></div></dd></dl></div></li><li class="listitem"><p class="simpara">
							On the <span class="strong strong"><strong>Applications &gt; App registrations &gt; <span class="emphasis"><em>&lt;Authenticating with Developer Hub&gt;</em></span> &gt; Manage &gt; API permissions</strong></span> page, <span class="strong strong"><strong>Add a Permission</strong></span>, <span class="strong strong"><strong>Microsoft Graph</strong></span>, select the following permissions:
						</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">Application Permissions</span></dt><dd><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">GroupMember.Read.All</code>, </span><span class="term"><code class="literal">User.Read.All</code></span></dt><dd><p class="simpara">
													Enter permissions that enable provisioning user and groups to the Developer Hub software catalog.
												</p><p class="simpara">
													Optional: <span class="strong strong"><strong>Grant admin consent</strong></span> for these permissions. Even if your company does not require admin consent, consider doing so as it means users do not need to individually consent the first time they access Developer Hub.
												</p></dd></dl></div></dd><dt><span class="term">Delegated Permissions</span></dt><dd><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">User.Read</code>, </span><span class="term"><code class="literal">email</code>, </span><span class="term"><code class="literal">offline_access</code>, </span><span class="term"><code class="literal">openid</code>, </span><span class="term"><code class="literal">profile</code></span></dt><dd><p class="simpara">
													Enter permissions that enable authenticating users.
												</p><p class="simpara">
													Optional: Enter optional custom scopes for the Microsoft Graph API that you define both here and in your <code class="literal">app-config.yaml</code> Developer Hub configuration file.
												</p></dd></dl></div></dd></dl></div></li><li class="listitem">
							On the <span class="strong strong"><strong>Applications &gt; App registrations &gt; <span class="emphasis"><em>&lt;Authenticating with Developer Hub&gt;</em></span> &gt; Manage &gt; Certificates &amp; secrets</strong></span> page, in the <span class="strong strong"><strong>Client secrets</strong></span> tab, create a <span class="strong strong"><strong>New client secret</strong></span>.
						</li><li class="listitem"><p class="simpara">
							Save the following values for the next step:
						</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
									<span class="strong strong"><strong>Directory (tenant) ID</strong></span>
								</li><li class="listitem">
									<span class="strong strong"><strong>Application (client) ID</strong></span>
								</li><li class="listitem">
									<span class="strong strong"><strong>Application (client) Secret ID</strong></span>
								</li></ul></div></li></ol></div></li><li class="listitem"><p class="simpara">
					To add your Azure credentials to Developer Hub, add the following key/value pairs to <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.8/html-single/configuring_red_hat_developer_hub/index#provisioning-your-custom-configuration">your Developer Hub secrets</a>:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">AUTHENTICATION_AZURE_TENANT_ID</code></span></dt><dd>
								Enter your saved <span class="strong strong"><strong>Directory (tenant) ID</strong></span>.
							</dd><dt><span class="term"><code class="literal">AUTHENTICATION_AZURE_CLIENT_ID</code></span></dt><dd>
								Enter your saved <span class="strong strong"><strong>Application (client) ID</strong></span>.
							</dd><dt><span class="term"><code class="literal">AUTHENTICATION_AZURE_CLIENT_SECRET</code></span></dt><dd>
								Enter your saved <span class="strong strong"><strong>Application (client) secret</strong></span>.
							</dd></dl></div></li><li class="listitem"><p class="simpara">
					Enable the Microsoft Graph organization provisioning plugin (<code class="literal">backstage-plugin-catalog-backend-module-msgraph-dynamic</code>) in your <code class="literal">dynamic-plugins.yaml</code> file. This plugin imports Azure users and groups to the Developer Hub software catalog.
				</p><pre class="programlisting language-yaml">plugins:
  - package: './dynamic-plugins/dist/backstage-plugin-catalog-backend-module-msgraph-dynamic'
    disabled: false</pre></li><li class="listitem"><p class="simpara">
					To provision Azure users and groups to the Developer Hub software catalog, add the <code class="literal">catalog.providers.microsoftGraphOrg</code> section to your custom Developer Hub <code class="literal">app-config.yaml</code> configuration file:
				</p><pre class="programlisting language-yaml" id="microsoftGraphOrgProviderId">catalog:
  providers:
    microsoftGraphOrg:
      providerId:
        target: https://graph.microsoft.com/v1.0
        tenantId: ${AUTHENTICATION_AZURE_TENANT_ID}
        clientId: ${AUTHENTICATION_AZURE_CLIENT_ID}
        clientSecret: ${AUTHENTICATION_AZURE_CLIENT_SECRET}
        schedule:
          frequency:
            hours: 1
          timeout:
            minutes: 50
          initialDelay:
            minutes: 50</pre><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">target</code></span></dt><dd>
								Enter <code class="literal">https://graph.microsoft.com/v1.0</code> to define the MSGraph API endpoint the provider is connecting to. You might change this parameter to use a different version, such as the <a class="link" href="https://learn.microsoft.com/en-us/graph/api/overview?view=graph-rest-beta#call-the-beta-endpoint">beta endpoint</a>.
							</dd><dt><span class="term"><code class="literal">tenandId</code></span></dt><dd>
								Enter the configured secret variable name: <code class="literal">${AUTHENTICATION_AZURE_TENANT_ID}</code>.
							</dd><dt><span class="term"><code class="literal">clientId</code></span></dt><dd>
								Enter the configured secret variable name: <code class="literal">${AUTHENTICATION_AZURE_CLIENT_ID}</code>.
							</dd><dt><span class="term"><code class="literal">clientSecret</code></span></dt><dd>
								Enter the configured secret variable name: <code class="literal">${AUTHENTICATION_AZURE_CLIENT_SECRET}</code>.
							</dd><dt><span class="term"><code class="literal">schedule</code></span></dt><dd><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">frequency</code></span></dt><dd>
											Enter the schedule frequency in the cron, ISO duration, or human duration format. In a large organization, user provisioning might take a long time, therefore avoid using a low value.
										</dd><dt><span class="term"><code class="literal">timeout</code></span></dt><dd>
											Enter the schedule timeout in the ISO duration or human duration format. In a large organization, user provisioning might take a long time, therefore avoid using a low value.
										</dd><dt><span class="term"><code class="literal">initialDelay</code></span></dt><dd><p class="simpara">
											Enter the schedule initial delay in the ISO duration or human duration format.
										</p><p class="simpara">
											Optional: Consider adding optional fields.
										</p></dd></dl></div></dd></dl></div><div class="variablelist" id="authority"><dl class="variablelist"><dt><span class="term"><code class="literal">authority</code></span></dt><dd><p class="simpara">
								Enter your <a class="link" href="https://learn.microsoft.com/en-us/graph/deployments#app-registration-and-token-service-root-endpoints">Azure authority URL</a> if it is different from the default: <code class="literal">https://login.microsoftonline.com</code>.
							</p><pre class="programlisting language-yaml">catalog:
  providers:
    microsoftGraphOrg:
      providerId:
        authority: https://login.microsoftonline.com/</pre></dd></dl></div></li></ol></div><div class="variablelist" id="queryMode"><dl class="variablelist"><dt><span class="term"><code class="literal">queryMode: basic | advanced</code></span></dt><dd><p class="simpara">
						Enter <code class="literal">advanced</code> when the default <code class="literal">basic</code> query mode is insufficient for your queries to the Microsoft Graph API. See <a class="link" href="https://learn.microsoft.com/en-us/graph/aad-advanced-queries">Microsoft Azure advanced queries</a>.
					</p><pre class="programlisting language-yaml">catalog:
  providers:
    microsoftGraphOrg:
      providerId:
        queryMode: advanced</pre></dd></dl></div><div class="variablelist" id="userExpand"><dl class="variablelist"><dt><span class="term"><code class="literal">user.expand</code></span></dt><dd><p class="simpara">
						To include the expanded resource or collection referenced by a single relationship (navigation property) in your results. Only one relationship can be expanded in a single request. See <a class="link" href="https://learn.microsoft.com/en-us/graph/query-parameters#expand-parameter">Microsoft Graph query expand parameter</a>. This parameter can be combined with <a class="link" href="#userGroupMemberFilter"><code class="literal">userGroupMember.filter</code></a> or <a class="link" href="#userFilter"><code class="literal">user.filter</code></a>.
					</p><pre class="programlisting language-yaml">catalog:
  providers:
    microsoftGraphOrg:
      providerId:
        user:
          expand: manager</pre></dd></dl></div><div class="variablelist" id="userFilter"><dl class="variablelist"><dt><span class="term"><code class="literal">user.filter</code></span></dt><dd><p class="simpara">
						To filter users. See <a class="link" href="https://learn.microsoft.com/en-us/graph/api/resources/user?view=graph-rest-1.0#properties">Microsoft Graph API</a> and <a class="link" href="https://learn.microsoft.com/en-us/graph/query-parameters#filter-parameter">Microsoft Graph API query filter parameters syntax</a>. This parameter and <a class="link" href="#userGroupMemberFilter"><code class="literal">userGroupMember.filter</code></a> are mutually exclusive, only one can be specified.
					</p><pre class="programlisting language-yaml">catalog:
  providers:
    microsoftGraphOrg:
      providerId:
        user:
          filter: accountEnabled eq true and userType eq 'member'</pre></dd></dl></div><div class="variablelist" id="userLoadPhotos"><dl class="variablelist"><dt><span class="term"><code class="literal">user.loadPhotos: true | false</code></span></dt><dd><p class="simpara">
						Developer Hub loads photos by default. Enter <code class="literal">false</code> to avoid loading user photos.
					</p><pre class="programlisting language-yaml">catalog:
  providers:
    microsoftGraphOrg:
      providerId:
        user:
          loadPhotos: true</pre></dd></dl></div><div class="variablelist" id="userSelect"><dl class="variablelist"><dt><span class="term"><code class="literal">user.select</code></span></dt><dd><p class="simpara">
						Enter the <a class="link" href="https://learn.microsoft.com/en-us/graph/api/resources/schemaextension?view=graph-rest-1.0">Microsoft Graph resource type</a> list to retrieve.
					</p><pre class="programlisting language-yaml">catalog:
  providers:
    microsoftGraphOrg:
      providerId:
        user:
          select: ['id', 'displayName', 'description']</pre></dd></dl></div><div class="variablelist" id="userGroupMemberFilter"><dl class="variablelist"><dt><span class="term"><code class="literal">userGroupMember.filter</code></span></dt><dd><p class="simpara">
						To use group membership to get users. To filter groups and fetch their members. This parameter and <a class="link" href="#userFilter"><code class="literal">user.filter</code></a> are mutually exclusive, only one can be specified.
					</p><pre class="programlisting language-yaml">catalog:
  providers:
    microsoftGraphOrg:
      providerId:
        userGroupMember:
          filter: "displayName eq 'Backstage Users'"</pre></dd></dl></div><div class="variablelist" id="userGroupMemberSearch"><dl class="variablelist"><dt><span class="term"><code class="literal">userGroupMember.search</code></span></dt><dd><p class="simpara">
						To use group membership to get users. To search for groups and fetch their members. This parameter and <a class="link" href="#userFilter"><code class="literal">user.filter</code></a> are mutually exclusive, only one can be specified.
					</p><pre class="programlisting language-yaml">catalog:
  providers:
    microsoftGraphOrg:
      providerId:
        userGroupMember:
          search: '"description:One" AND ("displayName:Video" OR "displayName:Drive")'</pre></dd></dl></div><div class="variablelist" id="groupExpand"><dl class="variablelist"><dt><span class="term"><code class="literal">group.expand</code></span></dt><dd><p class="simpara">
						Optional parameter to include the expanded resource or collection referenced by a single relationship (navigation property) in your results. Only one relationship can be expanded in a single request. See <a class="link" href="https://learn.microsoft.com/en-us/graph/query-parameters#expand-parameter">Customize Microsoft Graph responses with query parameters</a>. This parameter can be combined with <a class="link" href="#userGroupMemberFilter"><code class="literal">userGroupMember.filter</code></a> instead of <a class="link" href="#userFilter"><code class="literal">user.filter</code></a>.
					</p><pre class="programlisting language-yaml">catalog:
  providers:
    microsoftGraphOrg:
      providerId:
        group:
          expand: member</pre></dd></dl></div><div class="variablelist" id="groupFilter"><dl class="variablelist"><dt><span class="term"><code class="literal">group.filter</code></span></dt><dd><p class="simpara">
						To filter groups. See <a class="link" href="https://learn.microsoft.com/en-us/graph/api/resources/group?view=graph-rest-1.0#properties">Microsoft Graph API query group syntax</a>.
					</p><pre class="programlisting language-yaml">catalog:
  providers:
    microsoftGraphOrg:
      providerId:
        group:
          filter: securityEnabled eq false and mailEnabled eq true and groupTypes/any(c:c+eq+'Unified')</pre></dd></dl></div><div class="variablelist" id="groupSearch"><dl class="variablelist"><dt><span class="term"><code class="literal">group.search</code></span></dt><dd><p class="simpara">
						To search for groups. See <a class="link" href="https://learn.microsoft.com/en-us/graph/search-query-parameter">Microsoft Graph API query search parameter</a>.
					</p><pre class="programlisting language-yaml">catalog:
  providers:
    microsoftGraphOrg:
      providerId:
        group:
          search: '"description:One" AND ("displayName:Video" OR "displayName:Drive")'</pre></dd></dl></div><div class="variablelist" id="groupSelect"><dl class="variablelist"><dt><span class="term"><code class="literal">group.select</code></span></dt><dd><p class="simpara">
						Enter the <a class="link" href="https://learn.microsoft.com/en-us/graph/api/resources/schemaextension?view=graph-rest-1.0">Microsoft Graph resource type</a> list to retrieve.
					</p><pre class="programlisting language-yaml">catalog:
  providers:
    microsoftGraphOrg:
      providerId:
        group:
          select: ['id', 'displayName', 'description']</pre><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
								To set up the Azure authentication provider, add the <code class="literal">auth.providers.microsoft</code> section to your <code class="literal">app-config.yaml</code> file content:
							</p><pre class="programlisting language-yaml">auth:
  environment: production
  providers:
    microsoft:
      production:
        clientId: ${AUTHENTICATION_AZURE_CLIENT_ID}
        clientSecret: ${AUTHENTICATION_AZURE_CLIENT_SECRET}
        tenantId: ${AUTHENTICATION_AZURE_TENANT_ID}
signInPage: microsoft</pre></li></ol></div></dd><dt><span class="term"><code class="literal">environment</code></span></dt><dd>
						Enter <code class="literal">production</code> to disable the <span class="strong strong"><strong>Guest</strong></span> login option in the Developer Hub login page.
					</dd><dt><span class="term"><code class="literal">clientId</code></span></dt><dd>
						Enter the configured secret variable name: <code class="literal">${AUTHENTICATION_AZURE_CLIENT_ID}</code>.
					</dd><dt><span class="term"><code class="literal">clientSecret</code></span></dt><dd>
						Enter the configured secret variable name: <code class="literal">${AUTHENTICATION_AZURE_CLIENT_SECRET}</code>.
					</dd><dt><span class="term"><code class="literal">tenantId</code></span></dt><dd>
						Enter the configured secret variable name: <code class="literal">${AUTHENTICATION_AZURE_TENANT_ID}</code>.
					</dd><dt><span class="term"><code class="literal">signInPage</code></span></dt><dd><p class="simpara">
						Enter <code class="literal">microsoft</code> to set the Azure provider as your Developer Hub sign-in provider.
					</p><p class="simpara">
						Optional: Add optional fields.
					</p></dd><dt><span class="term"><code class="literal">domainHint</code></span></dt><dd><p class="simpara">
						Optional for single-tenant applications. You can reduce login friction for users with accounts in multiple tenants by automatically filtering out accounts from other tenants. If you want to use this parameter for a single-tenant application, uncomment and enter the tenant ID. If your application registration is multi-tenant, leave this parameter blank. For more information, see <a class="link" href="https://learn.microsoft.com/en-us/entra/identity/enterprise-apps/home-realm-discovery-policy">Home Realm Discovery</a>.
					</p><pre class="programlisting language-yaml">auth:
  environment: production
  providers:
    microsoft:
      production:
        domainHint: ${AUTHENTICATION_AZURE_TENANT_ID}</pre></dd><dt><span class="term"><code class="literal">additionalScopes</code></span></dt><dd><p class="simpara">
						Optional for additional scopes. To add scopes for the application registration, uncomment and enter the list of scopes that you want to add. The default and mandatory value lists following scopes:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
								<code class="literal">openid</code>
							</li><li class="listitem">
								<code class="literal">offline_access</code>
							</li><li class="listitem">
								<code class="literal">profile</code>
							</li><li class="listitem">
								<code class="literal">email</code>
							</li><li class="listitem"><p class="simpara">
								<code class="literal">User.Read</code>
							</p><pre class="programlisting language-yaml">auth:
  environment: production
  providers:
    microsoft:
      production:
        additionalScopes:
           - Mail.Send</pre></li></ul></div></dd><dt><span class="term"><code class="literal">sessionDuration</code></span></dt><dd><p class="simpara">
						Lifespan of the user session. Enter a duration in <code class="literal">ms</code> library (such as '24h', '2 days'), ISO duration, or "human duration" format.
					</p><pre class="programlisting language-yaml">auth:
  providers:
    microsoft:
      production:
        sessionDuration:
          hours: 24</pre></dd><dt><span class="term"><code class="literal">signIn</code></span></dt><dd><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">resolvers</code></span></dt><dd>
									After successful authentication, Developer Hub resolves the user signing in to an existing user in the Developer Hub catalog. To best match users securely for your use case, consider configuring a specific resolver.
								</dd></dl></div><p class="simpara">
						Enter the resolver list to override the default resolver: <code class="literal">userIdMatchingUserEntityAnnotation</code>.
					</p><p class="simpara">
						The authentication provider tries each sign-in resolver in order until it succeeds, and fails if none succeed.
					</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
							In production mode, only configure one resolver to ensure users are securely matched.
						</p></div></div><pre class="programlisting language-yaml">auth:
  environment: production
  providers:
    microsoft:
      production:
        clientId: ${AUTHENTICATION_AZURE_CLIENT_ID}
        clientSecret: ${AUTHENTICATION_AZURE_CLIENT_SECRET}
        tenantId: ${AUTHENTICATION_AZURE_TENANT_ID}
        signIn:
          resolvers:
            - resolver: usernameMatchingUserEntityName
              dangerouslyAllowSignInWithoutUserInCatalog: true
signInPage: microsoft</pre><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">resolver</code></span></dt><dd><p class="simpara">
									Enter the sign-in resolver name. Available resolvers:
								</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">emailMatchingUserEntityAnnotation</code>:</span></dt><dd><p class="simpara">
												This resolver looks up the user by matching their Microsoft email to the email entity annotation.
											</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">emailLocalPartMatchingUserEntityName</code>:</span></dt><dd><p class="simpara">
															This resolver looks up the user by matching their Microsoft email user name to the user entity name.
														</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">emailMatchingUserEntityProfileEmail</code>:</span></dt><dd>
																		This resolver looks up the user by matching their Microsoft email to the user entity profile email.
																	</dd></dl></div></dd></dl></div></dd></dl></div></dd><dt><span class="term"><code class="literal">dangerouslyAllowSignInWithoutUserInCatalog: true</code></span></dt><dd><p class="simpara">
									Configure the sign-in resolver to bypass the user provisioning requirement in the Developer Hub software catalog.
								</p><div class="admonition warning"><div class="admonition_header">Warning</div><div><p>
										Use <code class="literal">dangerouslyAllowSignInWithoutUserInCatalog</code> to explore Developer Hub features, but do not use it in production.
									</p></div></div></dd></dl></div></dd></dl></div><div class="orderedlist"><p class="title"><strong>Verification</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
					To verify user and group provisioning, check the console logs for <code class="literal">MicrosoftGraphOrgEntityProvider</code> events.
				</p><p class="simpara">
					Successful synchronization example:
				</p><pre class="screen">2025-06-23T13:37:55.804Z catalog info Read 9 msgraph users and 3 msgraph groups in 1.5 seconds. Committing... class="MicrosoftGraphOrgEntityProvider" taskId="MicrosoftGraphOrgEntityProvider:providerId:refresh" taskInstanceId="e104a116-6481-4ceb-9bc4-0f8f9581f959" trace_id="e4c633659cffd6b1529afa55a5bfbad7" span_id="76affd0420e8baa6" trace_flags="01"

2025-06-23T13:37:55.811Z catalog info Committed 9 msgraph users and 3 msgraph groups in 0.0 seconds. class="MicrosoftGraphOrgEntityProvider" taskId="MicrosoftGraphOrgEntityProvider:providerId:refresh" taskInstanceId="e104a116-6481-4ceb-9bc4-0f8f9581f959" trace_id="e4c633659cffd6b1529afa55a5bfbad7" span_id="76affd0420e8baa6" trace_flags="01"</pre></li><li class="listitem"><p class="simpara">
					To verify Azure user authentication:
				</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem">
							Go to the Developer Hub login page.
						</li><li class="listitem">
							Your Developer Hub sign-in page displays <span class="strong strong"><strong>Sign in using Microsoft</strong></span> and the Guest user sign-in is disabled.
						</li><li class="listitem">
							Log in with an Azure account.
						</li></ol></div></li></ol></div></section><div><div xml:lang="en-US" class="legalnotice" id="idm45801266300112"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"/>© 2025 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></section></div></div><script type="text/javascript">
                        jQuery(document).ready(function() {
                            initSwitchery();
                            jQuery('pre[class*="language-"]').each(function(i, block){hljs.highlightBlock(block);});
                        });
                    </script></body></html>