<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="chrometwo"><head><title>Integrate Red Hat Developer Hub with {openshift-ai-connector-name} to leverage AI models</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css"/><meta name="generator" content="publican v4.3.2"/><meta name="description" content="As a developer, when you require access to centralized AI/ML services, you can integrate AI models and model servers from Red Hat OpenShift AI directly into the Red Hat Developer Hub (RHDH) Catalog, so that you can provide a single, consistent hub for discovering, managing, and consuming all components, accelerating time-to-market."/><link rel="next" href="#con-understand-how-ai-assets-map-to-rhdh-catalog_" title="1. Understand how AI assets map to the Red Hat Developer Hub Catalog"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><script type="text/javascript" src="Common_Content/scripts/jquery-1.7.1.min.js"> </script><script type="text/javascript" src="Common_Content/scripts/utils.js"> </script><script type="text/javascript" src="Common_Content/scripts/highlight.js/highlight.pack.js"> </script></head><body><div id="chrometwo"><div id="main"><section xml:lang="en-US" class="article" id="idm45833498954752"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Developer Hub</span> <span class="productnumber">1.8</span></div><div><h1 class="title">Integrate Red Hat Developer Hub with {openshift-ai-connector-name} to leverage AI models</h1></div><div><h3 class="subtitle"><em>Installing, configuring, and troubleshooting OpenShift AI Connector for Red Hat Developer Hub</em></h3></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat Customer Content Services</span></div></div><div><a href="#idm45833476836064">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				As a developer, when you require access to centralized AI/ML services, you can integrate AI models and model servers from Red Hat OpenShift AI directly into the Red Hat Developer Hub (RHDH) Catalog, so that you can provide a single, consistent hub for discovering, managing, and consuming all components, accelerating time-to-market.
			</div></div></div></div><hr/></div><div class="toc"><ul class="toc"><li><span class="section"><a href="#con-understand-how-ai-assets-map-to-rhdh-catalog_">1. Understand how AI assets map to the Red Hat Developer Hub Catalog</a></span><ul><li><span class="section"><a href="#ref-model-to-entity-mapping_">1.1. Model-to-Entity mapping</a></span></li><li><span class="section"><a href="#ref-out-of-the-box-details-from-rhoai_">1.2. Out-of-the-Box details from RHOAI</a></span></li></ul></li><li><span class="section"><a href="#proc-setting-up-openshift-ai-connector-for-rhdh-with-rhoai_">2. Setting up OpenShift AI Connector for Red Hat Developer Hub with Red Hat OpenShift AI</a></span></li><li><span class="section"><a href="#ref-enrich-ai-model-metadata_">3. Enrich AI model metadata for enhanced Red Hat Developer Hub experience</a></span><ul><li><span class="section"><a href="#proc-populating-the-api-definition-tab_">3.1. Populating the API Definition tab</a></span></li></ul></li><li><span class="section"><a href="#proc-troubleshooting-connector-functionality_">4. Troubleshooting Connector functionality</a></span><ul><li><span class="section"><a href="#checking-dynamic-plugins-status">4.1. Checking Dynamic Plugins status</a></span></li><li><span class="section"><a href="#inspecting-plugin-logs">4.2. Inspecting plugin logs</a></span></li><li><span class="section"><a href="#inspecting-the-model-catalog-bridge">4.3. Inspecting the Model Catalog Bridge</a></span></li><li><span class="section"><a href="#ref-openshift-ai-model-registry-and-model-catalog-queries_">4.4. OpenShift AI model registry and model catalog queries</a></span></li></ul></li></ul></div><section class="section" id="con-understand-how-ai-assets-map-to-rhdh-catalog_"><div class="titlepage"><div><div><h2 class="title">1. Understand how AI assets map to the Red Hat Developer Hub Catalog</h2></div></div></div><div class="admonition important"><div class="admonition_header">Important</div><div><p>
				This section describes Developer Preview features in the OpenShift AI Connector for Red Hat Developer Hub plugin. Developer Preview features are not supported by Red Hat in any way and are not functionally complete or production-ready. Do not use Developer Preview features for production or business-critical workloads. Developer Preview features provide early access to functionality in advance of possible inclusion in a Red Hat product offering. Customers can use these features to test functionality and provide feedback during the development process. Developer Preview features might not have any documentation, are subject to change or removal at any time, and have received limited testing. Red Hat might provide ways to submit feedback on Developer Preview features without an associated SLA.
			</p><p>
				For more information about the support scope of Red Hat Developer Preview features, see <a class="link" href="https://access.redhat.com/support/offerings/devpreview/">Developer Preview Support Scope</a>.
			</p></div></div><p>
			The OpenShift AI Connector for Red Hat Developer Hub (OpenShift AI Connector for RHDH) serves as a crucial link, enabling the discovery and accessibility of AI assets managed within the Red Hat OpenShift AI offering directly within your RHDH instance.
		</p><p>
			For more information on model registry components, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_openshift_ai_self-managed/2.25/html/enabling_the_model_registry_component/overview-of-model-registries_model-registry-config">Overview of model registries and model catalog</a>.
		</p><section class="section" id="ref-model-to-entity-mapping_"><div class="titlepage"><div><div><h3 class="title">1.1. Model-to-Entity mapping</h3></div></div></div><p>
				This offering interfaces with the OpenShift AI Connector for RHDH, model catalog, and KServe-based Model Deployments (InferenceServices) to create familiar Backstage entities.
			</p><div class="informaltable"><table class="gt-4-cols lt-7-rows"><colgroup><col style="width: 25%; " class="col_1"/><col style="width: 25%; " class="col_2"/><col style="width: 25%; " class="col_3"/><col style="width: 25%; " class="col_4"/></colgroup><thead><tr><th align="left" valign="top" id="idm45833498909296" scope="col">RHOAI Artifact</th><th align="left" valign="top" id="idm45833498915920" scope="col">RHDH/Backstage Entity Kind</th><th align="left" valign="top" id="idm45833498955040" scope="col">RHDH/Backstage Entity Type</th><th align="left" valign="top" id="idm45833498948992" scope="col">Purpose</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm45833498909296">
							<p>
								Model Server (InferenceService)
							</p>
							</td><td align="left" valign="top" headers="idm45833498915920">
							<p>
								Component
							</p>
							</td><td align="left" valign="top" headers="idm45833498955040">
							<p>
								<code class="literal">model-server</code>
							</p>
							</td><td align="left" valign="top" headers="idm45833498948992">
							<p>
								Represents a running, accessible AI model endpoint. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_openshift_ai_self-managed/2.25/html/configuring_your_model-serving_platform/index">Configuring your model-serving platform</a>.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm45833498909296">
							<p>
								AI Model (Model Registry Version)
							</p>
							</td><td align="left" valign="top" headers="idm45833498915920">
							<p>
								Resource
							</p>
							</td><td align="left" valign="top" headers="idm45833498955040">
							<p>
								<code class="literal">ai-model</code>
							</p>
							</td><td align="left" valign="top" headers="idm45833498948992">
							<p>
								Represents the specific AI model artifact, for example, <code class="literal">Llama-3-8B</code>.
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm45833498909296">
							<p>
								Model Server API Details
							</p>
							</td><td align="left" valign="top" headers="idm45833498915920">
							<p>
								API
							</p>
							</td><td align="left" valign="top" headers="idm45833498955040">
							<p>
								<code class="literal">openapi</code> (Default)
							</p>
							</td><td align="left" valign="top" headers="idm45833498948992">
							<p>
								Provides the OpenAPI/Swagger specification for the REST endpoint of the model. See <a class="link" href="https://access.redhat.com/articles/7047935">Red Hat OpenShifT AI: API Tiers</a>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm45833498909296">
							<p>
								Model Cards
							</p>
							</td><td align="left" valign="top" headers="idm45833498915920">
							<p>
								TechDocs
							</p>
							</td><td align="left" valign="top" headers="idm45833498955040">
							<p>
								N/A
							</p>
							</td><td align="left" valign="top" headers="idm45833498948992">
							<p>
								Model cards from the RHOAI model catalog are associated with the Component and Resource entities. See <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_openshift_ai_self-managed/2.25/html/working_with_the_model_catalog/registering-a-model-from-the-model-catalog_working-model-catalog">Registering a model from the model catalog</a>.
							</p>
							</td></tr></tbody></table></div><p>
				Once the OpenShift AI Connector for RHDH is installed and connected with RHOAI, the transfer of information commences automatically.
			</p></section><section class="section" id="ref-out-of-the-box-details-from-rhoai_"><div class="titlepage"><div><div><h3 class="title">1.2. Out-of-the-Box details from RHOAI</h3></div></div></div><p>
				The connector propagates the following key data:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						InferenceServices (Component type model-server):
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								URL of the OpenShift Route (if exposed).
							</li><li class="listitem">
								URL of the Kubernetes Service.
							</li><li class="listitem">
								Authentication requirement status.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Model registry (Resource type <code class="literal">ai-model</code>):
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								Model description, artifact URIs, and author/owner information.
							</li></ul></div></li><li class="listitem"><p class="simpara">
						Model catalog:
					</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
								Links to the Model Card (as RHDH TechDocs).
							</li><li class="listitem">
								Model license URL.
							</li></ul></div></li></ul></div></section></section><section class="section" id="proc-setting-up-openshift-ai-connector-for-rhdh-with-rhoai_"><div class="titlepage"><div><div><h2 class="title">2. Setting up OpenShift AI Connector for Red Hat Developer Hub with Red Hat OpenShift AI</h2></div></div></div><p>
			The installation of the OpenShift AI Connector for Red Hat Developer Hub requires manual updates to RHDH-related Kubernetes resources.
		</p><div class="itemizedlist"><p class="title"><strong>RHOAI Prerequisites</strong></p><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
					To import model cards from the model catalog into TechDocs, you need to use RHOAI 2.25.
				</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
						If you upgraded to RHOAI 2.25 from an earlier version, you must manually enable the model catalog dashboard and model registry before you can import model cards.
					</p></div></div></li><li class="listitem">
					If you employed model catalog at earlier versions of RHOAI, TechDocs propagation does not work for any models you registered into the model registry while at those earlier versions; only models registered into model registry from a RHOAI 2.25 model catalog have their model cards transferred to RHDH as TechDocs.
				</li><li class="listitem">
					For the rest of the features, version 2.20 or later suffices. Enabling model registry and its associated dashboard allows for a user experience that more directly allows for customizing AI Model metadata.
				</li></ul></div><p>
			For more details, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_openshift_ai_self-managed/2.25/html-single/enabling_the_model_registry_component/index">Enabling the model registry component</a>.
		</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
					Configure RHOAI-related RBAC and credentials. A Kubernetes <code class="literal">ServiceAccount</code> and a <code class="literal">service-account-token</code> Secret are required for the connector to retrieve data from RHOAI. The following resources must be created, replacing namespace names (<code class="literal">ai-rhdh</code> for RHDH, <code class="literal">rhoai-model-registries</code> for RHOAI) as needed:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">ServiceAccount</code> (<code class="literal">rhdh-rhoai-bridge</code>)
						</li><li class="listitem">
							<code class="literal">ClusterRole</code> and <code class="literal">ClusterRoleBinding</code> (<code class="literal">rhdh-rhoai-bridge</code>) to allow access to OCP resources like <code class="literal">routes</code>, <code class="literal">services</code>, and <code class="literal">inferenceservices</code>.
						</li><li class="listitem">
							<code class="literal">Role</code> and <code class="literal">RoleBinding</code> to allow ConfigMap updates within the RHDH namespace.
						</li><li class="listitem">
							<code class="literal">RoleBinding</code> in the RHOAI namespace to grant the RHDH <code class="literal">ServiceAccount</code> read permissions to the Model Registry data (binding to <code class="literal">registry-user-modelregistry-public</code>).
						</li><li class="listitem">
							Secret (<code class="literal">rhdh-rhoai-bridge-token</code>) of type <code class="literal">kubernetes.io/service-account-token</code> that goes along with the <code class="literal">rhdh-rhoai-bridge</code> <code class="literal">ServiceAccount</code>.
						</li></ul></div></li><li class="listitem"><p class="simpara">
					Update your RHDH dynamic plugin configuration. The RHDH Pod requires two dynamic plugins.
				</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
							In your RHDH dynamic plugins ConfigMap, add the following code:
						</p><pre class="programlisting language-yaml">plugins:
  - disabled: false
    package: oci://ghcr.io/redhat-developer/rhdh-plugin-export-overlays/red-hat-developer-hub-backstage-plugin-catalog-backend-module-model-catalog:bs_1.42.5__0.7.0!red-hat-developer-hub-backstage-plugin-catalog-backend-module-model-catalog
  - disabled: false
    package: oci://ghcr.io/redhat-developer/rhdh-plugin-export-overlays/red-hat-developer-hub-backstage-plugin-catalog-techdoc-url-reader-backend:bs_1.42.5__0.3.0!red-hat-developer-hub-backstage-plugin-catalog-techdoc-url-reader-backend</pre></li></ol></div></li><li class="listitem"><p class="simpara">
					Add <code class="literal">Connector</code> sidecar containers to the RHDH Pod.
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							If RHDH was installed using the Operator, modify your RHDH custom resource (CR) instance.
						</li><li class="listitem">
							If RHDH was installed using the Helm charts, modify the <span class="strong strong"><strong>Deployment</strong></span> specification.
						</li></ul></div></li><li class="listitem"><p class="simpara">
					The system relies on three sidecar containers (model catalog bridge) running alongside the <code class="literal">backstage-backend</code> container. Add these sidecar containers to your configuration referencing the <code class="literal">rhdh-rhoai-bridge-token</code> Secret:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							<code class="literal">location</code>: Provides the REST API for RHDH plugins to fetch model metadata.
						</li><li class="listitem">
							<code class="literal">storage-rest</code>: Maintains a cache of AI Model metadata in a ConfigMap called <code class="literal">bac-import-model</code>.
						</li><li class="listitem"><p class="simpara">
							<code class="literal">rhoai-normalizer</code>: Acts as a Kubernetes controller and RHOAI client, normalizing RHOAI metadata for the connector. The following code block is an example:
						</p><pre class="programlisting language-yaml">spec:
  template:
    spec:
      containers:
        - name: backstage-backend
        - env:
            - name: NORMALIZER_FORMAT
              value: JsonArrayFormat
            - name: POD_IP
              valueFrom:
                fieldRef:
                  fieldPath: status.podIP
            - name: POD_NAMESPACE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.namespace
          envFrom:
            - secretRef:
                name: rhdh-rhoai-bridge-token
          image: quay.io/redhat-ai-dev/model-catalog-location-service@sha256:4f6ab6624a29f627f9f861cfcd5d18177d46aa2c67a81a75a1502c49bc2ff012

          imagePullPolicy: Always
          name: location
          ports:
            - containerPort: 9090
              name: location
              protocol: TCP
          volumeMounts:
            - mountPath: /opt/app-root/src/dynamic-plugins-root
              name: dynamic-plugins-root
            workingDir: /opt/app-root/src
          - env:
            - name: NORMALIZER_FORMAT
              value: JsonArrayFormat
            - name: STORAGE_TYPE
              value: ConfigMap
            - name: BRIDGE_URL
              value: http://localhost:9090
            - name: POD_IP
              valueFrom:
                fieldRef:
                  fieldPath: status.podIP
            - name: POD_NAMESPACE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.namespace
          envFrom:
            - secretRef:
                name: rhdh-rhoai-bridge-token
          image: quay.io/redhat-ai-dev/model-catalog-storage-rest@sha256:398095e7469e86d84b1196371286363f4b7668aa3e26370b4d78cb8d4ace1dc9

          imagePullPolicy: Always
          name: storage-rest
          volumeMounts:
            - mountPath: /opt/app-root/src/dynamic-plugins-root
              name: dynamic-plugins-root
            workingDir: /opt/app-root/src
          - env:
            - name: NORMALIZER_FORMAT
              value: JsonArrayFormat
            - name: POD_IP
              valueFrom:
                fieldRef:
                  fieldPath: status.podIP
            - name: POD_NAMESPACE
              valueFrom:
                fieldRef:
                  fieldPath: metadata.namespace
          envFrom:
            - secretRef:
                name: rhdh-rhoai-bridge-token
          image: quay.io/redhat-ai-dev/model-catalog-rhoai-normalizer@sha256:fe6c05d57495d6217c4d584940ec552c3727847ff60f39f5d04f94be024576d8

          imagePullPolicy: Always
          name: rhoai-normalizer
          volumeMounts:
            - mountPath: /opt/app-root/src/dynamic-plugins-root
              name: dynamic-plugins-root
            workingDir: /opt/app-root/src</pre></li></ul></div></li><li class="listitem"><p class="simpara">
					Enable <code class="literal">Connector</code> in your <code class="literal">RHDHapp-config.yaml</code> file. In your <code class="literal">Backstage `app-config.extra.yaml</code> file, configure <code class="literal">Entity Provider</code> under the <code class="literal">catalog.providers</code> section:
				</p><pre class="programlisting language-yaml">providers:
  modelCatalog:
    development:
      baseUrl: http://localhost:9090</pre></li></ol></div><p>
			where:
		</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">modelCatalog</code></span></dt><dd>
						Specifies the name of the provider.
					</dd><dt><span class="term"><code class="literal">development</code></span></dt><dd>
						Defines future connector capability beyond a single <code class="literal">baseUrl</code>.
					</dd><dt><span class="term"><code class="literal">baseUrl</code></span></dt><dd>
						For Developer Preview, this value is the only one supported. Future releases might support external routes.
					</dd></dl></div></section><section class="section" id="ref-enrich-ai-model-metadata_"><div class="titlepage"><div><div><h2 class="title">3. Enrich AI model metadata for enhanced Red Hat Developer Hub experience</h2></div></div></div><p>
			While RHOAI provides essential data, an AI platform engineer can enrich the Backstage experience by adding custom properties to the <code class="literal">ModelVersion</code> or <code class="literal">RegisteredModel</code> (or annotations to the <code class="literal">KServe InferenceService</code> if the Model Registry is not used) so that the OpenShift AI Connector for Red Hat Developer Hub can add the information to the RHDH entities it creates.
		</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 33%; " class="col_1"/><col style="width: 33%; " class="col_2"/><col style="width: 33%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm45833498591616" scope="col">Property Key</th><th align="left" valign="top" id="idm45833498582112" scope="col">Entity Field Populated</th><th align="left" valign="top" id="idm45833498555408" scope="col">Description</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm45833498591616">
						<p>
							<code class="literal">API Spec</code>
						</p>
						</td><td align="left" valign="top" headers="idm45833498582112">
						<p>
							API Definition Tab
						</p>
						</td><td align="left" valign="top" headers="idm45833498555408">
						<p>
							The OpenAPI / Swagger JSON specification for the model REST API.
						</p>
						</td></tr><tr><td align="left" valign="top" headers="idm45833498591616">
						<p>
							<code class="literal">API Type</code>
						</p>
						</td><td align="left" valign="top" headers="idm45833498582112">
						<p>
							API Type
						</p>
						</td><td align="left" valign="top" headers="idm45833498555408">
						<p>
							Correlates to supported RHDH/Backstage API types (defaults to <code class="literal">openapi</code>).
						</p>
						</td></tr><tr><td align="left" valign="top" headers="idm45833498591616">
						<p>
							<code class="literal">TechDocs</code>
						</p>
						</td><td align="left" valign="top" headers="idm45833498582112">
						<p>
							TechDocs
						</p>
						</td><td align="left" valign="top" headers="idm45833498555408">
						<p>
							URL pointing to a Git repository that follows RHDH TechDocs conventions for the Model Card. Use this setting only if the <span class="strong strong"><strong>Model Card to TechDocs</strong></span> mapping is not active.
						</p>
						</td></tr><tr><td align="left" valign="top" headers="idm45833498591616">
						<p>
							<code class="literal">Homepage URL</code>
						</p>
						</td><td align="left" valign="top" headers="idm45833498582112">
						<p>
							Links
						</p>
						</td><td align="left" valign="top" headers="idm45833498555408">
						<p>
							A URL considered the home page for the model.
						</p>
						</td></tr><tr><td align="left" valign="top" headers="idm45833498591616">
						<p>
							<code class="literal">Owner</code>
						</p>
						</td><td align="left" valign="top" headers="idm45833498582112">
						<p>
							Owner
						</p>
						</td><td align="left" valign="top" headers="idm45833498555408">
						<p>
							Overrides the default OpenShift user as the entity owner.
						</p>
						</td></tr><tr><td align="left" valign="top" headers="idm45833498591616">
						<p>
							<code class="literal">Lifecycle</code>
						</p>
						</td><td align="left" valign="top" headers="idm45833498582112">
						<p>
							Lifecycle
						</p>
						</td><td align="left" valign="top" headers="idm45833498555408">
						<p>
							Serves a means to express the lifecycle notion of RHDH/Backstage.
						</p>
						</td></tr><tr><td align="left" valign="top" headers="idm45833498591616">
						<p>
							<code class="literal">How to use</code>
						</p>
						</td><td align="left" valign="top" headers="idm45833498582112">
						<p>
							Links
						</p>
						</td><td align="left" valign="top" headers="idm45833498555408">
						<p>
							A URL that points to usage documentation.
						</p>
						</td></tr><tr><td align="left" valign="top" headers="idm45833498591616">
						<p>
							<code class="literal">License</code>
						</p>
						</td><td align="left" valign="top" headers="idm45833498582112">
						<p>
							Links
						</p>
						</td><td align="left" valign="top" headers="idm45833498555408">
						<p>
							A URL to the license file of the model.
						</p>
						</td></tr></tbody></table></div><section class="section" id="proc-populating-the-api-definition-tab_"><div class="titlepage"><div><div><h3 class="title">3.1. Populating the API Definition tab</h3></div></div></div><p>
				The AI platform engineer must follow these steps to provide this valuable information because RHOAI does not expose the OpenAPI specification by default.
			</p><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Retrieve OpenAPI JSON: Use a tool like <code class="literal">curl</code> to fetch the specification directly from the running endpoint of the AI model server. The following command provides the precise endpoint (<code class="literal">/openapi.json</code>) and shows how to include a <code class="literal">Bearer</code> token if the model requires authentication for access.
					</p><pre class="programlisting language-bash">curl -k -H "Authorization: Bearer $MODEL_API_KEY" https://$MODEL_ROOT_URL_INCLUDING_PORT/openapi.json | jq &gt; open-api.json</pre></li><li class="listitem"><p class="simpara">
						Set Property in RHOAI.
					</p><div class="orderedlist"><ol class="orderedlist" type="a"><li class="listitem"><p class="simpara">
								In the <span class="strong strong"><strong>RHOAI</strong></span> dashboard, go to <span class="strong strong"><strong>Model Registry</strong></span> and select the appropriate <span class="strong strong"><strong>Model Version</strong></span>.
							</p><div class="admonition note"><div class="admonition_header">Note</div><div><p>
									We recommend using <span class="strong strong"><strong>Model Version</strong></span> instead of <span class="strong strong"><strong>Registered Model</strong></span> to maintain stability if the API changes between versions.
								</p></div></div></li><li class="listitem">
								In the <span class="strong strong"><strong>Properties</strong></span> section, set a key/value pair where the key is <code class="literal">API Spec</code> and the value is the entire JSON content from the <code class="literal">open-api.json</code> file.
							</li></ol></div></li><li class="listitem">
						Propagation: The OpenShift AI Connector for Red Hat Developer Hub periodically polls the RHOAI Model Registry, propagates this JSON, and renders the interactive API documentation in the RHDH API Entity <span class="strong strong"><strong>Definition</strong></span> tab.
					</li></ol></div></section></section><section class="section" id="proc-troubleshooting-connector-functionality_"><div class="titlepage"><div><div><h2 class="title">4. Troubleshooting Connector functionality</h2></div></div></div><p>
			The connector system consists of the two dynamic plugins and the three Model Catalog Bridge sidecar containers. Generally speaking, the logs collected should be provided to Red Hat Support for analysis.
		</p><p>
			The actual contents of the diagnostic data are not part of any product guaranteed specification, and can change at any time.
		</p><section class="section" id="checking-dynamic-plugins-status"><div class="titlepage"><div><div><h3 class="title">4.1. Checking Dynamic Plugins status</h3></div></div></div><p>
				Validate that the dynamic plugins have been successfully installed into your RHDH project Pod by using the following command:
			</p><p>
				+
			</p><pre class="programlisting language-bash">oc logs -c install-dynamic-plugins deployment/&lt;your RHDH deployment&gt;</pre><p>
				The <code class="literal">install-dynamic-plugin</code> logs allow you to check the following installation logs for successful logs:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						<code class="literal">red-hat-developer-hub-backstage-plugin-catalog-backend-module-model-catalog</code> (Entity Provider)
					</li><li class="listitem">
						<code class="literal">red-hat-developer-hub-backstage-plugin-catalog-techdoc-url-reader-backend</code> (TechDoc URL Reader)
					</li></ul></div></section><section class="section" id="inspecting-plugin-logs"><div class="titlepage"><div><div><h3 class="title">4.2. Inspecting plugin logs</h3></div></div></div><p>
				View the OpenShift AI Connector for Red Hat Developer Hubplugins in the <code class="literal">backstage-backend</code> container. Items to look for:
			</p><div class="informaltable"><table class="lt-4-cols lt-7-rows"><colgroup><col style="width: 27%; " class="col_1"/><col style="width: 36%; " class="col_2"/><col style="width: 36%; " class="col_3"/></colgroup><thead><tr><th align="left" valign="top" id="idm45833499554112" scope="col">Plugin Component</th><th align="left" valign="top" id="idm45833490792624" scope="col">Logger Service Target</th><th align="left" valign="top" id="idm45833499145136" scope="col">Common Log Text</th></tr></thead><tbody><tr><td align="left" valign="top" headers="idm45833499554112">
							<p>
								Model Catalog Entity Provider
							</p>
							</td><td align="left" valign="top" headers="idm45833490792624">
							<p>
								<code class="literal">ModelCatalogResourceEntityProvider</code>
							</p>
							</td><td align="left" valign="top" headers="idm45833499145136">
							<p>
								<code class="literal">Discovering ResourceEntities from Model Server…​</code>
							</p>
							</td></tr><tr><td align="left" valign="top" headers="idm45833499554112">
							<p>
								Model Catalog TechDoc URL Reader
							</p>
							</td><td align="left" valign="top" headers="idm45833490792624">
							<p>
								<code class="literal">ModelCatalogBridgeTechdocUrlReader</code>
							</p>
							</td><td align="left" valign="top" headers="idm45833499145136">
							<p>
								<code class="literal">ModelCatalogBridgeTechdocUrlReader.readUrl</code>
							</p>
							</td></tr></tbody></table></div><p>
				To enable debug logging, set the <code class="literal">LOG_LEVEL</code> environment variable to <code class="literal">debug</code> on the <code class="literal">backstage-backend</code> container. For more information, see <a class="link" href="https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.8/html-single/monitoring_and_logging/index">Monitoring and logging</a>.
			</p></section><section class="section" id="inspecting-the-model-catalog-bridge"><div class="titlepage"><div><div><h3 class="title">4.3. Inspecting the Model Catalog Bridge</h3></div></div></div><p>
				The Model Catalog Bridge sidecars manage the data fetching and storage:
			</p><div class="admonition important"><div class="admonition_header">Important</div><div><p>
					OpenShift AI Connector for Red Hat Developer Hub collects feedback from users who engage with the feedback feature. If a user submits feedback, the feedback score (thumbs up or down), text feedback (if entered), the user query, and the LLM provider response are stored locally in the file system of the Pod. Red Hat does not have access to the collected feedback data.
				</p></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
						Check Cached Data (ConfigMap): The processed AI Model metadata is stored in a <code class="literal">ConfigMap</code>.
					</p><pre class="programlisting language-bash">oc get configmap bac-import-model -o json | jq -r '.binaryData | to_entries[] | "=== \(.key) ===\n" + (.value | @base64d | fromjson | .body | @base64d | fromjson | tostring)' | jq -R 'if startswith("=== ") then . else (. | fromjson) end'</pre></li><li class="listitem"><p class="simpara">
						Check Location Service API: Confirm the location service is providing data to the RHDH Entity Provider.
					</p><pre class="programlisting language-bash">oc rsh -c backstage-backend deployment/&lt;your RHDH deployment&gt;
curl http://localhost:9090/list</pre></li><li class="listitem"><p class="simpara">
						Check Sidecar Container Logs:
					</p><pre class="programlisting language-bash">oc logs -c rhoai-normalizer deployment/&lt;your RHDH deployment&gt;
oc logs -c storage-rest deployment/&lt;your RHDH deployment&gt;
oc logs -c location deployment/&lt;your RHDH deployment&gt;</pre></li></ol></div></section><section class="section" id="ref-openshift-ai-model-registry-and-model-catalog-queries_"><div class="titlepage"><div><div><h3 class="title">4.4. OpenShift AI model registry and model catalog queries</h3></div></div></div><p>
				To access the same RHOAI data as the connector, use <code class="literal">curl</code> to query the RHOAI model registry and model catalog APIs, ensuring the <code class="literal">ServiceAccount</code> token has correct access control:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						Example: Fetch registered models
					</p><pre class="programlisting language-bash">curl -k -H "Authorization: Bearer $TOKEN" $RHOAI_MODEL_REGISTRY_URL/api/model_registry/v1alpha3/registered_models | jq</pre></li><li class="listitem"><p class="simpara">
						Example: Fetch model versions
					</p><pre class="programlisting language-bash">curl -k -H "Authorization: Bearer $TOKEN" $RHOAI_MODEL_REGISTRY_URL/api/model_registry/v1alpha3/model_versions | jq</pre></li><li class="listitem"><p class="simpara">
						Example: Fetch model artifacts
					</p><pre class="programlisting language-bash">curl -k -H "Authorization: Bearer $TOKEN" $RHOAI_MODEL_REGISTRY_URL/api/model_registry/v1alpha3/model_artifacts | jq</pre></li><li class="listitem"><p class="simpara">
						Example: Fetch inference services
					</p><pre class="programlisting language-bash">curl -k -H "Authorization: Bearer $TOKEN" $RHOAI_MODEL_REGISTRY_URL/api/model_registry/v1alpha3/inference_services | jq</pre></li><li class="listitem"><p class="simpara">
						Example: Fetch serving environments
					</p><pre class="programlisting language-bash">curl -k -H "Authorization: Bearer $TOKEN" $RHOAI_MODEL_REGISTRY_URL/api/model_registry/v1alpha3/serving_environments | jq</pre></li><li class="listitem"><p class="simpara">
						Example: Fetch catalog sources
					</p><pre class="programlisting language-bash">curl -k -H "Authorization: Bearer $TOKEN" $RHOAI_MODEL_CATALOG_URL/api/model_catalog/v1alpha1/sources | jq</pre></li></ul></div></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm45833476836064"><h1 class="legalnotice">Legal Notice</h1><div class="para">
		Copyright <span class="trademark"/>© 2025 Red Hat, Inc.
	</div><div class="para">
		The text of and illustrations in this document are licensed by Red Hat under a Creative Commons Attribution–Share Alike 3.0 Unported license ("CC-BY-SA"). An explanation of CC-BY-SA is available at <a class="uri" href="http://creativecommons.org/licenses/by-sa/3.0/">http://creativecommons.org/licenses/by-sa/3.0/</a>. In accordance with CC-BY-SA, if you distribute this document or an adaptation of it, you must provide the URL for the original version.
	</div><div class="para">
		Red Hat, as the licensor of this document, waives the right to enforce, and agrees not to assert, Section 4d of CC-BY-SA to the fullest extent permitted by applicable law.
	</div><div class="para">
		Red Hat, Red Hat Enterprise Linux, the Shadowman logo, the Red Hat logo, JBoss, OpenShift, Fedora, the Infinity logo, and RHCE are trademarks of Red Hat, Inc., registered in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Linux</span>® is the registered trademark of Linus Torvalds in the United States and other countries.
	</div><div class="para">
		<span class="trademark">Java</span>® is a registered trademark of Oracle and/or its affiliates.
	</div><div class="para">
		<span class="trademark">XFS</span>® is a trademark of Silicon Graphics International Corp. or its subsidiaries in the United States and/or other countries.
	</div><div class="para">
		<span class="trademark">MySQL</span>® is a registered trademark of MySQL AB in the United States, the European Union and other countries.
	</div><div class="para">
		<span class="trademark">Node.js</span>® is an official trademark of Joyent. Red Hat is not formally related to or endorsed by the official Joyent Node.js open source or commercial project.
	</div><div class="para">
		The <span class="trademark">OpenStack</span>® Word Mark and OpenStack logo are either registered trademarks/service marks or trademarks/service marks of the OpenStack Foundation, in the United States and other countries and are used with the OpenStack Foundation's permission. We are not affiliated with, endorsed or sponsored by the OpenStack Foundation, or the OpenStack community.
	</div><div class="para">
		All other trademarks are the property of their respective owners.
	</div></div></div></section></div></div><script type="text/javascript">
                        jQuery(document).ready(function() {
                            initSwitchery();
                            jQuery('pre[class*="language-"]').each(function(i, block){hljs.highlightBlock(block);});
                        });
                    </script></body></html>