:_mod-docs-content-type: PROCEDURE

[id="proc-admin-enabling-metrics-ocp-helm_{context}"]
= Enabling metrics monitoring in a Helm chart installation on an {ocp-short} cluster

You can enable and view metrics for a {product} Helm deployment from the {ocp-short} web console. Metrics monitoring is enabled through configuration during a chart upgrade. After the upgrade, the Helm release generates the necessary `ServiceMonitor` resource.

.Prerequisites

* Your {ocp-short} cluster has {ocp-docs-link}/html-single/monitoring/index#enabling-monitoring-for-user-defined-projects[monitoring for user-defined projects] enabled.
* You have installed {product} on {ocp-short} using the Helm chart.

.Procedure

. From the {ocp-short} web console, select the *Topology* view.
. Click the overflow menu of the {product} Helm chart, and select *Upgrade*.
+
image::rhdh/helm-upgrade.png[]

. On the *Upgrade Helm Release* page, select the *YAML view* option in *Configure via*, then configure the `metrics` section in the YAML, as shown in the following example:
+
[source,yaml]
----
upstream:
# ...
  metrics:
    serviceMonitor:
      enabled: true
      path: /metrics
      port: http-metrics
# ...
----
+
image::rhdh/upgrade-helm-metrics.png[]

. Click *Upgrade*.

.Verification

. From the {ocp-short} web console, select the *Observe* view.
. Click the *Metrics* tab to view metrics for {product} pods.
