[id="proc-customizing-telemetry-segment-using-helm_{context}"]
= Customizing telemetry Segment source using the Helm Chart

You can configure a new Segment source or customize an existing one by using the Helm Chart.

.Procedure

. In the *Developer* perspective of the web console, go to the *Helm* view to see the list of Helm releases.
. Click the *overflow* menu on the Helm release that you want to use and select *Upgrade*.
. Use either the *Form* view or *YAML* view to edit the Helm configuration:
** Using *Form view*
+
.. Expand *Root Schema → Backstage Chart Schema → Backstage Parameters → Backstage container environment variables*.
.. Click the *Add Backstage container environment variables* link.
.. Enter the name and value of the Segment write key.
+
image::rhdh/segment-source-helm.png[]

.. Click *Upgrade*.

** Using *YAML view*
+
.. Add the following YAML code in your Helm configuration file to configure integration with your Segment source:
+
[source,yaml]
----
# ...
upstream:
  backstage:
    extraEnvVars:
      - name: SEGMENT_WRITE_KEY
        value: <segment_key> # <1>
# ...        
----
<1> `<segment_key>` denotes a unique identifier for your Segment source.

.. Click *Upgrade*.
