:_mod-docs-content-type: REFERENCE

[id="ref-extra-files-configuration-example"]
= Extra files configuration example

The following example mounts files and directories from three ConfigMaps (`cm1`, `cm2`, `cm3`) and two Secrets (`secret1`, `secret2`).
+
[source,yaml]
----
spec:
  application:
    extraFiles:
      mountPath: /my/path # Default mountPath for items without a specific path
      configMaps:
        - name: cm1 # Mounts all entries from cm1 to /my/path/
        - name: cm2
          key: file21.txt # Mounts only 'file21.txt'
          containers:
            - "*" # Targets all containers
        - name: cm3
          mountPath: /my/cm3/path # Mounts all entries as a directory
          containers:
            - backstage-backend
            - install-dynamic-plugins
      secrets:
        - name: secret1
          key: file3.txt # Must specify key and mountPath for Secrets
          mountPath: /my/secret1/path
          containers:
            - install-dynamic-plugins
        - name: secret2
          mountPath: /my/secret2/path # Mounts all secret keys as a directory
----

The following file paths are mounted inside the containers:
+
[source]
----
// Each file is mounted individually (related resources are watched by Operator):
/my/path/
  file11.txt - to backstage-backend container only
  file12.txt - to backstage-backend container only
  file21.txt - to all containers
  file3.txt - to install-dynamic-plugins container only
// Directory mounted (related resources are auto-updated):
/my/cm3/path/ - to backstage-backend and install-dynamic-plugins containers
  file31.txt 
  file32.txt 
/my/secret2/path/ - to backstage-backend container only
  file1 
  file2  
----