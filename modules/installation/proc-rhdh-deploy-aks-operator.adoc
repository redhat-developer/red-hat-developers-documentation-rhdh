// Module included in the following assemblies
// assembly-install-rhdh-aks.adoc

[id='proc-rhdh-deploy-aks-operator_{context}']
= Deploying {product-short} on {aks-short} with the Operator

You can install the {product-short} Operator on {aks-short} using the https://olm.operatorframework.io[Operator Lifecycle Manager (OLM) framework]. Following that, you can proceed to deploy your {product-short} instance in {aks-short}.

== Installing the {product-short} Operator

.Prerequisites

* You have cluster-scoped privileges.
* You have set the context to the {aks-short} cluster in your current `kubeconfig`. For more information, see https://learn.microsoft.com/en-us/azure/aks/learn/quick-kubernetes-deploy-cli#connect-to-the-cluster[Connect to the cluster].
* You have installed `kubectl`. For more information, see https://learn.microsoft.com/en-us/cli/azure/aks?view=azure-cli-latest#az-aks-install-cli[`az aks install-cli`].
* You have subscribed to `registry.redhat.io`. For more information, see https://access.redhat.com/RegistryAuthentication[{company-name} Container Registry Authentication].
* You installed the Operator Lifecycle Manager (OLM) framework. See link:https://olm.operatorframework.io/docs/[Operator Lifecycle Manager(OLM)].

.Procedure

// Procedure fragment on installing the operator using OLM on a non OCP cluster
include::./snip-install-rhdh-operator-olm.adoc[]

. Modify the default configuration of `db-statefulset.yaml` and `deployment.yaml` by adding the following fragment:
+
--
[source,yaml]
----
securityContext:
  fsGroup: 300
----

Following is the specified locations in the manifests:

[source,yaml]
----
db-statefulset.yaml: | spec.template.spec
deployment.yaml: | spec.template.spec
----
--


.. Save and exit.
+
The changes are automatically applied to the operator pods after a few minutes.
