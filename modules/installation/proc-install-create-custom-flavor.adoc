:_mod-docs-content-type: PROCEDURE

[id='proc-install-create-custom-flavor_{context}']
= Creating a custom flavor

A custom flavor is a new operator profile with a specific directory structure.
You can create a new flavor by following these steps:

.Procedure
. Create a dedicated directory for your flavor, following a standardized structure.
This structure helps the operator identify and process all the components of your flavor:
+
[source,terminal,subs="+quotes"]
----
flavors/
└── my-custom-flavor/
    ├── kustomize.yaml
    ├── config/
    │   ├── app-config.yaml
    │   └── plugins/
    │       └── my-plugin.yaml
    ├── resources/
    │   ├── dependencies.yaml
    │   └── catalog/
    │       └── entities.yaml
    └── hooks/
        ├── pre-install/
        │   └── job.yaml
        └── post-install/
            └── job.yaml
----
+
where

_kustomize.yaml_:: This is your flavor's manifest file that acts as the central definition, orchestrating the application of all other files in the directory.

_config/_:: Contains the core app-config.yaml for {product}, along with any plugin-specific configuration files.

_resources/_:: Holds additional Kubernetes resources your flavor needs.
This can include CRDs for dependencies or initial catalog entities to populate {product-very-short}.

_hooks/_:: Contains manifests for Kubernetes jobs that run before (pre-install) or after (post-install) the {product-very-short} instance is deployed.

. (Optional) If your flavor uses dynamic plugins that require specific Kubernetes resources, define these resources as YAML manifests in your `config/profile/{PROFILE}/plugin-deps` directory.

. (Optional) For dependencies that require operators or other infrastructure, specify them in the _plugin-infra_ directory.

. (Optional) Write Kubernetes job manifests for any pre-installation or post-installation tasks.
The Operator will execute these jobs and monitor their status.
