:_mod-docs-content-type: PROCEDURE

[id="proc-troubleshooting-connector-functionality_{context}"]
= Troubleshooting Connector functionality

The connector system consists of the two dynamic plugins and the three {openshift-ai-connector-name-short} sidecar containers. Generally speaking, the logs collected must be provided to {company-name} Support for analysis.

The actual contents of the diagnostic data are not part of any product guaranteed specification, and can change at any time.

[NOTE]
====
During startup, you may see non-critical log errors, such as `in cluster config error: open /var/run/secrets/kubernetes.io/serviceaccount/token: no such file or directory`, in the sidecar logs. This error is expected during the initial setup and do not indicate a failure, provided the container eventually becomes healthy.
====

== Checking Dynamic Plugins status

Validate that the dynamic plugins have been successfully installed into your {product-very-short} project Pod by using the following command:

[source,bash,subs=+attributes]
----
$ oc logs -c install-dynamic-plugins deployment/<your {product-very-short} deployment>
----

In the `install-dynamic-plugin` logs, you can check the following installation logs for successful logs:

* `red-hat-developer-hub-backstage-plugin-catalog-backend-module-model-catalog` (Entity Provider)
* `red-hat-developer-hub-backstage-plugin-catalog-techdoc-url-reader-backend` (TechDoc URL Reader)

== Inspecting plugin logs

View the {openshift-ai-connector-name} plugins in the `backstage-backend` container. Items to look for:

[cols="3,4,4"]
|===
|Plugin Component |Logger Service Target |Common Log Text

|Model Catalog Entity Provider
|`ModelCatalogResourceEntityProvider`
|`Discovering ResourceEntities from Model Server...`

|Model Catalog TechDoc URL Reader
|`ModelCatalogBridgeTechdocUrlReader`
|`ModelCatalogBridgeTechdocUrlReader.readUrl`
|===

To enable debug logging, set the `LOG_LEVEL` environment variable to `debug` on the `backstage-backend` container. For more information, see {monitoring-and-logging-book-link}[{monitoring-and-logging-book-title}].

== Inspecting the {openshift-ai-connector-name-short}

The {openshift-ai-connector-name-short} sidecars manage the data fetching and storage:

. Check Cached Data (ConfigMap): The processed AI Model metadata is stored in a `ConfigMap`.
+
[source,bash]
----
$ oc get configmap bac-import-model -o json | jq -r '.binaryData | to_entries[] | "=== \(.key) ===\n" + (.value | @base64d | fromjson | .body | @base64d | fromjson | tostring)' | jq -R 'if startswith("=== ") then . else (. | fromjson) end'
----

. Check Location Service API: Confirm the location service is providing data to the {product-very-short} Entity Provider.
+
[source,bash,subs=+attributes]
----
$ oc rsh -c backstage-backend deployment/<your {product-very-short} deployment>
$ curl http://localhost:9090/list
----

. Check Sidecar Container Logs:
+
[source,bash]
----
$ oc logs -c rhoai-normalizer deployment/<your {product-very-short} deployment>
$ oc logs -c storage-rest deployment/<your {product-very-short} deployment>
$ oc logs -c location deployment/<your {product-very-short} deployment>
----