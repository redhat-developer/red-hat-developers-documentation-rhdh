:_mod-docs-content-type: PROCEDURE
[id="proc-techdocs-configure-odf-helm_{context}"]
= Making object storage accessible to containers by using the Helm chart

Creating a `ObjectBucketClaim` custom resource (CR) automatically generates both the {product-short} `ObjectBucketClaim` config map and secret. The config map and secret contain `ObjectBucket` access information. Adding the access information to the Helm chart configuration makes it accessible to the {product-short} container by adding the following environment variables to the container:

* `BUCKET_NAME`
* `BUCKET_HOST`
* `BUCKET_PORT`
* `BUCKET_REGION`
* `BUCKET_SUBREGION`
* `AWS_ACCESS_KEY_ID`
* `AWS_SECRET_ACCESS_KEY`

These variables are then used in the TechDocs plugin configuration.

.Prerequisites

* You have installed {product} on {ocp-short} using the Helm chart.
* You have created an `ObjectBucketClaim` CR for storing files generated by TechDocs. For more information see xref:proc-techdocs-using-odf-storage_{context}[Using {odf-name} for file storage]

.Procedure

* In the `upstream.backstage` key in the Helm chart values, enter the name of the {product-short} `ObjectBucketClaim` secret as the value for the `extraEnvVarsSecrets` field and the `extraEnvVarsCM` field. For example:
+
[source,yaml]
----
upstream:
  backstage:
    extraEnvVarsSecrets:
      - <rhdh_bucket_claim_name>
    extraEnvVarsCM:
      - <rhdh_bucket_claim_name>
----
