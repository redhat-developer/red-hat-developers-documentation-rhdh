:_mod-docs-content-type: PROCEDURE

[id="proc-troubleshooting-the-pipelines_{context}"]
= Troubleshooting workflow deployments

Identify and resolve issues related to plugin visibility, pipeline execution, or resource synchronization.

. Visibility issues

Missing Orchestrator plugin:: If Orchestrator features do not appear in {product-very-short}, make sure you have updated the {product-very-short} Helm chart with the required plugins.

Software templates not appearing:: Make sure the `orchestrator-software-templates` chart is installed and the `orchestrator-auth-secret` exists in the correct namespace.

. Pipeline failure (CI)

GitHub or GitLab actions failure:: The GitOps automation includes a GitHub Action or GitLab CI step that creates a `PipelineRun` manifest from a `PipelineRun` template. Examine the failed GitHub or GitLab actions logs. Failures often occur due to invalid Git credentials or misconfigured runner permissions. You can also create the `PipelineRun` file manually to bypass automation issues.

Build or push issues:: Check the *CI* tab in the {product-very-short} Catalog.
+
If {product-very-short} does not display the status, use the {ocp-short} console to monitor pipeline instances and triggered jobs. Navigate to *Pipelines* > *PipelineRuns* for detailed logs.
+
If the Tekton pipeline fails during the build or push stages:

* Verify that your `Quay.io` robot account has *Write* permissions.

* Ensure the `docker-registry-credentials` secret exists in the `rhdh` namespace.

. Resource visibility and Sync issues (CD)

Pipeline succeeds but workflows are missing:: If the CI pipeline succeeds but the workflow does not appear in the *CD* tab:

* Make sure the target namespace is labeled for Argo CD:
+
[source,terminal,subs="+quotes"]
----
$ oc label ns _<target_namespace>_ rhdh.redhat.com/argocd-namespace=true
----

* Make sure the ArgoCD ServiceAccount has the required permissions to manage resources in the `rhdh` namespace.

Argo CD sync failure:: If resources appear but remain in an `OutOfSync` state, click *Refresh* in the Argo CD UI or verify that the *AppProject* exists in the `orchestrator-gitops` namespace.

PostgreSQL authentication failures in Argo CD:: If the Orchestrator fails to connect to the PostgreSQL database when you deploy by using Argo CD, the failure is often due to a mismatch in password generation.
+
The Orchestrator Helm chart uses the Helm `lookup` function to check for an existing PostgreSQL secret. Because Argo CD uses `helm template` to render manifests, it cannot query the live cluster. Consequently, the chart generates a new, random password instead of retrieving the existing one, resulting in an authentication failure.
+
To resolve this failure, you must complete the following steps:

.. Create the database secret manually with the correct credentials:
+
[source,bash,subs=+attributes]
----
$ kubectl create secret generic <backstage-postgresql-svcbind-postgres> --from-literal=password=<your_password>
----

.. Update your Helm configuration (for example, in `values.yaml`) to disable automatic service binding generation:
+
[source,yaml]
----
upstream:
  postgresql:
    serviceBindings:
      enabled: false
    auth:
      username: postgres
      database: backstage
      existingSecret: backstage-postgresql-svcbind-postgres
      secretKeys:
        adminPasswordKey: password
        userPasswordKey: password
----

.. Sync the application in Argo CD to apply the changes.