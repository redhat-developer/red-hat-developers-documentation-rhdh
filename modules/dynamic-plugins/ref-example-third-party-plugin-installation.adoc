[id="ref-example-third-party-plugin-installation_{context}"]
= Example of installing a third-party plugin in {product}

This section provides step-by-step instructions for integrating the link:https://github.com/backstage/community-plugins/tree/main/workspaces/todo/plugins[Todo plugin] into your {product-short}.

. *Obtain the third-party plugin source code*: Clone the plugins repository and navigate to the link:https://github.com/backstage/community-plugins/tree/main/workspaces/todo/plugins[Todo plugin] directory:
+
--
.Example commands to obtain the third-party plugin source code
[source,bash]
----
$ git clone https://github.com/backstage/community-plugins
$ cd community-plugins/workspaces/todo
$ yarn install
----
--

. *Export backend and front-end plugins*: Run the following commands to build the backend plugin, adjust package dependencies for dynamic loading, and generate self-contained configuration schema:
+
--
.Example commands to export a backend plugin
[source,bash]
----
$ cd todo-backend
$ npx @janus-idp/cli@latest package export-dynamic-plugin
----

You can run the following commands to set default dynamic UI configurations, create front-end plugin assets, and to generate a configuration schema for a front-end plugin:

.Example command to export a front-end plugin
[source,bash]
----
$ cd ../todo
$ npx @janus-idp/cli@latest package export-dynamic-plugin
----
--

. *Package and publish a third-party plugin*: Run the following commands to navigate to the workspace directory and package the dynamic plugin to build the OCI image:
+
--
.Example commands to build an OCI image
[source,bash]
----
$ cd ../..
$ npx @janus-idp/cli@latest package package-dynamic-plugins --tag quay.io/user/backstage-community-plugin-todo:v0.1.1
----

.Example command to push the OCI image to a container registry:
[source,bash]
----
$ podman push quay.io/user/backstage-community-plugin-todo:v0.1.1
----
--

. *Install and configure the third-party plugin*: Add the following plugin definitions to your `dynamic-plugins.yaml` file:
+
--
.Example plugin definitions in `dynamic-plugins.yaml` file
[source,yaml]
----
packages:
 - package: oci://quay.io/user/backstage-community-plugin-todo:v0.1.1!backstage-community-plugin-todo
   pluginConfig:
     dynamicPlugins:
       frontend:
         backstage-community.plugin-todo:
           mountPoints:
             - mountPoint: entity.page.todo/cards
               importName: EntityTodoContent
           entityTabs:
             - path: /todo
               title: Todo
               mountPoint: entity.page.todo
 - package: oci://quay.io/user/backstage-community-plugin-todo:v0.1.1!backstage-community-plugin-todo-backend-dynamic
   disabled: false
----
--