:_content-type: REFERENCE
[id="fixed-issues"]
= Fixed issues

This section lists issues fixed in {product} {product-version}.

== Fixed issues in 1.3.3

[id="bug-fix-rhidp-5180"]
=== Opting out of using Redis sets does not work

Before this update, configuring the `useRedisSets: false` option resulted in the `useRedisSets: true` behaviour. 

With this update, you can now opt out of using Redis sets.  It is recommended to clear your cache in order to remove any invalid keys.  


.Additional resources
* link:https://issues.redhat.com/browse/RHIDP-5180[RHIDP-5180]

== Fixed issues in 1.3.2

[id="bug-fix-rhidp-5121"]
=== Impossible to report a documentation issue from selected documentation content

Previously, the feature to report a documentation (techdoc) issue didn&#39;t work. When the user selected a text in the documentation, it showed a huge icon rather than a tooltip button.

With this update, the user can select content in the documentation, and click the tooltip button to report a documentation issue.



.Additional resources
* link:https://issues.redhat.com/browse/RHIDP-5121[RHIDP-5121]

== Fixed issues in 1.3.1

[id="bug-fix-rhidp-4069"]
=== Conditional alias `$ownerRefs` does not work

Before this update, a conditional alias that uses `$ownerRefs` did not work.

With this update, a conditional alias can use `$ownerRefs`.


.Additional resources
* link:https://issues.redhat.com/browse/RHIDP-4069[RHIDP-4069]

== Fixed issues in 1.3

[id="bug-fix-rhidp-1334"]
=== Removed unnecessary pull secret from the {product} Helm Chart

With this update, the {product} Helm Chart does not contain a pull secret that is no longer needed.


.Additional resources
* link:https://issues.redhat.com/browse/RHIDP-1334[RHIDP-1334]


[id="bug-fix-rhidp-2139"]
=== Filtering for permissions policies that do not exist leads to an error being thrown

Before this update, permission checks by the permission framework would throw an error if a matching permission policy was not previously defined.
Therefore, {product-short} denied the request with an error.

With this update, {product-short} denies the request without throwing an error.


.Additional resources
* link:https://issues.redhat.com/browse/RHIDP-2139[RHIDP-2139]


[id="bug-fix-rhidp-2412"]
=== HTTP error code 431 when an user is member of many groups

Before this update, {product-short} API became unresponsive when a user was member of a high number of groups (more than 150) with aggregated relations.
Therefore, the user might have failed to authenticate.
Also, {product-short} might have shown an error when opening the user entity in the UI.

With this update, {product-short} can handle a user member of a high number of groups (more than 150) with aggregated relations.


.Additional resources
* link:https://issues.redhat.com/browse/RHIDP-2412[RHIDP-2412]


[id="bug-fix-rhidp-2438"]
=== OCM calls are not scoped to the OCM page

Before this update, when the OCM plugin is installed, navigating to non-OCM pages triggered unnecessary failed OCM API calls.

With this update, {product-short} restricts OCM API calls to OCM-related pages.


.Additional resources
* link:https://issues.redhat.com/browse/RHIDP-2438[RHIDP-2438]


[id="bug-fix-rhidp-2529"]
=== When login using azure entra sso, it will use id to match the user entity, which will fail to match with user entity imported by msgraph.

Before this update, {product-short} failed to resolve user entities with Azure authentication provider to entities ingested by the  MsGraph catalog provider.
Therefore, a user authentication with Microsoft Azure could not open a session in {product-short}.

With this update, {product-short} resolves user entities with Azure authentication provider to entities ingested by the MsGraph catalog provider.
Therefore, a user authentication with Microsoft Azure can open a session in {product-short}.


.Additional resources
* link:https://issues.redhat.com/browse/RHIDP-2529[RHIDP-2529]


[id="bug-fix-rhidp-2716"]
=== Replaced the deprecated `backend.auth.keys` field in the default configuration

Before this update, in a {product-short} deployment with the default configuration, the application logs displayed the deprecation warning.

With this update, the default `upstream.backstage.appConfig` configuration uses the `backend.auth.externalAccess` field rather than the deprecated `backend.auth.keys` field. 



.Additional resources
* link:https://issues.redhat.com/browse/RHIDP-2716[RHIDP-2716]


[id="bug-fix-rhidp-2728"]
=== Handle PII logging in Application Logs

With this update, {product-short} does not include user IP addresses in the application logs.


.Additional resources
* link:https://issues.redhat.com/browse/RHIDP-2728[RHIDP-2728]


[id="bug-fix-rhidp-3159"]
=== The last ~10 GitHub Pull Requests are missing from the list

Before this update, {product-short} ignored GitHub search API restrictions to list pull requests.
Therefore, {product-short} might have not displayed all pull requests.

With this update, {product-short} limits paging to max 1000 results to respect GitHub search API restrictions.
{product-short} show users when additional results are available, suggesting in a tooltip that they can refine their query to retrieve more specific results.


.Additional resources
* link:https://issues.redhat.com/browse/RHIDP-3159[RHIDP-3159]


[id="bug-fix-rhidp-3217"]
=== rhtap installation always failed at RHDH due to Migration table is already locked

Before this update, after updating a config map or a secret, when pods where restarting to apply the changes, they might have tried to simultaneous lock the database.
The situation ended with a dead lock.

With this update, {product-short} handles simultaneous pod refreshing without a dead lock.


.Additional resources
* link:https://issues.redhat.com/browse/RHIDP-3217[RHIDP-3217]


[id="bug-fix-rhidp-3260"]
=== Renamed optional secret dynamic-plugins-npmrc in helm chart

Before this update, the Helm Chart was using an unversioned name for the dynamic-plugins-npmrc secret.
Therefore subsequent Helm deployments of the RHDH Helm Chart version 1.2.1 failed after the first deployment with an error that a secret named dynamic-plugins-npmrc exists and is not owned by the current release.

With this update, the Helm Chart creates and uses a dynamic-plugins-npmrc secret that is named in line with the other resources managed by the Helm Chart: `_&lt;release-name&gt;_-dynamic-plugins-npmrc`.
As a result, the Helm Chart does not fail on the previous error.


.Additional resources
* link:https://issues.redhat.com/browse/RHIDP-3260[RHIDP-3260]


[id="bug-fix-rhidp-3458"]
=== Backstage Specific Metrics no longer appear in /metrics endpoint

Before this update, {product-short} stopped displaying some metrics such as catalog metrics in the `__&lt;RHDH_URL&gt;__/metrics` endpoint.

With this update, {product-short} displays expected metrics in the /metrics endpoint.


.Additional resources
* link:https://issues.redhat.com/browse/RHIDP-3458[RHIDP-3458]


[id="bug-fix-rhidp-3471"]
=== Theme issues with plugins using material 5

Before this update, {product-short} had theme issues with plugins using Material UI (MUI) 5.

With this update, {product-short} includes additional MUI 5 related packages, added to the application shell as shared modules.
Therefore, dynamic plugins that use MUI 5 components and tss-react can properly load the currently selected theme.
This ensures that MUI 5 components have the correct colors and styling applied to them.

While not strictly a requirement, if a dynamic plugin relies on MUI 5 components with a class name prefix, that behavior can be added to a frontend dynamic plugin by adding the following code to the plugin&#39;s index.ts:

----
import { unstable_ClassNameGenerator as ClassNameGenerator } from &#39;@mui/material/className&#39;;

ClassNameGenerator.configure(componentName =&gt; {
  return componentName.startsWith(&#39;v5-&#39;)
    ? componentName
    : `v5-${componentName}`;
})
----

This update requires using a version of the @janus-idp/cli package &gt; 1.13.1.


.Additional resources
* link:https://issues.redhat.com/browse/RHIDP-3471[RHIDP-3471]


[id="bug-fix-rhidp-3580"]
=== Creating RBAC role with name that contains &#39;:&#39; or &#39;/&#39; creates a role that does nothing and cannot be deleted

Before this update, creating an RBAC role with name that contains &#39;:&#39; or &#39;/&#39; through the REST API (or RBAC admin panel in the UI) created a role that did nothing and could not be deleted.
Although the name of the role showed up in full as written in the POST request, when clicked on for more information about the role it showed only the part of the name written before the first &#39;:&#39; or &#39;/&#39;.
Also while the list of RBAC roles did list how many policies were added to the role, when clicking on the role for more information it displayed no users or policies.


With this udpate, {product-short} validates more strictly role and namespace names in accordance with backstage validation:

{product-short} invalidates role names that do not conform with the format:

- Strings of length at least 1, and at most 63.
- Must consist of sequences of `[a-z0-9A-Z]` possibly separated by one of `[-_.]`.

{product-short} invalidates namespaces that do not conform with the format:

- Strings of length at least 1, and at most 63.
- Must be sequences of `[a-zA-Z0-9]`, possibly separated by `-`.


.Additional resources
* link:https://issues.redhat.com/browse/RHIDP-3580[RHIDP-3580]


[id="bug-fix-rhidp-3601"]
=== Update contitional policies and policies loaded from files when these files are deleted

Before this update, conditional policies and policies loaded from files remained active after the corresponding policy files were removed from the configuration.

With this update, conditional policies and policies loaded from files are removed after the corresponding policy files are removed from the configuration.


.Additional resources
* link:https://issues.redhat.com/browse/RHIDP-3601[RHIDP-3601]


[id="bug-fix-rhidp-3612"]
=== Fixed the timestamp inserted by `catalog:timestamping`

Before this update, the timestamp in the `catalog-info.yaml` created by the `catalog:timestamping` action by the `backstage-scaffolder-backend-module-annotator` plugin was different from the execution time of the template.

With this update,  a unique timestamp is generated on each execution of the template.


.Additional resources
* link:https://issues.redhat.com/browse/RHIDP-3612[RHIDP-3612]


[id="bug-fix-rhidp-3735"]
=== Added missing virtual machine details to the sidebar

Before this update, when a user displayed the virtual machine details in the sidebar, the icon corresponding to virtual machine was not shown.

With this update, the missing icons have been added.
Therefore,  when a user displays the virtual machine details in the sidebar, an icon shows the virtual machine status.


.Additional resources
* link:https://issues.redhat.com/browse/RHIDP-3735[RHIDP-3735]


[id="bug-fix-rhidp-3896"]
=== Authenticate with GitHub a user absent in the software catalog when `dangerouslyAllowSignInWithoutUserInCatalog` is set to true

Before this update, authentication with Github failed when the `dangerouslyAllowSignInWithoutUserInCatalog` field was set to true and the user was absent from the software catalog.

With this update, when the `dangerouslyAllowSignInWithoutUserInCatalog` field is set to true, you can authenticate to {product-short} with a user absent from the software catalog.


.Additional resources
* link:https://issues.redhat.com/browse/RHIDP-3896[RHIDP-3896]


[id="bug-fix-rhidp-4013"]
=== The {product-short} image defined in the custom resource takes precedence on the image defined in the environment variable

Before this update, when the {product-short} image was configured in both the custom resource and in the  &#39;RELATED_IMAGE_backstage&#39; environment variable, the image defined in the custom resource was not used. 

With this update, the custom resource configuration takes precedence and is applied.



.Additional resources
* link:https://issues.redhat.com/browse/RHIDP-4013[RHIDP-4013]


[id="bug-fix-rhidp-4046"]
=== Updated the search dropdown to display results for a large number of users or groups

Before this update, in the RBAC administration page, the members dropdown was not able to load a large number of users or groups.
Therefore, the {product-short} administrator was not able to select required users or groups to add to the role. 

With this update, the dropdown displays initially up to 100 users or groups shown and updates the display once the user starts to search. The search happens across the whole data-set and displays the first 100 results. The user must refine their search to narrow the results to a list containing  the desired user or group.
Therefore, even with larger numbers or users/groups, the {product-short} administrator can add required users or groups to the role.


.Additional resources
* link:https://issues.redhat.com/browse/RHIDP-4046[RHIDP-4046]


[id="bug-fix-rhidp-4200"]
=== Bundled ArgoCD plugin with dynamic frontent assets

Before this update, the ArgoCD plugin was bundled with dynamic backend plugin assets rather than dynamic frontend plugin assets.
Therefore the ArgoCD plugin failed to load.

With this update, the ArgoCD plugin is bundled with dynamic frontend plugin assets.
Therefore the ArgoCD plugin can load properly.


.Additional resources
* link:https://issues.redhat.com/browse/RHIDP-4200[RHIDP-4200]

== Fixed issues in 1.2.2

[id="bug-fix-rhidp-2374"]
=== Added missing plugin name in the RBAC administration interface

Before this update, the RBAC administration user interface *Permission Policies*  table did not display the plugin name.

With this update, the RBAC administration user interface *Permission Policies* table displays the plugin name.


.Additional resources
* link:https://issues.redhat.com/browse/RHIDP-2374[RHIDP-2374]



