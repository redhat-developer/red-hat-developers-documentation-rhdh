:_content-type: REFERENCE
[id="new-features"]
= New features

This section highlights new features in {product} {product-version}.

[id="feature-rhidp-2232"]
== Customizing the deployment by using the custom resource

With this update, when deploying {product} by using the operator, you can configure the {product-short} Deployment resource.
The {product-short} Operator Custom Resource Definition (CRD) API Version has been updated to `rhdh.redhat.com/v1alpha2`.
This CRD exposes a generic `spec.deployment.patch` field, which allows you to patch the {product-short} Deployment resource.


[id="feature-rhidp-2341"]
== Using nested conditions in RBAC conditional policies

With this update, as a {product-short} administrator, you can create and edit nested conditions in RBAC conditional policies by using the {product-short} web UI. 

[id="enhancement-rhidp-2615"]
== Persisting the audit log

With this update, you can persist the audit log:

* You can send {product} audit logs to a rotating file. 

* You can send logs to a locked down file with append only rights.

* When using the Helm chart, {product-short} writes logs to persistent volumes.


[id="feature-rhidp-2643"]
== Allow Dynamic Configuration of Keycloak User/Group Transformers

With this update, you can provide transformer functions for users and groups to mutate entity parameters from Keycloak before their ingestion into the catalog. This can be done by creating a new backend module and using the added keycloakTransformerExtensionPoint.

[id="feature-rhidp-2644"]
== Expose extension points for the keycloak-backend plugin

With this update, you can provide transformer functions for user/group to mutate the entity from Keycloak before their ingestion into the catalog with the new Backstage backend.

.Procedure 
. Create a backend module.
. Provide the custom transformers to the `keycloakTransformerExtensionPoint` extension point exported by the package.

[id="enhancement-rhidp-2695"]
== All public endpoints in core and plugins have OpenAPI specs

With this update, OpenAPI Specs are available for all components, including the rbac-backend plugin.

[id="enhancement-rhidp-2723"]
== RBAC Backend plugin module support

With this update, {product-short} can load roles and permissions into the RBAC Backend plugin through the use of extension points with the help of a plugin module.

[id="enhancement-rhidp-2736"]
== Force catalog ingestion for production users

By default, it is now required for the user entity to exist in the software catalog to allow sign in. 
This is required for production ready deployments since identities need to exist and originate from a trusted source (i.e. the Identity Provider) in order for security controls such as RBAC and Audit logging to be effective. 
To bypass this, enable the `dangerouslySignInWithoutUserInCatalog` configuration that allows sign in without the user being in the catalog.
Enabling this option is dangerous as it might allow unauthorized users to gain access.

[id="enhancement-rhidp-2768"]
== RBAC UI enhancements

With this update, the RBAC UI has been improved:

* The **Create role** form and the **Role** overview page display the total number of conditional rules configured. 
* The **Role** list page displays accessible plugins.


[id="enhancement-rhidp-2790"]
== Updated Backstage version

With this update, Backstage was updated to version {product-backstage-version}.

.Additional resources:
* link:https://github.com/backstage/backstage/releases/tag/v1.27.0[Backstage 1.27 release notes] 
* link:https://github.com/backstage/backstage/blob/v1.27.0/docs/releases/v1.27.0-changelog.md[Backstage 1.27 changelog]
* link:https://github.com/backstage/backstage/releases/tag/v1.28.0[Backstage 1.28 release notes] 
* link:https://github.com/backstage/backstage/blob/v1.28.0/docs/releases/v1.28.0-changelog.md[Backstage 1.28 changelog]
* link:https://github.com/backstage/backstage/releases/tag/v1.29.0[Backstage 1.29 release notes] 
* link:https://github.com/backstage/backstage/blob/v1.29.2/docs/releases/v1.29.0-changelog.md[Backstage 1.29 changelog]
* link:https://issues.redhat.com/browse/RHIDP-2794[RHIDP-2794]
* link:https://issues.redhat.com/browse/RHIDP-2847[RHIDP-2847]
* link:https://issues.redhat.com/browse/RHIDP-2796[RHIDP-2796]

[id="enhancement-rhidp-2818"]
== Authenticating with Microsoft Azure

The Microsoft Azure Authentication provider is now enterprise ready.
To enable this, enhancements and bug fixes were made to improve the authentication and entity ingestion process.
Note, the existence of user entity in the catalog is now enforced.

[id="feature-rhidp-2865"]
== Deploying on OpenShift Dedicated on Google Cloud Provider (GCP) 

Before this update, there was no automated process to deploy {product-short} on OpenShift Dedicated (OSD) on Google Cloud Platform (GCP).

With this update, you can link:https://docs.redhat.com/en/documentation/red_hat_developer_hub/1.3/html-single/installing_red_hat_developer_hub_on_openshift_dedicated_on_google_cloud_platform/index[install {product} on OpenShift Dedicated (OSD) on Google Cloud Platform (GCP)] by using either Red Hat Developer Hub Operator or Red Hat Developer Hub Helm Chart.


[id="feature-rhidp-2888"]
== Visualize Virtual Machine nodes on the Topology plugin

With this update, you can visualize the Virtual Machine nodes deployed on the cluster through the Topology plugin.

[id="feature-rhidp-2907"]
== Customizing the Home page

With this update, you can customize the Home page in {product} by passing the data into the `app-config.yaml` file as a proxy. It is now possible to add, reorganize, and remove cards, including the search bar, quick access, headline, markdown, placeholder, catalog starred entities and featured docs that appear based on the plugins you have installed and enabled.


[id="enhancement-rhidp-3064"]
== Customizing the main navigation sidebar

This update introduces a configurable and customizable main navigation sidebar in {product-short}, offering administrators greater control over the navigation structure. Previously, the sidebar was hard-coded with limited flexibility, and dynamic plugins could only contribute menu items without control over their order or structure.

With this feature, administrators can now configure the order of navigation items, create nested sub-navigation, and provide users with a more organized and intuitive interface. This enhancement improves user experience and efficiency by allowing a more tailored navigation setup.

Backward compatibility is maintained, ensuring existing dynamic plugin menu item contributions remain functional. A default configuration is provided, along with example configurations, including one with an external dynamic plugin. Documentation has been updated to guide developers on customizing the navigation.

[id="enhancement-rhidp-3125"]
== Surfacing Catalog Processing Errors to Users

With this update, the `@backstage/plugin-catalog-backend-module-logs` plugin has been made available as a dynamic plugin to help surface catalog errors into the logs. This dynamic plugin is disabled by default.

[id="feature-rhidp-3177"]
== Configuring conditional policies by using external files

With this release, you can configure conditional policies in {product-short} using external files.
Additionally, {product-short} supports conditional policy aliases, which are dynamically substituted with the appropriate values during policy evaluation.

For more information, see link:{authorization-book-url}#con-rbac-conditional-policies-rhdh_title-authorization[Configuring conditional policies].

[id="feature-rhidp-3569"]
== Restarting {product} faster

Before this update, it took a long time for {product-short} to restart because {product-short} bootstraps all dynamic plugins from zero with every restart. 

With this update, {product-short} is using persisted volumes for the dynamic plugins.
Therefore, {product-short} restarts faster.

[id="feature-rhidp-3666"]
== Monitoring active users on Developer Hub 

With this update, you can monitor active users on Developer Hub using the `licensed-users-info-backend` plugin. This plugin provides statistical data on logged-in users through the Web UI or REST API endpoints.

For more information, see link:{authorization-book-url}[{authorization-book-title}].

[id="enhancement-rhidp-3826"]
== Loading a custom Backstage theme from a dynamic plugin

With this update, you can load a custom Backstage theme from a dynamic plugin.

.Procedure

. Export a theme provider function in the dynamic plugin, such as:
+
[source,javascript]
----
import { lightTheme } from &#39;./lightTheme&#39;; // some custom theme
import { UnifiedThemeProvider } from &#39;@backstage/theme&#39;;
export const lightThemeProvider = ({ children }: { children: ReactNode }) =&gt; (
  &lt;UnifiedThemeProvider theme={lightTheme} children={children} /&gt;
);
----

. Configure {product-short} to load the them in the UI by using the new `themes` configuration field:
+
[source,yaml]
----
dynamicPlugins:
  frontend:
    example.my-custom-theme-plugin:
      themes:
        - id: light # &lt;1&gt;
          title: Light
          variant: light
          icon: someIconReference
          importName: lightThemeProvider
----
&lt;1&gt; Set your theme id. Optionally, override the default Developer Hub themes specifying following id value: `light` overrides the default light theme and `dark` overrides the default dark theme.

.Verification

* The theme is available in the &#34;Settings&#34; page.


This update also introduced the ability to override core API service factories from a dynamic plugin, which can be helpful for more specialized use cases such as providing a custom ScmAuth configuration for the {product-short} frontend.



