[id='con-relnotes-fixed-issues_{context}']
= Fixed issues

This section lists fixed issues with {product} {product-version}:

Dynamic plugins fail to load after update to Backstage 1.25::
+
--
An upstream security fix introduced in Backstage 1.25 required authentication tokens for all backend endpoints, including static assets used by dynamic plugins.

As a result of this fix, users could not access dynamic plugin UI elements, leading to a degraded user experience and decreased functionality within the application.

In this release, the security requirement for dynamic plugin static assets has been removed, which restores access to dynamic plugin UI elements.

With this fix, users can view and interact with dynamic plugin UI elements, resulting in improved usability and functionality within the application. 
//link:{LinkRHIDPIssue}RHIDP-2044[RHIDP-2044]
--

API throwing error upon adding conditions for scaffolder-action resource-type::
+
--
In earlier versions of {product}, defining conditional policies with a policy action of `use` would result in an error.

This issue led to difficulties in defining conditional policies, hindering the configuration of permissions within the application.

With this fix, you can now define conditional policies in {product-short} with permission policy actions of `use`. 
//link:{LinkRHIDPIssue}RHIDP-2237[RHIDP-2237]
--

Setting a custom route not working when using the {product-short} Operator on OpenShift::
+
--
In earlier versions of the {product} Operator, setting a custom Route host on OpenShift Container Platform by using the `spec.application.route.host` field in the Custom Resource was not possible.

This limitation prevented users from configuring custom route hosts, limiting their ability to customize the deployment environment.

With this release, you can now set a custom route host on {ocp-short} by using the specified field in the Custom Resource.
//link:{LinkRHIDPIssue}RHIDP-2325[RHIDP-2325]
--

Mounting a secret/configmap with a '.' in its name::
+
--
In earlier versions of the {product} Operator, it was not possible to reference a ConfigMap or Secret object in the Custom Resource if that object contained a dot (`.`) character in its name. 

This issue prevented the {product} instance from starting correctly.

With this update, this issue is fixed. 
//link:{LinkRHIDPIssue}RHIDP-2246[RHIDP-2246]
--

Upgrading {product-short} Operator from 1.1 to 1.2 causes an existing instance to use a new empty database::
+
--
When upgrading the {product} Operator from version 1.1 to 1.2 with an already-running operator-backed instance of {product-short}, the instance was configured to use a new empty local database pod and volume. 

The existing database data was retained but this misconfiguration caused the existing {product-short} instance to use a new empty local database pod and volume, resulting in data redundancy and potential data inconsistency issues.

This update ensures that an existing {product-short} instance continues to use the existing local database when the Operator is upgraded to a newer version. 
//link:{LinkRHIDPIssue}RHIDP-2434[RHIDP-2432]
--

UI pod stays 'Pending' when using the operator::
+
--
In earlier versions of {product}, the {product-short} pod created by the (product-short) Operator may not be scheduled on some clusters due to missing resource requests.

This issue resulted in the {product-short} application being unavailable as the pods could not be scheduled properly.

This update adds CPU and memory requests to the default configuration of the Operator, ensuring that {product-short} pods have the necessary resource requests specified.

With this fix, {product-short} pods can now be scheduled and started properly on all clusters, ensuring the availability of the {product} application. 
//link:{LinkRHIDPIssue}RHIDP-2159[RHIDP-2159]
--

Allow specifying image pull secrets in custom resource for the database::
+
--
In earlier versions of the {product} operator, specifying image pull secrets to pull container images from repositories such as `registry.redhat.io` did not affect the database image. This limitation prevented the use of a database image from `registry.redhat.io`` when deploying {product-short} in Kubernetes clusters like Amazon EKS or Azure AKS.

As a result, users were unable to deploy the database image from `registry.redhat.io` in Kubernetes clusters, limiting deployment flexibility and compatibility.

This update fixes the issue by propagating the image pull secrets specified in the `spec.application.imagePullSecrets` Custom Resource field. You can now use these secrets can for both the {product-short} and database images.

With this fix, users can successfully use image pull secrets for both the {product-short} and database images, allowing deployments from repositories such as `registry.redhat.io` in Kubernetes clusters like Amazon EKS or Azure AKS. This ensures greater deployment flexibility and compatibility across different environments. 
//link:{LinkRHIDPIssue}RHIDP-1484[RHIDP-1484]
--

RBAC tab is visible when RBAC plugin is disabled::
+
--
In earlier versions of {product} When the Role-Based Access Control (RBAC) plugin is disabled, the RBAC tab remained visible bwhen the RBAC plugin was disabled.

This update ensures that the RBAC tab is hidden when the RBAC plugin is disabled.

With this fix, the RBAC tab is no longer visible when the RBAC plugin is disabled, resulting in a cleaner and more intuitive user interface. 
//link:{LinkRHIDPIssue}RHIDP-1449[RHIDP-1449]
--

Show configure access button for previously created simple permission policies in edit form::
+
--
In previous versions, when a user creates simple permission policies and later returns to edit the role, the *Configure Access* button does not appear.

As a result, the user cannot add conditional permission policies to roles that were created with simple permission policies, limiting the ability to update and refine access controls.

In this release, the role form has been updated to display the *Configure Access* button for previously created simple permission policies for plugins and resource types that support conditions. This fix allows users to add and save new conditional policies. 
//link:{LinkRHIDPIssue}RHIDP-2346[RHIDP-2346]
--

Conflicting Condition Action Sets::
+
--
In previous versions, the Condition API allowed storing multiple conditions with conflicting action sets.

This issue could lead to inconsistencies and conflicts in permission handling, potentially causing unexpected behavior in the application.

In this release, the Condition API has been updated to prevent storing multiple conditions with conflicting action sets. 
//link:{LinkRHIDPIssue}RHIDP-2322[RHIDP-2322]
--

RBAC backend admin metadata and policies removal::
+
--
Previously, when admins were removed from the configuration, their associated admin metadata and policies were not automatically removed.

This issue caused outdated admin metadata and policies to persist in the application.

In this release, admin metadata and policies are removed when admins are removed from the application configuration. 
//link:{LinkRHIDPIssue}RHIDP-1506[RHIDP-1506]
--

Existing Backstage operand not upgraded after upgrading operator from 1.1.x to 1.2.x::
+
--
In previous versions, there was an issue with the {product-short} Operator upgrade process that prevented operator-backed {product-short} instances from upgrading seamlessly when the {product-short} Operator itself was upgraded. This occurred because the Operator, when trying to reconcile existing {product-short} custom resources, was denied patching certain fields that are restricted or read-only by Kubernetes or {ocp-short}.

This issue led to a failure in reaching the desired state during the upgrade. 

In this update, the Operator has been refactored to overcome these issues by replacing objects forcibly when it is unable to patch them. However, as a known issue, users might need to re-create any custom labels or annotations on the underlying resources managed by the {product-short} Operator after the upgrade. 
//link:{LinkRHIDPIssue}RHIDP-2597[RHIDP-2597]
--

Failed to List Cluster Resources in Janus IDP Backstage Plugin OCM Backend Dynamic::
+
--
In previous versions, the OpenShift Cluster Manager (OCM) Plugin Readme file had no information on how to configure OCM on a Kubernetes cluster.

Due to this missing information, users were unable to configure the OCM plugin to fetch clusters, resulting in the plugin's inability to display clusters.

In this release, the Readme file has been updated to include a link for configuring OCM on a Kubernetes cluster and also provides instructions to enable access to the OCM backend plugin when the RBAC permission framework is enabled.

With these updates, users can now properly configure the OCM plugin to fetch and display clusters in the OCM front-end, ensuring the plugin operates as intended. 
//link:{LinkRHIDPIssue}RHIDP-2240[RHIDP-2240]
--

RBAC: Could not fetch catalog entities. Request failed with 403 Forbidden.::
+
--
Recent updates to Backstage required plugins that use service-to-service authentication to be updated to use the new `httpAuth` and `auth` services.

Without these updates, the RBAC Backend plugin was unable to query information from other plugins. This update modifies the RBAC Backend plugin to use the new `httpAuth` and `auth` services for service-to-service authentication.

With this fix, the RBAC Backend plugin can now successfully query information from other plugins without breaking.
//link:{LinkRHIDPIssue}RHIDP-2138[RHIDP-2138]
--

RBAC role data out-of-sync when scaling horizontally::
+
--
When scaling a {product-short} instance, role data would become out of sync due to the in-memory cache not being shared between instances.

This issue resulted in inconsistencies in role data across different instances.

With this fix, scaling a {product-short} instance will no longer lead to role data being out of sync.
//link:{LinkRHIDPIssue}RHIDP-1994[RHIDP-1994]
--

Gitlab organization synchronization not working::
+
--
Recent updates to the Gitlab plugin resulted in the failure to synchronize organization provider data.

In this release, the issue is fixed by including a wrapper for the Gitlab plugin that exposes the Gitlab organization provider.
//link:{LinkRHIDPIssue}RHIDP-1480[RHIDP-1480]
--

Helm deployment shows empty white screen and 404 errors loading static content::
+
--
A recent change to the upstream Helm chart accidentally prevented deployment of static resources. 

With the release of the {product-short} 1.2.1 Helm chart, this is fixed.
//link:{LinkRHIDPIssue}RHIDP-2931[RHIDP-2931]
--





== Fixed security issues

This section lists fixed security issues with {product} {product-version}:

link:https://access.redhat.com/security/cve/CVE-2023-6597[CVE-2023-6597]::
A flaw was found in the tempfile.TemporaryDirectory class in python3/cpython3. The class may dereference symbolic links during permission-related errors, resulting in users that run privileged programs being able to modify permissions of files referenced by the symbolic link.
//link:{LinkRHIDPIssue}RHIDP-2933[RHIDP-2933]

link:https://access.redhat.com/security/cve/CVE-2024-0450[CVE-2024-0450]::
A flaw was found in the Python/CPython 'zipfile' that can allow a zip-bomb type of attack. An attacker may craft a zip file format, leading to a Denial of Service when processed.
//link:{LinkRHIDPIssue}RHIDP-2933[RHIDP-2933]

link:https://access.redhat.com/security/cve/CVE-2024-35195[CVE-2024-35195]::
An incorrect control flow implementation vulnerability was found in Requests. If the first request in a session is made with `verify=False`, all subsequent requests to the same host ignore cert verification. 
//link:{LinkRHIDPIssue}RHIDP-1343[RHIDP-1343]

link:https://access.redhat.com/security/cve/CVE-2024-27307[CVE-2024-27307]::
A vulnerability was found that could exploit the JSONata transform operator to override properties on the Object constructor and prototype. This could result in denial of service, remote code execution, or other unforeseen behavior in applications that assess user-provided JSONata expressions. 
//link:{LinkRHIDPIssue}RHIDP-1524[RHIDP-1524]

link:https://access.redhat.com/security/cve/CVE-2024-34064[CVE-2024-34064]::
A flaw was found in jinja2. The `xmlattr filter` accepts keys containing non-attribute characters. XML/HTML attributes cannot contain spaces, /, >, or =, as each would then be interpreted as starting a separate attribute. If an application accepts keys (as opposed to only values) as user input, and renders these in pages that other users see as well, an attacker could inject other attributes and perform cross-site scripting (XSS). 
//link:{LinkRHIDPIssue}RHIDP-2315[RHIDP-2315]

link:https://access.redhat.com/security/cve/CVE-2023-45288[CVE-2023-45288]::
A vulnerability was discovered with the implementation of the HTTP/2 protocol in the Go programming language. There were insufficient limitations on the amount of CONTINUATION frames sent within a single stream. An attacker could potentially exploit this to cause a Denial of Service (DoS) attack. 
//link:{LinkRHIDPIssue}RHIDP-2760[RHIDP-2760]

link:https://access.redhat.com/security/cve/CVE-2024-27316[CVE-2024-27316]::
A vulnerability was found in how Apache httpd implements the HTTP/2 protocol. There are insufficient limitations placed on the amount of CONTINUATION frames that can be sent within a single stream. This issue could allow an unauthenticated remote attacker to send packets to vulnerable servers, which could use up memory resources to cause a DoS. 
//link:{LinkRHIDPIssue}RHIDP-2327[RHIDP-2327]
