:_mod-docs-content-type: SNIPPET

To set up the {rhbk} authentication provider in your {product-short} custom configuration, edit your custom {product-short} ConfigMap such as `app-config-rhdh`, and add the following lines to the `{my-app-config-file}` content:

[source,yaml]
----
auth:
  environment: production
  providers:
    oidc:
      production:
        metadataUrl: ${KEYCLOAK_BASE_URL}
        clientId: ${KEYCLOAK_CLIENT_ID}
        clientSecret: ${KEYCLOAK_CLIENT_SECRET}
        prompt: auto
signInPage: oidc
----

`environment: production`::
Mark the environment as `production` to hide the Guest login in the {product-short} home page.

`metadataUrl`, `clientId`, `clientSecret`::
To configure the OIDC provider with your secrets.

`sigInPage: oidc`::
To enable the OIDC provider as default sign-in provider.

`prompt: auto`::
To allow the identity provider to automatically determine whether to prompt for credentials or bypass the login redirect if an active {rhsso} session exists.
+
[NOTE]
====
If `prompt: auto` is not set, the identity provider defaults to `prompt: none`, which assumes that you are already logged in and rejects sign-in requests without an active session.
====
